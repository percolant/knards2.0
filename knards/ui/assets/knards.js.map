{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_aux","_api","host","_get_card","window","card_id","location","replace","queue","can_save","$","hasClass","removeClass","addClass","ajax","url","method","statusCode","404","done","data","text","title","tags","tag_name","insertBefore","closest","tagsIncluded","push","is_private","prop","is_creator_hidden","entries_sorted","_i","entries","j","Number","order","_i2","pathname","includes","type","createEntry","id","content","hint","rule","fail","always","setTimeout","_get_card_list","tags_included","tags_excluded","tags_included_strict","date_create_from","date_create_to","date_edit_from","date_edit_to","csrftoken","jQuery","val","addADay","JSON","stringify","page","sort","mode","headers","X-CSRFToken","Accept","Content-Type","dataType","206","200","revising","create_date","Date","edit_date","update_date","element","getTime","formatDate","insertAfter","created_by_you","know","_i3","user","user_id","created_by_others","score","dont_know","is_right","String","Math","round","revision_dates","_i4","revise_date","earliest","most_recent","css","tagline","_i5","html","username","count_seen","count_know","revision","_create_new_card","entry_type","is","_save_tags","_save_card_meta","_delete_card","undefined","_save_all_entries","each","this","attr","find","card","_save_entry","_delete_entry","element_id","_clean_up_tag","tag_id","_save_score","proc","arguments","./api","./aux","2","autosize","newElement","update","outerHeight","recountEntryOrder","deleteLoadedCards","remove","deleteLoadedEntries","checkAnswer","trial","answer","trial_fix","answer_fix","split","check","ceil","date","day","getDate","monthIndex","getMonth","year","getFullYear","date_to","date_old","month","3","Pikaday","document","ready","tagsIncludedStrict","tagsExcluded","sortable","revert","on","focus","splice","indexOf","options","getValue","list","match","enabled","onChooseEvent","theme","event","keyCode","parent","prev","pop","field","getElementById","easyAutocomplete","has_hint","blur","delegate","which","preventDefault","start","selectionStart","end","selectionEnd","substring","easy-autocomplete","pikaday","4","global","factory","define","amd","mod","keys","values","map","Map","has","key","get","set","value","delete","index","createEvent","name","Event","bubbles","evt","initEvent","assign","ta","nodeName","style","heightOffset","clientWidth","cachedHeight","pageResize","destroy","removeEventListener","Object","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","originalHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","endHeight","scrollHeight","styleHeight","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","Array","prototype","x","5","scope","EasyAutocomplete","Configuration","defaults","listLocation","xmlElementName","autocompleteOff","placeholder","ajaxCallback","matchResponseProperty","b","maxNumberOfElements","hideOnEmptyPhrase","caseSensitive","phrase","search","showAnimation","time","callback","hideAnimation","onClickEvent","onSelectItemEvent","onLoadEvent","onKeyEnterEvent","onMouseOverEvent","onMouseOutEvent","onShowListEvent","onHideListEvent","highlightPhrase","cssClasses","minCharNumber","requestDelay","adjustWidth","ajaxSettings","preparePostData","inputPhrase","loggerEnabled","template","categoriesAssigned","categories","externalObjects","printPropertiesThatDoesntExist","consol","optionsToCheck","checkPropertiesIfExist","source","target","property","log","inArray","propertyName","equals","checkDataUrlProperties","checkRequiredProperties","logger","error","category","prepareDefaults","mergeObjects","mergedObject","console","defaultUrl","defaultlistLocation","toUpperCase","defaultsGetValue","processAfterMerge","Logger","message","warning","Constans","constants","CONTAINER_CLASS","CONTAINER_ID","WRAPPER_CSS_CLASS","ListBuilderService","configuration","proccessResponseData","convertToListBuilder","builder","header","maxListSize","convertXmlToList","simpleList","init","listBuilder","updateCategories","convertXml","processData","checkIfDataExists","listBuilders","proccess","config","preparedList","findMatch","slice","toLowerCase","Template","_cssClass","emptyStringFunction","buildMethod","_fields","genericTemplates","basic","cssClass","description","fields","iconLeft","icon","iconRight","iconSrc","links","link","custom","getTemplateClass","build","elementValue","main","$input","requestDelayTimeoutId","consts","listBuilderService","checkParam","$field","$container","elementsList","selectedElement","prepareField","$elements_container","fieldWidth","$wrapper","classes","highlight","string","escapedPhrase","RegExp","next","unwrap","wrap","outerWidth","getContainerId","prepend","animationTime","slideDown","fadeIn","show","slideUp","fadeOut","hide","eq","$item","$listContainer","empty","detach","counter","builderIndex","listBuildersLength","listData","append","listDataLength","itemCounter","elementsValue","trigger","selectElement","mouseover","mouseout","after","elementId","showContainer","hideContainer","loadElements","getConstants","getConfiguration","getContainer","getSelectedItemIndex","getItems","getItemData","getSelectedItemData","bindKeyup","off","keyup","clearTimeout","loadData","settings","createAjaxSettings","focusout","fieldValue","suppressKeypress","keydown","bindEvents","eacHandles","getHandle","inputHasId","input","assignRandomId","fieldId","floor","random","setHandle","handle","fn","$this","eacHandle","inputId","6","hookCallback","some","hooks","apply","isArray","toString","isObject","isUndefined","isNumber","isDate","res","hasOwnProp","hasOwnProperty","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","getParsingFlags","m","_pf","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","isValid","_isValid","flags","parsedParts","isNowValid","_d","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","fun","len","momentProperties","copyConfig","to","from","_isAMomentObject","_f","_l","_tzm","_isUTC","_offset","_locale","updateInProgress","Moment","updateOffset","isMoment","obj","absFloor","number","toInt","argumentForCoercion","coercedNumber","isFinite","compareArrays","array1","array2","dontConvert","min","lengthDiff","abs","diffs","warn","msg","suppressDeprecationWarnings","deprecate","firstTime","deprecationHandler","arg","args","join","stack","deprecations","deprecateSimple","isFunction","Function","mergeConfigs","parentConfig","childConfig","Locale","aliases","addUnitAlias","unit","shorthand","lowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","zeroFill","targetLength","forceSign","absNumber","zerosToFill","pow","max","substr","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","token","padded","ordinal","func","localeData","formatMoment","expandFormat","array","mom","output","makeFormatFunction","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","test","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchWord","regexes","addRegexToken","regex","strictRegex","isStrict","getParseRegexForToken","regexEscape","matched","p1","p2","p3","p4","tokens","addParseToken","addWeekParseToken","_w","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","daysInYear","isLeapYear","y","parseTwoDigitYear","parseInt","getSetYear","makeGetSet","keepTime","set$1","daysInMonth","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","MONTHS_IN_FORMAT","defaultLocaleMonths","defaultLocaleMonthsShort","setMonth","dayOfMonth","getSetMonth","defaultMonthsShortRegex","defaultMonthsRegex","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","dayOfYear","weekOfYear","resWeek","weekOffset","weeksInYear","weekOffsetNext","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","d","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","computeWeekdaysParse","minp","shortp","longp","minPieces","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","globalLocale","getSetHour","baseConfig","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","LTS","LT","L","LL","LLL","LLLL","dayOfMonthOrdinalParse","relativeTime","future","past","ss","mm","h","hh","dd","M","MM","yy","meridiemParse","locales","localeFamilies","normalizeLocale","loadLocale","oldLocale","_abbr","getSetGlobalLocale","getLocale","defineLocale","abbr","_config","parentLocale","names","chooseLocale","checkOverflow","_a","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","c","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","now","_useUTC","getUTCMonth","getUTCDate","w","weekYear","temp","weekdayOverflow","GG","W","E","createLocal","_week","curWeek","gg","_dayOfYear","dayOfYearFromWeekInfo","_nextDay","ms","setFullYear","getDay","setUTCMinutes","getUTCMinutes","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","exec","configFromStringAndFormat","extractFromRFC2822Strings","yearStr","monthStr","dayStr","hourStr","minuteStr","secondStr","result","untruncateYear","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromRFC2822","weekdayStr","parsedInput","trim","parsedArray","obsOffset","militaryOffset","numOffset","hm","calculateOffset","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","isPm","meridiemHour","meridiemFixWrap","prepareConfig","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","configFromStringAndArray","createFromInputFallback","minute","second","millisecond","configFromObject","isUTC","getOwnPropertyNames","k","isObjectEmpty","add","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","duration","years","quarters","quarter","weeks","days","milliseconds","unitHasDecimal","isDurationValid","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","offset","separator","utcOffset","sign","offsetFromString","chunkOffset","matcher","matches","parts","cloneWithOffset","model","diff","clone","setTime","local","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","parseIso","base","isBefore","positiveMomentsDifference","momentsDifference","inp","isAfter","createAdder","direction","period","tmp","addSubtract","isAdding","invalid","subtract","monthDiff","wholeMonthDiff","anchor","newLocaleData","defaultFormat","defaultFormatUtc","lang","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","dayOfYearData","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetSecond","parseMs","getSetMillisecond","proto","preParsePostFormat","formats","sod","startOf","calendarFormat","asFloat","that","zoneDelta","endOf","inputString","postformat","withoutSuffix","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","unitsObj","getPrioritizedUnits","isoWeekday","toArray","toObject","toDate","toISOString","keepOffset","inspect","zone","isLocal","prefix","suffix","toJSON","unix","creationData","isoWeek","isoWeeks","weekInfo","isoWeeksInYear","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","proto$1","get$1","setter","listMonthsImpl","out","listWeekdaysImpl","localeSorted","shift","_calendar","_longDateFormat","formatUpper","_invalidDate","_ordinal","isFuture","_relativeTime","pastFuture","isFormat","_monthsShort","monthName","_monthsParseExact","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","weekdayName","_weekdaysParseExact","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","_fullWeekdaysParse","charAt","isLower","langData","mathAbs","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","alias","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","makeGetter","thresholds","abs$1","toISOString$1","Y","D","toFixed","total","totalSign","ymSign","daysSign","hmsSign","proto$2","monthsFromDays","withSuffix","posNegDuration","toIsoString","version","updateLocale","tmpLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","moment","7","root","req","hasMoment","hasEventListeners","sto","addEvent","capture","attachEvent","removeEvent","detachEvent","cn","className","getDaysInMonth","setToStartOfDay","setHours","compareDates","overwrite","hasProp","fireEvent","eventName","ev","createEventObject","adjustCalendar","bound","position","reposition","parse","defaultDate","setDefaultDate","firstDay","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","container","blurFieldOnSelect","i18n","previousMonth","nextMonth","events","onSelect","onOpen","onClose","onDraw","keyboardInput","renderDayName","opts","renderDay","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderTitle","instance","refYear","randId","monthHtml","yearHtml","_o","isMinYear","isMaxYear","renderTable","reverse","renderHead","self","_onMouseDown","_v","srcElement","prevMonth","setDate","getAttribute","_c","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_onInputChange","firedBy","_onInputFocus","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","setAttribute","createElement","appendChild","body","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","setMinDate","setMaxDate","fallback","toDateString","getMoment","setMoment","preventOnSelect","draw","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","adjustCalendars","newDay","difference","gotoToday","setStartRange","setEndRange","force","_y","_m","render","innerHTML","adjustPosition","viewportWidth","viewportHeight","left","top","clientRect","innerWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","onejan","isWeekSelected","dayNumber","monthNumber","yearNumber","dayConfig","unshift","str","v","removeChild"],"mappings":"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","file":"knards.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()({1:[function(require,module,exports){\n'use strict';\n\nvar _aux = require('./aux');\n\nvar _api = require('./api');\n\nvar host = 'http://0.0.0.0:8000';\n\nmodule.exports._get_card = function () {\n    // if no card_id set, redirect to /list/\n    if (!window.card_id) window.location.replace('/list/');\n\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._get_card)();\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: host + '/api/cards-rendered/' + window.card_id + '/',\n        method: 'GET',\n        statusCode: {\n            404: function _() {\n                window.location.replace('/list/');\n            }\n        }\n    }).done(function (data) {\n        // Fill in the card name\n        $('.card-name_input').text(data.title);\n\n        // Fill in tags\n        for (var i = 0; i < data.tags.length; i++) {\n            // visuals\n            $('<span class=\"gl_tag-include\">' + data.tags[i].tag_name + '</span>').insertBefore($('#tags-selector').closest('.easy-autocomplete'));\n\n            // logic\n            window.tagsIncluded.push(data.tags[i].tag_name);\n        }\n\n        // The rest of meta\n        if (data.is_private) $('#checkbox-private').prop('checked', true);else $('#checkbox-private').prop('checked', false);\n        if (data.is_creator_hidden) $('#checkbox-hide-creator').prop('checked', true);else $('#checkbox-hide-creator').prop('checked', false);\n\n        // Fill in entries\n        // First, sort the entries into a dictionary {1: order1, 2: order2, etc...}\n        var entries_sorted = {};\n        for (var _i = 1; _i <= data.entries.length; _i++) {\n            for (var j = 0; j < data.entries.length; j++) {\n                if (Number(data.entries[j].order) == _i) {\n                    entries_sorted[_i] = data.entries[j];\n                    // window.order++;\n                    break;\n                }\n            }\n        } // Populate the respective area with entries in the right order (we start our from 1 because we don't have order0)\n        for (var _i2 = 1; _i2 <= data.entries.length; _i2++) {\n            if (!window.location.pathname.includes('revise')) {\n                // Open Text\n                if (entries_sorted[_i2].type == 1) (0, _aux.createEntry)(1, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, '', 'edit');\n                // Hidden Text\n                if (entries_sorted[_i2].type == 2) (0, _aux.createEntry)(2, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'edit');\n                // Prompt Text\n                if (entries_sorted[_i2].type == 3) (0, _aux.createEntry)(3, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'edit', entries_sorted[_i2].rule);\n                // Open Code\n                if (entries_sorted[_i2].type == 4) (0, _aux.createEntry)(4, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, '', 'edit');\n                // Hidden Code\n                if (entries_sorted[_i2].type == 5) (0, _aux.createEntry)(5, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'edit');\n                // Prompt Code\n                if (entries_sorted[_i2].type == 6) (0, _aux.createEntry)(6, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'edit', entries_sorted[_i2].rule);\n            } else {\n                // Open Text\n                if (entries_sorted[_i2].type == 1) (0, _aux.createEntry)(1, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, '', 'revise');\n                // Hidden Text\n                if (entries_sorted[_i2].type == 2) (0, _aux.createEntry)(2, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'revise');\n                // Prompt Text\n                if (entries_sorted[_i2].type == 3) (0, _aux.createEntry)(3, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'revise', entries_sorted[_i2].rule);\n                // Open Code\n                if (entries_sorted[_i2].type == 4) (0, _aux.createEntry)(4, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, '', 'revise');\n                // Hidden Code\n                if (entries_sorted[_i2].type == 5) (0, _aux.createEntry)(5, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'revise');\n                // Prompt Code\n                if (entries_sorted[_i2].type == 6) (0, _aux.createEntry)(6, entries_sorted[_i2].id, entries_sorted[_i2].order, entries_sorted[_i2].content, entries_sorted[_i2].hint, 'revise', entries_sorted[_i2].rule);\n            }\n        }\n\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n        window.location.replace('/list/');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._get_card_list = function (tags_included, tags_excluded, tags_included_strict, date_create_from, date_create_to, date_edit_from, date_edit_to) {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._get_card_list)(tags_included, tags_excluded, tags_included_strict, date_create_from, date_create_to, date_edit_from, date_edit_to);\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    if (date_create_to) date_create_to = (0, _aux.addADay)(date_create_to);\n    if (date_edit_to) date_edit_to = (0, _aux.addADay)(date_edit_to);\n\n    $.ajax({\n        url: host + '/api/cards-rendered/',\n        method: 'PUT',\n        data: JSON.stringify({\n            page: window.page,\n            tags_included: tags_included,\n            tags_excluded: tags_excluded,\n            tags_included_strict: tags_included_strict,\n            date_create_from: date_create_from,\n            date_create_to: date_create_to,\n            date_edit_from: date_edit_from,\n            date_edit_to: date_edit_to,\n            sort: window.sort,\n            mode: window.mode\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json',\n        statusCode: {\n            206: function _() {\n                if ($('.load-more-btn').hasClass('invisible')) $('.load-more-btn').removeClass('invisible');\n            },\n            200: function _() {\n                if (!$('.load-more-btn').hasClass('invisible')) $('.load-more-btn').addClass('invisible');\n                if (typeof window.revising !== 'undefined') {\n                    if (window.revising) {\n                        $('.revise-submit-btn').text('End');\n                        window.revising = false;\n                    }\n                }\n            }\n        }\n    }).done(function (data) {\n        if (window.mode == 'list') for (var i = 0; i < data.length; i++) {\n            var create_date = new Date(data[i].create_date);\n            var edit_date = new Date(data[i].update_date);\n\n            var tags = '<ul class=\"card-tags\">';\n            for (var j = 0; j < data[i].tags.length; j++) {\n                tags += '<li>' + data[i].tags[j].tag_name + '</li>';\n            }tags += '</ul>';\n\n            var element = '<div class=\"card_wrp\" data-card-id=\"' + data[i].id + '\" data-card-create-date=\"' + create_date.getTime() + '\"  data-card-edit-date=\"' + edit_date.getTime() + '\"><a class=\"card\" href=\"/edit/' + data[i].id + '\"><h6 class=\"card-title\">' + data[i].title + '</h6><p class=\"card-create-date\">Created - ' + (0, _aux.formatDate)(create_date) + '</p><p class=\"card-edit-date\">Last edited - ' + (0, _aux.formatDate)(edit_date) + '</p>' + tags + '</a><div class=\"manipulate\"><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';\n            $(element).insertAfter($('.list-contents_wrp > [class*=\"card\"]:last-child'));\n        } else if (window.mode == 'revise-settings') {\n            $('#list-stats-total').text(data.length);\n\n            // Calculate the percentage of cards created by user\n            var created_by_you = 0;\n            var created_by_others = 0;\n            var know = 0;\n            var dont_know = 0;\n            for (var _i3 = 0; _i3 < data.length; _i3++) {\n                if (data[_i3].user.id == window.user_id) created_by_you++;else created_by_others++;\n\n                if (data[_i3].score.length == 0) dont_know++;else if (data[_i3].score[0].is_right) know++;else if (!data[_i3].score[0].is_right) dont_know++;\n            }\n            $('#list-stats-created-by-you').text(String(Math.round(Math.round(created_by_you / data.length * 100 * 100) / 10) / 10) + '%');\n            $('#list-stats-are-right').text(String(Math.round(Math.round(know / data.length * 100 * 100) / 10) / 10) + '%');\n\n            var revision_dates = [];\n            for (var _i4 = 0; _i4 < data.length; _i4++) {\n                if (data[_i4].score.length != 0) {\n                    var revise_date = new Date(data[_i4].score[0].revise_date);\n                    revision_dates.push(revise_date.getTime());\n                }\n            }\n\n            if (revision_dates.length != 0) {\n                revision_dates.sort();\n                var earliest = new Date(revision_dates[0]);\n                var most_recent = new Date(revision_dates[revision_dates.length - 1]);\n                $('#list-stats-oldest-revision').text((0, _aux.formatDate)(earliest));\n                $('#list-stats-recent-revision').text((0, _aux.formatDate)(most_recent));\n            } else {\n                $('#list-stats-oldest-revision').text('No revisions');\n                $('#list-stats-recent-revision').text('No revisions');\n            }\n        } else if (window.mode == 'revise-run') {\n            window.revising = true;\n\n            $('.tags-selector').css('display', 'none');\n            $('.date-selector').css('display', 'none');\n            $('.list-stats').css('display', 'none');\n            $('.revise-guts').css('display', 'flex');\n\n            var tagline = '';\n            for (var _i5 = 0; _i5 < data[0].tags.length; _i5++) {\n                tagline += '<span class=\"gl_tag\">' + data[0].tags[_i5].tag_name + '</span>';\n            }$('.tags_wrp').html(tagline);\n\n            var edit_date = new Date(data[0].update_date);\n            $('#card-stats-create-date').text((0, _aux.formatDate)(edit_date));\n            if (data[0].is_creator_hidden) $('#card-stats-creator').text('hidden');else $('#card-stats-creator').text(data[0].user.username);\n            $('#card-stats-count-seen').text(data[0].count_seen);\n            $('#card-stats-count-know').text(data[0].count_know);\n\n            if (data[0].score.length != 0) {\n                var revise_date = new Date(data[0].score[0].revise_date);\n                $('#card-stats-revise-date').text((0, _aux.formatDate)(revise_date));\n                window.revision = data[0].score[0].id;\n            } else {\n                $('#card-stats-revise-date').text('Never');\n            }\n\n            window.can_save = true;\n\n            window.card_id = data[0].id;\n            (0, _api._get_card)();\n        }\n\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._create_new_card = function (entry_type) {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._create_new_card)();\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var is_private = false;\n    if ($('#checkbox-private').is(':checked')) is_private = true;\n    var is_creator_hidden = false;\n    if ($('#checkbox-hide-creator').is(':checked')) is_creator_hidden = true;\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: host + '/api/cards/',\n        method: 'POST',\n        data: JSON.stringify({\n            title: $('.card-name_input').text(),\n            is_private: is_private,\n            is_creator_hidden: is_creator_hidden,\n            tags: window.tagsIncluded\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json'\n    }).done(function (data) {\n        window.card_id = data.id;\n\n        window.can_save = true;\n        window.queue = false;\n\n        (0, _api._save_tags)();\n        (0, _aux.createEntry)(entry_type, '', window.order);\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._save_card_meta = function () {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._save_card_meta)();\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if (!window.card_id) {\n        window.can_save = true;\n\n        $('.spinner').removeClass('lc_show');\n        $('.fail').addClass('lc_show');\n        return undefined;\n    }\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var is_private = false;\n    if ($('#checkbox-private').is(':checked')) is_private = true;\n    var is_creator_hidden = false;\n    if ($('#checkbox-hide-creator').is(':checked')) is_creator_hidden = true;\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: 'http://0.0.0.0:8000/api/cards/' + window.card_id + '/',\n        method: 'PUT',\n        data: JSON.stringify({\n            title: $('.card-name_input').text(),\n            is_private: is_private,\n            is_creator_hidden: is_creator_hidden,\n            tags: window.tagsIncluded\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json'\n    }).done(function (data) {\n        window.can_save = true;\n        window.queue = false;\n\n        (0, _api._save_tags)();\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._delete_card = function (card_id) {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._delete_card)(card_id);\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if (!card_id) {\n        window.can_save = true;\n\n        $('.spinner').removeClass('lc_show');\n        $('.fail').addClass('lc_show');\n        return undefined;\n    }\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: host + '/api/cards/' + card_id + '/',\n        method: 'DELETE',\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    }).done(function (data) {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._save_tags = function () {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._save_tags)();\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: host + '/api/tags/',\n        method: 'POST',\n        data: JSON.stringify({\n            card_id: window.card_id == undefined ? '' : window.card_id,\n            tags: window.tagsIncluded\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    }).done(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._save_all_entries = function () {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._save_all_entries)();\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $('.entry').each(function () {\n        var element = $(this);\n        var rule = 1;\n        if (!element.is('[data-entry-rule]')) rule = 1;else rule = Number(element.attr('data-entry-rule'));\n        // Check if we're create a new entry or updating an existing one\n        if (element.attr('data-entry-id') == '') $.ajax({\n            url: host + '/api/entries/',\n            method: 'POST',\n            data: JSON.stringify({\n                content: element.find('.entry-textarea').val(),\n                card: window.card_id,\n                type: Number(element.attr('data-entry-type')),\n                rule: rule,\n                order: Number(element.attr('data-entry-order'))\n            }),\n            headers: {\n                'X-CSRFToken': csrftoken,\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            dataType: 'json'\n        }).done(function (data) {\n            element.attr('data-entry-id', data.id);\n\n            window.can_save = true;\n            window.queue = false;\n\n            if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n        }).fail(function () {\n            window.can_save = true;\n            window.queue = false;\n\n            if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n        }).always(function () {\n            if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n        });else $.ajax({\n            url: host + '/api/entries/' + element.attr('data-entry-id') + '/',\n            method: 'PUT',\n            data: JSON.stringify({\n                content: element.find('.entry-textarea').val(),\n                card: window.card_id,\n                type: Number(element.attr('data-entry-type')),\n                hint: element.find('.hint').find('input').val(),\n                rule: rule,\n                order: Number(element.attr('data-entry-order'))\n            }),\n            headers: {\n                'X-CSRFToken': csrftoken,\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            dataType: 'json'\n        }).done(function (data) {\n            window.can_save = true;\n            window.queue = false;\n\n            if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n        }).fail(function () {\n            window.can_save = true;\n            window.queue = false;\n\n            if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n        }).always(function () {\n            if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n        });\n    });\n};\n\nmodule.exports._save_entry = function (element) {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._save_entry)(element);\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    var rule = 1;\n    if (!element.is('[data-entry-rule]')) rule = 1;else rule = Number(element.attr('data-entry-rule'));\n\n    $('.spinner').addClass('lc_show');\n\n    // Check if we're create a new entry or updating an existing one\n    if ($(element).attr('data-entry-id') == '') $.ajax({\n        url: host + '/api/entries/',\n        method: 'POST',\n        data: JSON.stringify({\n            content: $(element).find('.entry-textarea').val(),\n            card: window.card_id,\n            type: Number($(element).attr('data-entry-type')),\n            rule: rule,\n            order: Number($(element).attr('data-entry-order'))\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json'\n    }).done(function (data) {\n        $(element).attr('data-entry-id', data.id);\n\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });else $.ajax({\n        url: host + '/api/entries/' + $(element).attr('data-entry-id') + '/',\n        method: 'PUT',\n        data: JSON.stringify({\n            content: $(element).find('.entry-textarea').val(),\n            card: window.card_id,\n            type: Number($(element).attr('data-entry-type')),\n            hint: $(element).find('.hint').find('input').val(),\n            rule: rule,\n            order: Number($(element).attr('data-entry-order'))\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json'\n    }).done(function (data) {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._delete_entry = function (element_id) {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._delete_entry)(element_id);\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: host + '/api/entries/' + element_id + '/',\n        method: 'DELETE',\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    }).done(function (data) {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._clean_up_tag = function (tag_name) {\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._clean_up_tag)(tag_name);\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    $.ajax({\n        url: host + '/api/tags/',\n        method: 'GET'\n    }).done(function (data) {\n        var tag_id = 0;\n        for (var i = 0; i < data.length; i++) {\n            if (tag_name == data[i].tag_name) tag_id = data[i].id;\n        }$.ajax({\n            url: host + '/api/tags/' + tag_id + '/',\n            method: 'DELETE',\n            headers: {\n                'X-CSRFToken': csrftoken,\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).done(function (data) {\n            window.can_save = true;\n            window.queue = false;\n\n            if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n        }).fail(function () {\n            window.can_save = true;\n            window.queue = false;\n\n            if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n        }).always(function () {\n            if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n        });\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n    });\n};\n\nmodule.exports._save_score = function () {\n    var proc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'running';\n\n    window.queue = true;\n\n    // wait until previous request finishes\n    if (!window.can_save) {\n        setTimeout(function () {\n            (0, _api._save_score)(proc);\n        }, 500);\n        return undefined;\n    }\n\n    window.can_save = false;\n\n    if ($('.done').hasClass('lc_show')) $('.done').removeClass('lc_show');\n    if ($('.fail').hasClass('lc_show')) $('.fail').removeClass('lc_show');\n\n    var csrftoken = jQuery(\"[name=csrfmiddlewaretoken]\").val();\n\n    $('.spinner').addClass('lc_show');\n\n    var is_right = true;\n    $('[data-check]').each(function () {\n        if ($(this).attr('data-check') == '0') is_right = false;\n    });\n    if ($('[data-check]').length < 1) is_right = false;\n\n    // Check if we're create a new entry or updating an existing one\n    if (typeof window.revision === 'undefined') $.ajax({\n        url: host + '/api/scores/',\n        method: 'POST',\n        data: JSON.stringify({\n            card: window.card_id,\n            is_right: is_right\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json'\n    }).done(function (data) {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n        if (proc == 'last') {\n            window.location.replace('/revise/');\n        }\n    });else $.ajax({\n        url: host + '/api/scores/' + window.revision + '/',\n        method: 'PUT',\n        data: JSON.stringify({\n            card: window.card_id,\n            is_right: is_right\n        }),\n        headers: {\n            'X-CSRFToken': csrftoken,\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        dataType: 'json'\n    }).done(function (data) {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.done').hasClass('lc_show')) $('.done').addClass('lc_show');\n    }).fail(function () {\n        window.can_save = true;\n        window.queue = false;\n\n        if (window.can_save && !window.queue) if (!$('.fail').hasClass('lc_show')) $('.fail').addClass('lc_show');\n    }).always(function () {\n        if (window.can_save && !window.queue) if ($('.spinner').hasClass('lc_show')) $('.spinner').removeClass('lc_show');\n        if (proc == 'last') {\n            window.location.replace('/revise/');\n        }\n    });\n};\n\n},{\"./api\":1,\"./aux\":2}],2:[function(require,module,exports){\n'use strict';\n\nvar _api = require('./api');\n\nvar _aux = require('./aux');\n\nvar autosize = require('autosize');\n\nmodule.exports.createEntry = function (type) {\n    var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var order = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    var content = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var hint = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n    var mode = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'edit';\n    var rule = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : '2';\n\n    if (type == 1) {\n        if (mode == 'edit') var element = '<div class=\"entry open-text\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your text here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"hint-btn\"><i class=\"fa fa-life-bouy\"></i></div><div class=\"type-entry is_text\"><i class=\"text fa fa-pencil\"></i><i class=\"code fa fa-code\"></i></div><div class=\"hidden-entry is_visible\"><i class=\"visible fa fa-eye\"></i><i class=\"invisible fa fa-eye-slash\"></i></div><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';else var element = '<div class=\"entry open-text\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your text here...\"></textarea></div><div class=\"entry-menu\"></div></div>';\n\n        window.order++;\n\n        var newElement = $(element).insertAfter($('.entries_wrp > [class*=\"entry\"]:last-child'));\n        if (content) $(newElement).find('.entry-textarea').val(content);\n\n        autosize($(newElement).find('.entry-textarea'));\n        autosize.update($(newElement).find('.entry-textarea'));\n\n        $(newElement).find('.entry-textarea').css('height', $(newElement).find('.entry-textarea').outerHeight() + 10);\n\n        (0, _api._save_entry)(newElement);\n    }\n    if (type == 2) {\n        if (mode == 'edit') var element = '<div class=\"entry hidden-text\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your text here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"hint-btn\"><i class=\"fa fa-life-bouy\"></i></div><div class=\"type-entry is_text\"><i class=\"text fa fa-pencil\"></i><i class=\"code fa fa-code\"></i></div><div class=\"hidden-entry is_invisible\"><i class=\"visible fa fa-eye\"></i><i class=\"invisible fa fa-eye-slash\"></i></div><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';else var element = '<div class=\"entry hidden-text\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your text here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"show-hidden\"><i class=\"fa fa-undo\"></i></div></div></div>';\n\n        window.order++;\n\n        var newElement = $(element).insertAfter($('.entries_wrp > [class*=\"entry\"]:last-child'));\n        if (content) $(newElement).find('.entry-textarea').val(content);\n        if (hint) {\n            $(newElement).addClass('open-hint');\n            $(newElement).find('.hint').addClass('lc_show');\n            $(newElement).find('[name=\"hint\"]').val(hint);\n        }\n\n        autosize($(newElement).find('.entry-textarea'));\n        autosize.update($(newElement).find('.entry-textarea'));\n\n        $(newElement).find('.entry-textarea').css('height', $(newElement).find('.entry-textarea').outerHeight() + 10);\n\n        (0, _api._save_entry)(newElement);\n    }\n    if (type == 3) {\n        if (mode == 'edit') var element = '<div class=\"entry prompt-text\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\" data-entry-rule=\"' + rule + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter the answer here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"rule-btn\"><i class=\"fa fa-birthday-cake\"></i><i class=\"fa fa-puzzle-piece\"></i><i class=\"fa fa-gavel\"></i></div><div class=\"hint-btn\"><i class=\"fa fa-life-bouy\"></i></div><div class=\"type-entry is_text\"><i class=\"text fa fa-pencil\"></i><i class=\"code fa fa-code\"></i></div><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';else var element = '<div class=\"entry prompt-text\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\" data-entry-rule=\"' + rule + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter the answer here...\"></textarea><textarea class=\"prompt-textarea shown\" rows=\"3\" placeholder=\"Enter the answer here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"rule-btn\"><i class=\"fa fa-birthday-cake\"></i><i class=\"fa fa-puzzle-piece\"></i><i class=\"fa fa-gavel\"></i></div><div class=\"show-hidden\"><i class=\"fa fa-undo\"></i></div></div></div>';\n\n        window.order++;\n\n        var newElement = $(element).insertAfter($('.entries_wrp > [class*=\"entry\"]:last-child'));\n        if (content) $(newElement).find('.entry-textarea').val(content);\n        if (hint) {\n            $(newElement).addClass('open-hint');\n            $(newElement).find('.hint').addClass('lc_show');\n            $(newElement).find('[name=\"hint\"]').val(hint);\n        }\n\n        autosize($(newElement).find('.entry-textarea'));\n        autosize.update($(newElement).find('.entry-textarea'));\n        if (mode == 'revise') {\n            autosize($(newElement).find('.prompt-textarea'));\n            autosize.update($(newElement).find('.prompt-textarea'));\n        }\n\n        $(newElement).find('.entry-textarea').css('height', $(newElement).find('.entry-textarea').outerHeight() + 10);\n\n        (0, _api._save_entry)(newElement);\n    }\n    if (type == 4) {\n        if (mode == 'edit') var element = '<div class=\"entry open-code\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your code here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"hint-btn\"><i class=\"fa fa-life-bouy\"></i></div><div class=\"type-entry is_code\"><i class=\"text fa fa-pencil\"></i><i class=\"code fa fa-code\"></i></div><div class=\"hidden-entry is_visible\"><i class=\"visible fa fa-eye\"></i><i class=\"invisible fa fa-eye-slash\"></i></div><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';else var element = '<div class=\"entry open-code\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your code here...\"></textarea></div><div class=\"entry-menu\"></div></div>';\n\n        window.order++;\n\n        var newElement = $(element).insertAfter($('.entries_wrp > [class*=\"entry\"]:last-child'));\n        if (content) $(newElement).find('.entry-textarea').val(content);\n\n        autosize($(newElement).find('.entry-textarea'));\n        autosize.update($(newElement).find('.entry-textarea'));\n\n        $(newElement).find('.entry-textarea').css('height', $(newElement).find('.entry-textarea').outerHeight() + 10);\n\n        (0, _api._save_entry)(newElement);\n    }\n    if (type == 5) {\n        if (mode == 'edit') var element = '<div class=\"entry hidden-code\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your code here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"hint-btn\"><i class=\"fa fa-life-bouy\"></i></div><div class=\"type-entry is_code\"><i class=\"text fa fa-pencil\"></i><i class=\"code fa fa-code\"></i></div><div class=\"hidden-entry is_invisible\"><i class=\"visible fa fa-eye\"></i><i class=\"invisible fa fa-eye-slash\"></i></div><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';else var element = '<div class=\"entry hidden-code\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter your code here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"show-hidden\"><i class=\"fa fa-undo\"></i></div></div></div>';\n\n        window.order++;\n\n        var newElement = $(element).insertAfter($('.entries_wrp > [class*=\"entry\"]:last-child'));\n        if (content) $(newElement).find('.entry-textarea').val(content);\n        if (hint) {\n            $(newElement).addClass('open-hint');\n            $(newElement).find('.hint').addClass('lc_show');\n            $(newElement).find('[name=\"hint\"]').val(hint);\n        }\n\n        autosize($(newElement).find('.entry-textarea'));\n        autosize.update($(newElement).find('.entry-textarea'));\n\n        $(newElement).find('.entry-textarea').css('height', $(newElement).find('.entry-textarea').outerHeight() + 10);\n\n        (0, _api._save_entry)(newElement);\n    }\n    if (type == 6) {\n        if (mode == 'edit') var element = '<div class=\"entry prompt-code\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\" data-entry-rule=\"' + rule + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter the answer here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"rule-btn\"><i class=\"fa fa-birthday-cake\"></i><i class=\"fa fa-puzzle-piece\"></i><i class=\"fa fa-gavel\"></i></div><div class=\"hint-btn\"><i class=\"fa fa-life-bouy\"></i></div><div class=\"type-entry is_code\"><i class=\"text fa fa-pencil\"></i><i class=\"code fa fa-code\"></i></div><div class=\"delete\"><i class=\"fa fa-trash\"></i></div></div></div>';else var element = '<div class=\"entry prompt-code\" data-entry-order=\"' + order + '\" data-entry-type=\"' + type + '\" data-entry-id=\"' + id + '\" data-entry-rule=\"' + rule + '\"><div class=\"textarea gl_input\"><textarea class=\"entry-textarea\" rows=\"3\" placeholder=\"Enter the answer here...\"></textarea><textarea class=\"prompt-textarea shown\" rows=\"3\" placeholder=\"Enter the answer here...\"></textarea></div><div class=\"hint\"><input type=\"text\" name=\"hint\" placeholder=\"This is a place for some hints...\"></div><div class=\"entry-menu\"><div class=\"rule-btn\"><i class=\"fa fa-birthday-cake\"></i><i class=\"fa fa-puzzle-piece\"></i><i class=\"fa fa-gavel\"></i></div><div class=\"show-hidden\"><i class=\"fa fa-undo\"></i></div></div></div>';\n\n        window.order++;\n\n        var newElement = $(element).insertAfter($('.entries_wrp > [class*=\"entry\"]:last-child'));\n        if (content) $(newElement).find('.entry-textarea').val(content);\n        if (hint) {\n            $(newElement).addClass('open-hint');\n            $(newElement).find('.hint').addClass('lc_show');\n            $(newElement).find('[name=\"hint\"]').val(hint);\n        }\n\n        autosize($(newElement).find('.entry-textarea'));\n        autosize.update($(newElement).find('.entry-textarea'));\n        if (mode == 'revise') {\n            autosize($(newElement).find('.prompt-textarea'));\n            autosize.update($(newElement).find('.prompt-textarea'));\n        }\n\n        $(newElement).find('.entry-textarea').css('height', $(newElement).find('.entry-textarea').outerHeight() + 10);\n\n        (0, _api._save_entry)(newElement);\n    }\n};\n\nmodule.exports.recountEntryOrder = function () {\n    var order = 1;\n    $('.entry').each(function () {\n        $(this).attr('data-entry-order', order);\n        order++;\n    });\n};\n\nmodule.exports.deleteLoadedCards = function () {\n    $('.card_wrp').each(function () {\n        $(this).remove();\n    });\n};\n\nmodule.exports.deleteLoadedEntries = function () {\n    $('.entry').each(function () {\n        $(this).remove();\n    });\n};\n\nmodule.exports.checkAnswer = function (element) {\n    if ($(element).attr('data-entry-rule') == '1') {\n        var trial = $(element).find('.prompt-textarea').val();\n        var answer = $(element).find('.entry-textarea').val();\n\n        var trial_fix = trial.replace(/\\.|,/g, '');\n        var answer_fix = answer.replace(/\\.|,/g, '');\n        trial_fix = trial_fix.split(' ');\n        answer_fix = answer_fix.split(' ');\n\n        $(element).find('.gl_input').removeClass('gl_input-red');\n        $(element).find('.gl_input').removeClass('gl_input-red');\n\n        var check = 0;\n        if (trial_fix.length >= answer_fix.length) {\n            for (var i = 0; i < trial_fix.length; i++) {\n                if (!answer_fix.includes(trial_fix[i])) check++;\n            }\n        } else {\n            for (var _i = 0; _i < answer_fix.length; _i++) {\n                if (!trial_fix.includes(answer_fix[_i])) check++;\n            }\n        }\n\n        var check_percent = Math.ceil(answer_fix.length - 0.6 * answer_fix.length);\n\n        if (check >= check_percent) {\n            $(element).find('.gl_input').addClass('gl_input-red');\n            $(element).find('.gl_input').attr('data-check', '0');\n            return false;\n        }\n\n        $(element).find('.gl_input').addClass('gl_input-green');\n        $(element).find('.gl_input').attr('data-check', '1');\n        return true;\n    };\n    if ($(element).attr('data-entry-rule') == '2') {\n        var trial = $(element).find('.prompt-textarea').val();\n        var answer = $(element).find('.entry-textarea').val();\n\n        var trial_fix = trial.replace(/\\.|,/g, '');\n        var answer_fix = answer.replace(/\\.|,/g, '');\n        trial_fix = trial_fix.split(' ');\n        answer_fix = answer_fix.split(' ');\n\n        $(element).find('.gl_input').removeClass('gl_input-red');\n        $(element).find('.gl_input').removeClass('gl_input-red');\n\n        var check = 0;\n        if (trial_fix.length >= answer_fix.length) {\n            for (var _i2 = 0; _i2 < trial_fix.length; _i2++) {\n                if (!answer_fix.includes(trial_fix[_i2])) check++;\n            }\n        } else {\n            for (var _i3 = 0; _i3 < answer_fix.length; _i3++) {\n                if (!trial_fix.includes(answer_fix[_i3])) check++;\n            }\n        }\n\n        var check_percent = Math.ceil(answer_fix.length - 0.9 * answer_fix.length);\n\n        if (check >= check_percent) {\n            $(element).find('.gl_input').addClass('gl_input-red');\n            $(element).find('.gl_input').attr('data-check', '0');\n            return false;\n        }\n\n        $(element).find('.gl_input').addClass('gl_input-green');\n        $(element).find('.gl_input').attr('data-check', '1');\n        return true;\n    };\n    if ($(element).attr('data-entry-rule') == '3') {\n        var trial = $(element).find('.prompt-textarea').val();\n        var answer = $(element).find('.entry-textarea').val();\n\n        var trial_fix = trial.replace(/\\.|,/g, '');\n        var answer_fix = answer.replace(/\\.|,/g, '');\n        trial_fix = trial_fix.split(' ');\n        answer_fix = answer_fix.split(' ');\n\n        $(element).find('.gl_input').removeClass('gl_input-red');\n        $(element).find('.gl_input').removeClass('gl_input-red');\n\n        if (trial_fix.length != answer_fix.length) {\n            $(element).find('.gl_input').addClass('gl_input-red');\n            $(element).find('.gl_input').attr('data-check', '0');\n            return false;\n        }\n\n        var check = 0;\n        for (var _i4 = 0; _i4 < trial_fix.length; _i4++) {\n            if (!answer_fix.includes(trial_fix[_i4])) check++;\n        }\n\n        if (check > 0) {\n            $(element).find('.gl_input').addClass('gl_input-red');\n            $(element).find('.gl_input').attr('data-check', '0');\n            return false;\n        }\n\n        $(element).find('.gl_input').addClass('gl_input-green');\n        $(element).find('.gl_input').attr('data-check', '1');\n        return true;\n    };\n};\n\nmodule.exports.formatDate = function (date) {\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n\n    var day = date.getDate();\n    var monthIndex = date.getMonth();\n    var year = date.getFullYear();\n\n    return day + ' ' + monthNames[monthIndex] + ' ' + year;\n};\n\nmodule.exports.addADay = function (date_to) {\n    var date_old = new Date(date_to);\n    var year = date_old.getFullYear();\n    var month = date_old.getMonth();\n    var day = date_old.getDate();\n    if (month == 0) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 1) {\n        if (day == 28) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 2) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 3) {\n        if (day == 30) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 4) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 5) {\n        if (day == 30) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 6) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 7) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 8) {\n        if (day == 30) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 9) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 10) {\n        if (day == 30) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n    if (month == 11) {\n        if (day == 31) {\n            month++;\n            day = 1;\n        } else {\n            day++;\n        }\n    }\n\n    return new Date(year, month, day);\n};\n\n},{\"./api\":1,\"./aux\":2,\"autosize\":4}],3:[function(require,module,exports){\n'use strict';\n\nvar _aux = require('./aux');\n\nvar _api = require('./api');\n\nvar autosize = require('autosize');\nvar easyAutocomplete = require('easy-autocomplete');\nvar Pikaday = require('pikaday');\n\nvar host = 'http://0.0.0.0:8000';\n\n$(document).ready(function () {\n    window.can_save = false;\n    window.queue = false;\n\n    window.tagsIncluded = [];\n    window.tagsIncludedStrict = [];\n    window.tagsExcluded = [];\n    window.order = 1;\n\n    /*\n     * SPECIFIC SCRIPTS FOR /edit/\n     */\n    if (window.location.pathname.includes('edit')) {\n        window.can_save = true;\n\n        window.card_id = window.location.pathname.replace('/edit/', '');\n        window.card_id = window.card_id.replace('/', '');\n        (0, _api._get_card)();\n    }\n\n    /*\n     * SPECIFIC SCRIPTS FOR /new/ and/or /edit/\n     */\n    if (window.location.pathname.includes('new') || window.location.pathname.includes('edit')) {\n        $(\"#sortable\").sortable({\n            revert: true,\n            update: function update() {\n                (0, _aux.recountEntryOrder)();\n                (0, _api._save_all_entries)();\n            }\n        });\n\n        $(document).on('mousedown', '.entry', function () {\n            $(this).css('cursor', 'move');\n        });\n\n        $(document).on('mouseup', '.entry', function () {\n            $(this).css('cursor', 'default');\n        });\n\n        $(document).on('click', '.entry .textarea', function () {\n            $(this).find('textarea').focus();\n        });\n\n        $('#tags-selector').val('');\n        $('#checkbox-private').prop('checked', false);\n        $('#checkbox-hide-creator').prop('checked', false);\n\n        $('.card-name_input').on('blur', function () {\n            if (window.card_id) (0, _api._save_card_meta)();\n        });\n\n        $('#checkbox-private').on('click', function () {\n            if (window.card_id) (0, _api._save_card_meta)();\n        });\n\n        $('#checkbox-hide-creator').on('click', function () {\n            if (window.card_id) (0, _api._save_card_meta)();\n        });\n\n        $(document).on(\"click\", '.gl_tag-include', function () {\n            var tag_name = $(this).html();\n            window.tagsIncluded.splice(window.tagsIncluded.indexOf($(this).html()), 1);\n\n            $(this).remove();\n\n            if (window.card_id) (0, _api._save_card_meta)();\n            (0, _api._clean_up_tag)(tag_name);\n        });\n\n        var options = {\n            url: host + '/api/tags/?format=json',\n            getValue: \"tag_name\",\n            list: {\n                match: {\n                    enabled: true\n                },\n                onChooseEvent: function onChooseEvent() {\n                    if (window.tagsIncluded.indexOf($('#tags-selector').val()) === -1) {\n                        $('<span class=\"gl_tag-include\">' + $('#tags-selector').val() + '</span>').insertBefore($('#tags-selector').closest('.easy-autocomplete'));\n\n                        window.tagsIncluded.push($('#tags-selector').val());\n\n                        $('#tags-selector').val('');\n\n                        window.can_save = true;\n                        (0, _api._save_tags)();\n                        window.can_save = false;\n                    }\n                }\n            },\n            theme: \"square\"\n        };\n\n        // Various handlers for tags-selector\n        $('#tags-selector').on('keydown', function (event) {\n            // Check if enter\n            if (event.keyCode == 13) {\n                if (window.tagsIncluded.indexOf($('#tags-selector').val()) === -1) {\n                    $('<span class=\"gl_tag-include\">' + $('#tags-selector').val() + '</span>').insertBefore($('#tags-selector').closest('.easy-autocomplete'));\n\n                    window.tagsIncluded.push($('#tags-selector').val());\n\n                    setTimeout(function () {\n                        $('#tags-selector').val('');\n                    }, 10);\n\n                    window.can_save = true;\n                    (0, _api._save_tags)();\n                    window.can_save = false;\n                }\n            }\n            // Check if backspace\n            if (event.keyCode == 8) {\n                if ($(this).val() === '') {\n                    var tag_name = $('#tags-selector').parent().prev().html();\n                    $('#tags-selector').parent().prev().remove();\n\n                    window.tagsIncluded.pop();\n\n                    if (window.card_id) (0, _api._save_card_meta)();\n                    (0, _api._clean_up_tag)(tag_name);\n                }\n            }\n        });\n    }\n\n    /*\n     * SPECIFIC SCRIPTS FOR /list/\n     */\n    if (window.location.pathname.includes('list')) {\n        window.mode = 'list';\n    }\n\n    /*\n     * SPECIFIC SCRIPTS FOR /revise/\n     */\n    if (window.location.pathname.includes('revise')) {\n        window.mode = 'revise-settings';\n\n        $('.revise-go-btn').on('click', function () {\n            window.mode = 'revise-run';\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $('.revise-submit-btn').on('click', function () {\n            if ($(this).text() == 'End') {\n                (0, _api._save_score)('last');\n                return undefined;\n            }\n            (0, _api._save_score)();\n            (0, _aux.deleteLoadedEntries)();\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n            window.page++;\n        });\n\n        $(document).on('blur', '.prompt-textarea', function () {\n            (0, _aux.checkAnswer)($(this).parent().parent());\n        });\n\n        $(document).on('click', '.show-hidden', function () {\n            $(this).parent().parent().find('.prompt-textarea').css('display', 'none');\n            $(this).parent().parent().find('.entry-textarea').css('display', 'initial');\n            autosize($(this).parent().parent().find('.entry-textarea'));\n            autosize.update($(this).parent().parent().find('.entry-textarea'));\n            $(this).parent().parent().find('.gl_input').addClass('gl_input-red');\n            $(this).parent().parent().find('.gl_input').attr('data-check', '0');\n            $(this).parent().parent().find('.entry-menu').css('display', 'none');\n        });\n    }\n\n    /*\n     * SPECIFIC SCRIPTS FOR /list/ AND/OR /revise/\n     */\n    if (window.location.pathname.includes('list') || window.location.pathname.includes('revise')) {\n        window.can_save = true;\n\n        window.page = 1;\n        window.sort = 'edit_date_desc';\n        (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n\n        $('.load-more-btn').on('click', function () {\n            window.page++;\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $('#datepicker-create-from').val('');\n        $('#datepicker-create-to').val('');\n        $('#datepicker-edit-from').val('');\n        $('#datepicker-edit-to').val('');\n\n        var picker_create_from = new Pikaday({ field: document.getElementById('datepicker-create-from') });\n        var picker_create_to = new Pikaday({ field: document.getElementById('datepicker-create-to') });\n        var picker_edit_from = new Pikaday({ field: document.getElementById('datepicker-edit-from') });\n        var picker_edit_to = new Pikaday({ field: document.getElementById('datepicker-edit-to') });\n\n        $('#datepicker-create-from').on('change', function () {\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $('#datepicker-create-to').on('change', function () {\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $('#datepicker-edit-from').on('change', function () {\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $('#datepicker-edit-to').on('change', function () {\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        var options = {\n            url: host + '/api/tags/?format=json',\n            getValue: \"tag_name\",\n            list: {\n                match: {\n                    enabled: true\n                },\n                onChooseEvent: function onChooseEvent() {\n                    if (window.tagsIncluded.indexOf($('#tags-selector').val()) === -1) {\n                        $('<span class=\"gl_tag-include\">' + $('#tags-selector').val() + '</span>').insertBefore($('#tags-selector').closest('.easy-autocomplete'));\n\n                        window.tagsIncluded.push($('#tags-selector').val());\n\n                        $('#tags-selector').val('');\n\n                        window.page = 1;\n                        (0, _aux.deleteLoadedCards)();\n                        (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n                    }\n                }\n            },\n            theme: \"square\"\n        };\n\n        // Various handlers for tags-selector\n        $('#tags-selector').on('keydown', function (event) {\n            // Check if enter\n            if (event.keyCode == 13) {\n                if (window.tagsIncluded.indexOf($('#tags-selector').val()) === -1) {\n                    $('<span class=\"gl_tag-include\">' + $('#tags-selector').val() + '</span>').insertBefore($('#tags-selector').closest('.easy-autocomplete'));\n\n                    window.tagsIncluded.push($('#tags-selector').val());\n\n                    setTimeout(function () {\n                        $('#tags-selector').val('');\n                    }, 10);\n\n                    window.page = 1;\n                    (0, _aux.deleteLoadedCards)();\n\n                    (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n                }\n            }\n            // Check if backspace\n            if (event.keyCode == 8) {\n                if ($(this).val() === '') {\n                    $('#tags-selector').parent().prev().remove();\n\n                    window.tagsIncluded.pop();\n\n                    window.page = 1;\n                    (0, _aux.deleteLoadedCards)();\n\n                    (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n                }\n            }\n        });\n\n        $(document).on(\"click\", '.gl_tag-include', function () {\n            window.tagsIncluded.splice(window.tagsIncluded.indexOf($(this).html()), 1);\n            $(this).removeClass('gl_tag-include');\n\n            $(this).addClass('gl_tag-include-strict');\n            window.tagsIncludedStrict.push($(this).text());\n\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $(document).on(\"click\", '.gl_tag-include-strict', function () {\n            window.tagsIncludedStrict.splice(window.tagsIncludedStrict.indexOf($(this).html()), 1);\n            $(this).removeClass('gl_tag-include-strict');\n\n            $(this).addClass('gl_tag-exclude');\n            window.tagsExcluded.push($(this).text());\n\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $(document).on(\"click\", '.gl_tag-exclude', function () {\n            window.tagsExcluded.splice(window.tagsExcluded.indexOf($(this).html()), 1);\n            $(this).remove();\n\n            window.page = 1;\n            (0, _aux.deleteLoadedCards)();\n\n            (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n        });\n\n        $(document).on(\"click\", '.delete', function () {\n            (0, _api._delete_card)($(this).closest('.card_wrp').attr('data-card-id'));\n            $(this).closest('.card_wrp').remove();\n        });\n\n        $('.sort-create-new-to-old').on('click', function () {\n            if (!$(this).hasClass('active')) {\n                $('.sort-create-new-to-old').addClass('active');\n                $('.sort-create-old-to-new').removeClass('active');\n                $('.sort-edit-new-to-old').removeClass('active');\n                $('.sort-edit-old-to-new').removeClass('active');\n\n                window.page = 1;\n                window.sort = 'create_date_desc';\n\n                (0, _aux.deleteLoadedCards)();\n                (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n            }\n        });\n        $('.sort-create-old-to-new').on('click', function () {\n            if (!$(this).hasClass('active')) {\n                $('.sort-create-new-to-old').removeClass('active');\n                $('.sort-create-old-to-new').addClass('active');\n                $('.sort-edit-new-to-old').removeClass('active');\n                $('.sort-edit-old-to-new').removeClass('active');\n\n                window.page = 1;\n                window.sort = 'create_date_asc';\n\n                (0, _aux.deleteLoadedCards)();\n                (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n            }\n        });\n        $('.sort-edit-new-to-old').on('click', function () {\n            if (!$(this).hasClass('active')) {\n                $('.sort-create-new-to-old').removeClass('active');\n                $('.sort-create-old-to-new').removeClass('active');\n                $('.sort-edit-new-to-old').addClass('active');\n                $('.sort-edit-old-to-new').removeClass('active');\n\n                window.page = 1;\n                window.sort = 'edit_date_desc';\n\n                (0, _aux.deleteLoadedCards)();\n                (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n            }\n        });\n        $('.sort-edit-old-to-new').on('click', function () {\n            if (!$(this).hasClass('active')) {\n                $('.sort-create-new-to-old').removeClass('active');\n                $('.sort-create-old-to-new').removeClass('active');\n                $('.sort-edit-new-to-old').removeClass('active');\n                $('.sort-edit-old-to-new').addClass('active');\n\n                window.page = 1;\n                window.sort = 'edit_date_asc';\n\n                (0, _aux.deleteLoadedCards)();\n                (0, _api._get_card_list)(window.tagsIncluded, window.tagsExcluded, window.tagsIncludedStrict, $('#datepicker-create-from').val(), $('#datepicker-create-to').val(), $('#datepicker-edit-from').val(), $('#datepicker-edit-to').val());\n            }\n        });\n    }\n\n    $('#tags-selector').easyAutocomplete(options);\n});\n\n/*\n * COMMON SCRIPTS\n */\n// Create a new entry on btn click (Open Text type 1)\n$('.new-entry-prompt').on('click', function () {\n    if (!window.card_id) {\n        window.can_save = true;\n        (0, _api._create_new_card)(3);\n    } else {\n        (0, _aux.createEntry)(3, '', window.order);\n    }\n});\n\n// Create a new entry on btn click (Hidden Text type 2)\n$('.new-entry-text').on('click', function () {\n    if (!window.card_id) {\n        window.can_save = true;\n        (0, _api._create_new_card)(1);\n    } else {\n        (0, _aux.createEntry)(1, '', window.order);\n    }\n});\n\n// Handler on Delete btn on each entry\n$(document).on('click', '.entry-menu .delete', function () {\n    var element_id = $(this).parent().parent().attr('data-entry-id');\n    $(this).parent().parent().remove();\n    window.order--;\n    (0, _aux.recountEntryOrder)();\n    (0, _api._delete_entry)(element_id);\n    (0, _api._save_all_entries)();\n});\n\n// Handle entries textarea changes\n$(document).on('blur', '.entry-textarea', function () {\n    (0, _api._save_entry)($(this).parent().parent());\n});\n\n$(document).on('click', '.entry-menu .hidden-entry', function () {\n    if ($(this).hasClass('is_visible')) {\n        $(this).addClass('is_invisible');\n        $(this).removeClass('is_visible');\n        var has_hint = false;\n        if ($(this).parent().parent().find('[name=\"hint\"]').val() !== '') has_hint = true;\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_text')) $(this).parent().parent().attr('class', 'entry hidden-text');\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_code')) $(this).parent().parent().attr('class', 'entry hidden-code');\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_text')) $(this).parent().parent().attr('data-entry-type', '2');\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_code')) $(this).parent().parent().attr('data-entry-type', '5');\n        if (has_hint) {\n            $(this).parent().parent().attr('class', $(this).parent().parent().attr('class') + ' open-hint');\n            $(this).parent().parent().find('.hint').addClass('lc_show');\n        }\n        (0, _api._save_entry)($(this).parent().parent());\n    } else {\n        $(this).addClass('is_visible');\n        $(this).removeClass('is_invisible');\n        $('[name=\"hint\"]').blur();\n        var has_hint = false;\n        if ($(this).parent().parent().find('[name=\"hint\"]').val() !== '') has_hint = true;\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_text')) $(this).parent().parent().attr('class', 'entry open-text');\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_code')) $(this).parent().parent().attr('class', 'entry open-code');\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_text')) $(this).parent().parent().attr('data-entry-type', '1');\n        if ($(this).parent().parent().find('.type-entry').hasClass('is_code')) $(this).parent().parent().attr('data-entry-type', '4');\n        if (has_hint) {\n            if ($(this).parent().parent().find('.hint').hasClass('lc_show')) $(this).parent().parent().find('.hint').removeClass('lc_show');\n        }\n        (0, _api._save_entry)($(this).parent().parent());\n    }\n});\n\n$(document).on('click', '.entry-menu .type-entry', function () {\n    if ($(this).hasClass('is_text')) {\n        $(this).addClass('is_code');\n        $(this).removeClass('is_text');\n        var has_hint = false;\n        if ($(this).parent().parent().hasClass('open-hint')) has_hint = true;\n        if ($(this).parent().parent().find('.hidden-entry').length < 1) $(this).parent().parent().attr('class', 'entry prompt-code');\n        if ($(this).parent().parent().find('.hidden-entry').length < 1) $(this).parent().parent().attr('data-entry-type', '6');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_visible')) $(this).parent().parent().attr('class', 'entry open-code');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_invisible')) $(this).parent().parent().attr('class', 'entry hidden-code');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_visible')) $(this).parent().parent().attr('data-entry-type', '4');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_invisible')) $(this).parent().parent().attr('data-entry-type', '5');\n        if (has_hint) $(this).parent().parent().attr('class', $(this).parent().parent().attr('class') + ' open-hint');\n        (0, _api._save_entry)($(this).parent().parent());\n    } else {\n        $(this).addClass('is_text');\n        $(this).removeClass('is_code');\n        var has_hint = false;\n        if ($(this).parent().parent().hasClass('open-hint')) has_hint = true;\n        if ($(this).parent().parent().find('.hidden-entry').length < 1) $(this).parent().parent().attr('class', 'entry prompt-text');\n        if ($(this).parent().parent().find('.hidden-entry').length < 1) $(this).parent().parent().attr('data-entry-type', '3');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_visible')) $(this).parent().parent().attr('class', 'entry open-text');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_invisible')) $(this).parent().parent().attr('class', 'entry hidden-text');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_visible')) $(this).parent().parent().attr('data-entry-type', '1');\n        if ($(this).parent().parent().find('.hidden-entry').hasClass('is_invisible')) $(this).parent().parent().attr('data-entry-type', '2');\n        if (has_hint) $(this).parent().parent().attr('class', $(this).parent().parent().attr('class') + ' open-hint');\n        (0, _api._save_entry)($(this).parent().parent());\n    }\n});\n\n$(document).on('click', '.entry-menu .rule-btn', function () {\n    if ($(this).parent().parent().attr('data-entry-rule') == '1') $(this).parent().parent().attr('data-entry-rule', '2');else if ($(this).parent().parent().attr('data-entry-rule') == '2') $(this).parent().parent().attr('data-entry-rule', '3');else if ($(this).parent().parent().attr('data-entry-rule') == '3') $(this).parent().parent().attr('data-entry-rule', '1');\n    (0, _api._save_entry)($(this).parent().parent());\n});\n\n$(document).on('click', '.hint-btn', function () {\n    if (!$(this).parent().parent().hasClass('open-hint')) $(this).parent().parent().addClass('open-hint');else $(this).parent().parent().removeClass('open-hint');\n    if (!$(this).parent().parent().find('.hint').hasClass('lc_show')) $(this).parent().parent().find('.hint').addClass('lc_show');else $(this).parent().parent().find('.hint').removeClass('lc_show');\n    $(this).parent().parent().find('[name=\"hint\"]').focus();\n});\n\n// Handle the changes in hint\n$(document).on('blur', '[name=\"hint\"]', function () {\n    if ($(this).val() === '') {\n        if ($(this).parent().parent().hasClass('open-hint')) $(this).parent().parent().removeClass('open-hint');\n        $(this).parent().removeClass('lc_show');\n    } else {\n        (0, _api._save_entry)($(this).parent().parent());\n    }\n});\n\n// tab to tab when inside a textarea\n$(document).delegate('.entry-textarea', 'keydown', function (e) {\n    var keyCode = e.keyCode || e.which;\n\n    if (keyCode == 9) {\n        e.preventDefault();\n        var start = this.selectionStart;\n        var end = this.selectionEnd;\n\n        // set textarea value to: text before caret + tab + text after caret\n        $(this).val($(this).val().substring(0, start) + \"\\t\" + $(this).val().substring(end));\n\n        // put caret at right position again\n        this.selectionStart = this.selectionEnd = start + 1;\n    }\n});\n\n// forbid usage of Enter and Tab while typing the name of a card\n$('.card-name_input').on('keydown', function (e) {\n    var keyCode = e.keyCode || e.which;\n\n    if (keyCode == 13) {\n        $(this).blur();\n    }\n\n    if (keyCode == 9) {\n        $(this).blur();\n    }\n});\n\n},{\"./api\":1,\"./aux\":2,\"autosize\":4,\"easy-autocomplete\":5,\"pikaday\":7}],4:[function(require,module,exports){\n/*!\n\tAutosize 4.0.0\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['exports', 'module'], factory);\n\t} else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n\t\tfactory(exports, module);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod.exports, mod);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (exports, module) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : (function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\t'delete': function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t})();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function (name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = ta.clientWidth;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tvar originalHeight = ta.style.height;\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\n\t\t\tvar endHeight = ta.scrollHeight + heightOffset;\n\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\tta.style.height = originalHeight;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tta.style.height = endHeight + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that\n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight !== styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = (function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap['delete'](ta);\n\t\t}).bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function (el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\tmodule.exports = autosize;\n});\n},{}],5:[function(require,module,exports){\n/*\r\n * easy-autocomplete\r\n * jQuery plugin for autocompletion\r\n * \r\n * @author ukasz Paweczak (http://github.com/pawelczak)\r\n * @version 1.3.5\r\n * Copyright  License: \r\n */\r\n\r\n/*\r\n * EasyAutocomplete - Configuration \r\n */\r\nvar EasyAutocomplete = (function(scope){\r\n\r\n\tscope.Configuration = function Configuration(options) {\r\n\t\tvar defaults = {\r\n\t\t\tdata: \"list-required\",\r\n\t\t\turl: \"list-required\",\r\n\t\t\tdataType: \"json\",\r\n\r\n\t\t\tlistLocation: function(data) {\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\r\n\t\t\txmlElementName: \"\",\r\n\r\n\t\t\tgetValue: function(element) {\r\n\t\t\t\treturn element;\r\n\t\t\t},\r\n\r\n\t\t\tautocompleteOff: true,\r\n\r\n\t\t\tplaceholder: false,\r\n\r\n\t\t\tajaxCallback: function() {},\r\n\r\n\t\t\tmatchResponseProperty: false,\r\n\r\n\t\t\tlist: {\r\n\t\t\t\tsort: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t\tmethod: function(a, b) {\r\n\t\t\t\t\t\ta = defaults.getValue(a);\r\n\t\t\t\t\t\tb = defaults.getValue(b);\r\n\t\t\t\t\t\tif (a < b) {\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (a > b) {\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmaxNumberOfElements: 6,\r\n\r\n\t\t\t\thideOnEmptyPhrase: true,\r\n\r\n\t\t\t\tmatch: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t\tcaseSensitive: false,\r\n\t\t\t\t\tmethod: function(element, phrase) {\r\n\r\n\t\t\t\t\t\tif (element.search(phrase) > -1) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tshowAnimation: {\r\n\t\t\t\t\ttype: \"normal\", //normal|slide|fade\r\n\t\t\t\t\ttime: 400,\r\n\t\t\t\t\tcallback: function() {}\r\n\t\t\t\t},\r\n\r\n\t\t\t\thideAnimation: {\r\n\t\t\t\t\ttype: \"normal\",\r\n\t\t\t\t\ttime: 400,\r\n\t\t\t\t\tcallback: function() {}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t/* Events */\r\n\t\t\t\tonClickEvent: function() {},\r\n\t\t\t\tonSelectItemEvent: function() {},\r\n\t\t\t\tonLoadEvent: function() {},\r\n\t\t\t\tonChooseEvent: function() {},\r\n\t\t\t\tonKeyEnterEvent: function() {},\r\n\t\t\t\tonMouseOverEvent: function() {},\r\n\t\t\t\tonMouseOutEvent: function() {},\t\r\n\t\t\t\tonShowListEvent: function() {},\r\n\t\t\t\tonHideListEvent: function() {}\r\n\t\t\t},\r\n\r\n\t\t\thighlightPhrase: true,\r\n\r\n\t\t\ttheme: \"\",\r\n\r\n\t\t\tcssClasses: \"\",\r\n\r\n\t\t\tminCharNumber: 0,\r\n\r\n\t\t\trequestDelay: 0,\r\n\r\n\t\t\tadjustWidth: true,\r\n\r\n\t\t\tajaxSettings: {},\r\n\r\n\t\t\tpreparePostData: function(data, inputPhrase) {return data;},\r\n\r\n\t\t\tloggerEnabled: true,\r\n\r\n\t\t\ttemplate: \"\",\r\n\r\n\t\t\tcategoriesAssigned: false,\r\n\r\n\t\t\tcategories: [{\r\n\t\t\t\tmaxNumberOfElements: 4\r\n\t\t\t}]\r\n\r\n\t\t};\r\n\t\t\r\n\t\tvar externalObjects = [\"ajaxSettings\", \"template\"];\r\n\r\n\t\tthis.get = function(propertyName) {\r\n\t\t\treturn defaults[propertyName];\r\n\t\t};\r\n\r\n\t\tthis.equals = function(name, value) {\r\n\t\t\tif (isAssigned(name)) {\r\n\t\t\t\tif (defaults[name] === value) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\t\tthis.checkDataUrlProperties = function() {\r\n\t\t\tif (defaults.url === \"list-required\" && defaults.data === \"list-required\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\t\tthis.checkRequiredProperties = function() {\r\n\t\t\tfor (var propertyName in defaults) {\r\n\t\t\t\tif (defaults[propertyName] === \"required\") {\r\n\t\t\t\t\tlogger.error(\"Option \" + propertyName + \" must be defined\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tthis.printPropertiesThatDoesntExist = function(consol, optionsToCheck) {\r\n\t\t\tprintPropertiesThatDoesntExist(consol, optionsToCheck);\r\n\t\t};\r\n\r\n\r\n\t\tprepareDefaults();\r\n\r\n\t\tmergeOptions();\r\n\r\n\t\tif (defaults.loggerEnabled === true) {\r\n\t\t\tprintPropertiesThatDoesntExist(console, options);\t\r\n\t\t}\r\n\r\n\t\taddAjaxSettings();\r\n\r\n\t\tprocessAfterMerge();\r\n\t\tfunction prepareDefaults() {\r\n\r\n\t\t\tif (options.dataType === \"xml\") {\r\n\t\t\t\t\r\n\t\t\t\tif (!options.getValue) {\r\n\r\n\t\t\t\t\toptions.getValue = function(element) {\r\n\t\t\t\t\t\treturn $(element).text();\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\tif (!options.list) {\r\n\r\n\t\t\t\t\toptions.list = {};\r\n\t\t\t\t} \r\n\r\n\t\t\t\tif (!options.list.sort) {\r\n\t\t\t\t\toptions.list.sort = {};\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\toptions.list.sort.method = function(a, b) {\r\n\t\t\t\t\ta = options.getValue(a);\r\n\t\t\t\t\tb = options.getValue(b);\r\n\t\t\t\t\tif (a < b) {\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a > b) {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (!options.list.match) {\r\n\t\t\t\t\toptions.list.match = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\toptions.list.match.method = function(element, phrase) {\r\n\r\n\t\t\t\t\tif (element.search(phrase) > -1) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\t\t\tif (options.categories !== undefined && options.categories instanceof Array) {\r\n\r\n\t\t\t\tvar categories = [];\r\n\r\n\t\t\t\tfor (var i = 0, length = options.categories.length; i < length; i += 1) { \r\n\r\n\t\t\t\t\tvar category = options.categories[i];\r\n\r\n\t\t\t\t\tfor (var property in defaults.categories[0]) {\r\n\r\n\t\t\t\t\t\tif (category[property] === undefined) {\r\n\t\t\t\t\t\t\tcategory[property] = defaults.categories[0][property];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcategories.push(category);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toptions.categories = categories;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction mergeOptions() {\r\n\r\n\t\t\tdefaults = mergeObjects(defaults, options);\r\n\r\n\t\t\tfunction mergeObjects(source, target) {\r\n\t\t\t\tvar mergedObject = source || {};\r\n\r\n\t\t\t\tfor (var propertyName in source) {\r\n\t\t\t\t\tif (target[propertyName] !== undefined && target[propertyName] !== null) {\r\n\r\n\t\t\t\t\t\tif (typeof target[propertyName] !== \"object\" || \r\n\t\t\t\t\t\t\t\ttarget[propertyName] instanceof Array) {\r\n\t\t\t\t\t\t\tmergedObject[propertyName] = target[propertyName];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmergeObjects(source[propertyName], target[propertyName]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t/* If data is an object */\r\n\t\t\t\tif (target.data !== undefined && target.data !== null && typeof target.data === \"object\") {\r\n\t\t\t\t\tmergedObject.data = target.data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn mergedObject;\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\r\n\t\tfunction processAfterMerge() {\r\n\t\t\t\r\n\t\t\tif (defaults.url !== \"list-required\" && typeof defaults.url !== \"function\") {\r\n\t\t\t\tvar defaultUrl = defaults.url;\r\n\t\t\t\tdefaults.url = function() {\r\n\t\t\t\t\treturn defaultUrl;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (defaults.ajaxSettings.url !== undefined && typeof defaults.ajaxSettings.url !== \"function\") {\r\n\t\t\t\tvar defaultUrl = defaults.ajaxSettings.url;\r\n\t\t\t\tdefaults.ajaxSettings.url = function() {\r\n\t\t\t\t\treturn defaultUrl;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof defaults.listLocation === \"string\") {\r\n\t\t\t\tvar defaultlistLocation = defaults.listLocation;\r\n\r\n\t\t\t\tif (defaults.dataType.toUpperCase() === \"XML\") {\r\n\t\t\t\t\tdefaults.listLocation = function(data) {\r\n\t\t\t\t\t\treturn $(data).find(defaultlistLocation);\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefaults.listLocation = function(data) {\r\n\t\t\t\t\t\treturn data[defaultlistLocation];\r\n\t\t\t\t\t};\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof defaults.getValue === \"string\") {\r\n\t\t\t\tvar defaultsGetValue = defaults.getValue;\r\n\t\t\t\tdefaults.getValue = function(element) {\r\n\t\t\t\t\treturn element[defaultsGetValue];\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (options.categories !== undefined) {\r\n\t\t\t\tdefaults.categoriesAssigned = true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction addAjaxSettings() {\r\n\r\n\t\t\tif (options.ajaxSettings !== undefined && typeof options.ajaxSettings === \"object\") {\r\n\t\t\t\tdefaults.ajaxSettings = options.ajaxSettings;\r\n\t\t\t} else {\r\n\t\t\t\tdefaults.ajaxSettings = {};\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction isAssigned(name) {\r\n\t\t\tif (defaults[name] !== undefined && defaults[name] !== null) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction printPropertiesThatDoesntExist(consol, optionsToCheck) {\r\n\t\t\t\r\n\t\t\tcheckPropertiesIfExist(defaults, optionsToCheck);\r\n\r\n\t\t\tfunction checkPropertiesIfExist(source, target) {\r\n\t\t\t\tfor(var property in target) {\r\n\t\t\t\t\tif (source[property] === undefined) {\r\n\t\t\t\t\t\tconsol.log(\"Property '\" + property + \"' does not exist in EasyAutocomplete options API.\");\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof source[property] === \"object\" && $.inArray(property, externalObjects) === -1) {\r\n\t\t\t\t\t\tcheckPropertiesIfExist(source[property], target[property]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - Logger \r\n */\r\nvar EasyAutocomplete = (function(scope){\r\n\t\r\n\tscope.Logger = function Logger() {\r\n\r\n\t\tthis.error = function(message) {\r\n\t\t\tconsole.log(\"ERROR: \" + message);\r\n\t\t};\r\n\r\n\t\tthis.warning = function(message) {\r\n\t\t\tconsole.log(\"WARNING: \" + message);\r\n\t\t};\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\t\r\n\r\n/*\r\n * EasyAutocomplete - Constans\r\n */\r\nvar EasyAutocomplete = (function(scope){\t\r\n\t\r\n\tscope.Constans = function Constans() {\r\n\t\tvar constants = {\r\n\t\t\tCONTAINER_CLASS: \"easy-autocomplete-container\",\r\n\t\t\tCONTAINER_ID: \"eac-container-\",\r\n\r\n\t\t\tWRAPPER_CSS_CLASS: \"easy-autocomplete\"\r\n\t\t};\r\n\r\n\t\tthis.getValue = function(propertyName) {\r\n\t\t\treturn constants[propertyName];\r\n\t\t};\r\n\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n/*\r\n * EasyAutocomplete - ListBuilderService \r\n *\r\n * @author ukasz Paweczak \r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope) {\r\n\r\n\tscope.ListBuilderService = function ListBuilderService(configuration, proccessResponseData) {\r\n\r\n\r\n\t\tthis.init = function(data) {\r\n\t\t\tvar listBuilder = [],\r\n\t\t\t\tbuilder = {};\r\n\r\n\t\t\tbuilder.data = configuration.get(\"listLocation\")(data);\r\n\t\t\tbuilder.getValue = configuration.get(\"getValue\");\r\n\t\t\tbuilder.maxListSize = configuration.get(\"list\").maxNumberOfElements;\r\n\r\n\t\t\t\t\r\n\t\t\tlistBuilder.push(builder);\r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.updateCategories = function(listBuilder, data) {\r\n\t\t\t\r\n\t\t\tif (configuration.get(\"categoriesAssigned\")) {\r\n\r\n\t\t\t\tlistBuilder = [];\r\n\r\n\t\t\t\tfor(var i = 0; i < configuration.get(\"categories\").length; i += 1) {\r\n\r\n\t\t\t\t\tvar builder = convertToListBuilder(configuration.get(\"categories\")[i], data);\r\n\r\n\t\t\t\t\tlistBuilder.push(builder);\r\n\t\t\t\t}\r\n\r\n\t\t\t} \r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.convertXml = function(listBuilder) {\r\n\t\t\tif(configuration.get(\"dataType\").toUpperCase() === \"XML\") {\r\n\r\n\t\t\t\tfor(var i = 0; i < listBuilder.length; i += 1) {\r\n\t\t\t\t\tlistBuilder[i].data = convertXmlToList(listBuilder[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.processData = function(listBuilder, inputPhrase) {\r\n\r\n\t\t\tfor(var i = 0, length = listBuilder.length; i < length; i+=1) {\r\n\t\t\t\tlistBuilder[i].data = proccessResponseData(configuration, listBuilder[i], inputPhrase);\r\n\t\t\t}\r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.checkIfDataExists = function(listBuilders) {\r\n\r\n\t\t\tfor(var i = 0, length = listBuilders.length; i < length; i += 1) {\r\n\r\n\t\t\t\tif (listBuilders[i].data !== undefined && listBuilders[i].data instanceof Array) {\r\n\t\t\t\t\tif (listBuilders[i].data.length > 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tfunction convertToListBuilder(category, data) {\r\n\r\n\t\t\tvar builder = {};\r\n\r\n\t\t\tif(configuration.get(\"dataType\").toUpperCase() === \"XML\") {\r\n\r\n\t\t\t\tbuilder = convertXmlToListBuilder();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder = convertDataToListBuilder();\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (category.header !== undefined) {\r\n\t\t\t\tbuilder.header = category.header;\r\n\t\t\t}\r\n\r\n\t\t\tif (category.maxNumberOfElements !== undefined) {\r\n\t\t\t\tbuilder.maxNumberOfElements = category.maxNumberOfElements;\r\n\t\t\t}\r\n\r\n\t\t\tif (configuration.get(\"list\").maxNumberOfElements !== undefined) {\r\n\r\n\t\t\t\tbuilder.maxListSize = configuration.get(\"list\").maxNumberOfElements;\r\n\t\t\t}\r\n\r\n\t\t\tif (category.getValue !== undefined) {\r\n\r\n\t\t\t\tif (typeof category.getValue === \"string\") {\r\n\t\t\t\t\tvar defaultsGetValue = category.getValue;\r\n\t\t\t\t\tbuilder.getValue = function(element) {\r\n\t\t\t\t\t\treturn element[defaultsGetValue];\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (typeof category.getValue === \"function\") {\r\n\t\t\t\t\tbuilder.getValue = category.getValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tbuilder.getValue = configuration.get(\"getValue\");\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\treturn builder;\r\n\r\n\r\n\t\t\tfunction convertXmlToListBuilder() {\r\n\r\n\t\t\t\tvar builder = {},\r\n\t\t\t\t\tlistLocation;\r\n\r\n\t\t\t\tif (category.xmlElementName !== undefined) {\r\n\t\t\t\t\tbuilder.xmlElementName = category.xmlElementName;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (category.listLocation !== undefined) {\r\n\r\n\t\t\t\t\tlistLocation = category.listLocation;\r\n\t\t\t\t} else if (configuration.get(\"listLocation\") !== undefined) {\r\n\r\n\t\t\t\t\tlistLocation = configuration.get(\"listLocation\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (listLocation !== undefined) {\r\n\t\t\t\t\tif (typeof listLocation === \"string\") {\r\n\t\t\t\t\t\tbuilder.data = $(data).find(listLocation);\r\n\t\t\t\t\t} else if (typeof listLocation === \"function\") {\r\n\r\n\t\t\t\t\t\tbuilder.data = listLocation(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbuilder.data = data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn builder;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction convertDataToListBuilder() {\r\n\r\n\t\t\t\tvar builder = {};\r\n\r\n\t\t\t\tif (category.listLocation !== undefined) {\r\n\r\n\t\t\t\t\tif (typeof category.listLocation === \"string\") {\r\n\t\t\t\t\t\tbuilder.data = data[category.listLocation];\r\n\t\t\t\t\t} else if (typeof category.listLocation === \"function\") {\r\n\t\t\t\t\t\tbuilder.data = category.listLocation(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbuilder.data = data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn builder;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction convertXmlToList(builder) {\r\n\t\t\tvar simpleList = [];\r\n\r\n\t\t\tif (builder.xmlElementName === undefined) {\r\n\t\t\t\tbuilder.xmlElementName = configuration.get(\"xmlElementName\");\r\n\t\t\t}\r\n\r\n\r\n\t\t\t$(builder.data).find(builder.xmlElementName).each(function() {\r\n\t\t\t\tsimpleList.push(this);\r\n\t\t\t});\r\n\r\n\t\t\treturn simpleList;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - Data proccess module\r\n *\r\n * Process list to display:\r\n * - sort \r\n * - decrease number to specific number\r\n * - show only matching list\r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope) {\r\n\r\n\tscope.proccess = function proccessData(config, listBuilder, phrase) {\r\n\r\n\t\tscope.proccess.match = match;\r\n\r\n\t\tvar list = listBuilder.data,\r\n\t\t\tinputPhrase = phrase;//TODO REFACTOR\r\n\r\n\t\tlist = findMatch(list, inputPhrase);\r\n\t\tlist = reduceElementsInList(list);\r\n\t\tlist = sort(list);\r\n\r\n\t\treturn list;\r\n\r\n\r\n\t\tfunction findMatch(list, phrase) {\r\n\t\t\tvar preparedList = [],\r\n\t\t\t\tvalue = \"\";\r\n\r\n\t\t\tif (config.get(\"list\").match.enabled) {\r\n\r\n\t\t\t\tfor(var i = 0, length = list.length; i < length; i += 1) {\r\n\r\n\t\t\t\t\tvalue = config.get(\"getValue\")(list[i]);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (match(value, phrase)) {\r\n\t\t\t\t\t\tpreparedList.push(list[i]);\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tpreparedList = list;\r\n\t\t\t}\r\n\r\n\t\t\treturn preparedList;\r\n\t\t}\r\n\r\n\t\tfunction match(value, phrase) {\r\n\r\n\t\t\tif (!config.get(\"list\").match.caseSensitive) {\r\n\r\n\t\t\t\tif (typeof value === \"string\") {\r\n\t\t\t\t\tvalue = value.toLowerCase();\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tphrase = phrase.toLowerCase();\r\n\t\t\t}\r\n\t\t\tif (config.get(\"list\").match.method(value, phrase)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction reduceElementsInList(list) {\r\n\t\t\tif (listBuilder.maxNumberOfElements !== undefined && list.length > listBuilder.maxNumberOfElements) {\r\n\t\t\t\tlist = list.slice(0, listBuilder.maxNumberOfElements);\r\n\t\t\t}\r\n\r\n\t\t\treturn list;\r\n\t\t}\r\n\r\n\t\tfunction sort(list) {\r\n\t\t\tif (config.get(\"list\").sort.enabled) {\r\n\t\t\t\tlist.sort(config.get(\"list\").sort.method);\r\n\t\t\t}\r\n\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t\r\n\t};\r\n\r\n\r\n\treturn scope;\r\n\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - Template \r\n *\r\n * \r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope){\r\n\r\n\tscope.Template = function Template(options) {\r\n\r\n\r\n\t\tvar genericTemplates = {\r\n\t\t\tbasic: {\r\n\t\t\t\ttype: \"basic\",\r\n\t\t\t\tmethod: function(element) { return element; },\r\n\t\t\t\tcssClass: \"\"\r\n\t\t\t},\r\n\t\t\tdescription: {\r\n\t\t\t\ttype: \"description\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tdescription: \"description\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\treturn element + \" - description\"; },\r\n\t\t\t\tcssClass: \"eac-description\"\r\n\t\t\t},\r\n\t\t\ticonLeft: {\r\n\t\t\t\ttype: \"iconLeft\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\ticon: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tcssClass: \"eac-icon-left\"\r\n\t\t\t},\r\n\t\t\ticonRight: {\r\n\t\t\t\ttype: \"iconRight\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\ticonSrc: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tcssClass: \"eac-icon-right\"\r\n\t\t\t},\r\n\t\t\tlinks: {\r\n\t\t\t\ttype: \"links\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tlink: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tcssClass: \"\"\r\n\t\t\t},\r\n\t\t\tcustom: {\r\n\t\t\t\ttype: \"custom\",\r\n\t\t\t\tmethod: function() {},\r\n\t\t\t\tcssClass: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\r\n\t\t/*\r\n\t\t * Converts method with {{text}} to function\r\n\t\t */\r\n\t\tconvertTemplateToMethod = function(template) {\r\n\r\n\r\n\t\t\tvar _fields = template.fields,\r\n\t\t\t\tbuildMethod;\r\n\r\n\t\t\tif (template.type === \"description\") {\r\n\r\n\t\t\t\tbuildMethod = genericTemplates.description.method; \r\n\r\n\t\t\t\tif (typeof _fields.description === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \" - <span>\" + element[_fields.description] + \"</span>\";\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.description === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \" - <span>\" + _fields.description(element) + \"</span>\";\r\n\t\t\t\t\t};\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\t\t\tif (template.type === \"iconRight\") {\r\n\r\n\t\t\t\tif (typeof _fields.iconSrc === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \"<img class='eac-icon' src='\" + element[_fields.iconSrc] + \"' />\" ;\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.iconSrc === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \"<img class='eac-icon' src='\" + _fields.iconSrc(element) + \"' />\" ;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (template.type === \"iconLeft\") {\r\n\r\n\t\t\t\tif (typeof _fields.iconSrc === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<img class='eac-icon' src='\" + element[_fields.iconSrc] + \"' />\" + elementValue;\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.iconSrc === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<img class='eac-icon' src='\" + _fields.iconSrc(element) + \"' />\" + elementValue;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\t\t\tif(template.type === \"links\") {\r\n\r\n\t\t\t\tif (typeof _fields.link === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<a href='\" + element[_fields.link] + \"' >\" + elementValue + \"</a>\";\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.link === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<a href='\" + _fields.link(element) + \"' >\" + elementValue + \"</a>\";\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (template.type === \"custom\") {\r\n\r\n\t\t\t\treturn template.method;\r\n\t\t\t}\r\n\r\n\t\t\treturn genericTemplates.basic.method;\r\n\r\n\t\t},\r\n\r\n\r\n\t\tprepareBuildMethod = function(options) {\r\n\t\t\tif (!options || !options.type) {\r\n\r\n\t\t\t\treturn genericTemplates.basic.method;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.type && genericTemplates[options.type]) {\r\n\r\n\t\t\t\treturn convertTemplateToMethod(options);\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn genericTemplates.basic.method;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ttemplateClass = function(options) {\r\n\t\t\tvar emptyStringFunction = function() {return \"\";};\r\n\r\n\t\t\tif (!options || !options.type) {\r\n\r\n\t\t\t\treturn emptyStringFunction;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.type && genericTemplates[options.type]) {\r\n\t\t\t\treturn (function () { \r\n\t\t\t\t\tvar _cssClass = genericTemplates[options.type].cssClass;\r\n\t\t\t\t\treturn function() { return _cssClass;};\r\n\t\t\t\t})();\r\n\t\t\t} else {\r\n\t\t\t\treturn emptyStringFunction;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.getTemplateClass = templateClass(options);\r\n\r\n\t\tthis.build = prepareBuildMethod(options);\r\n\r\n\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - jQuery plugin for autocompletion\r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope) {\r\n\r\n\t\r\n\tscope.main = function Core($input, options) {\r\n\t\t\t\t\r\n\t\tvar module = {\r\n\t\t\t\tname: \"EasyAutocomplete\",\r\n\t\t\t\tshortcut: \"eac\"\r\n\t\t\t};\r\n\r\n\t\tvar consts = new scope.Constans(),\r\n\t\t\tconfig = new scope.Configuration(options),\r\n\t\t\tlogger = new scope.Logger(),\r\n\t\t\ttemplate = new scope.Template(options.template),\r\n\t\t\tlistBuilderService = new scope.ListBuilderService(config, scope.proccess),\r\n\t\t\tcheckParam = config.equals,\r\n\r\n\t\t\t$field = $input, \r\n\t\t\t$container = \"\",\r\n\t\t\telementsList = [],\r\n\t\t\tselectedElement = -1,\r\n\t\t\trequestDelayTimeoutId;\r\n\r\n\t\tscope.consts = consts;\r\n\r\n\t\tthis.getConstants = function() {\r\n\t\t\treturn consts;\r\n\t\t};\r\n\r\n\t\tthis.getConfiguration = function() {\r\n\t\t\treturn config;\r\n\t\t};\r\n\r\n\t\tthis.getContainer = function() {\r\n\t\t\treturn $container;\r\n\t\t};\r\n\r\n\t\tthis.getSelectedItemIndex = function() {\r\n\t\t\treturn selectedElement;\r\n\t\t};\r\n\r\n\t\tthis.getItems = function () {\r\n\t\t\treturn elementsList;\r\n\t\t};\r\n\r\n\t\tthis.getItemData = function(index) {\r\n\r\n\t\t\tif (elementsList.length < index || elementsList[index] === undefined) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else {\r\n\t\t\t\treturn elementsList[index];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.getSelectedItemData = function() {\r\n\t\t\treturn this.getItemData(selectedElement);\r\n\t\t};\r\n\r\n\t\tthis.build = function() {\r\n\t\t\tprepareField();\r\n\t\t};\r\n\r\n\t\tthis.init = function() {\r\n\t\t\tinit();\r\n\t\t};\r\n\t\tfunction init() {\r\n\r\n\t\t\tif ($field.length === 0) {\r\n\t\t\t\tlogger.error(\"Input field doesn't exist.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!config.checkDataUrlProperties()) {\r\n\t\t\t\tlogger.error(\"One of options variables 'data' or 'url' must be defined.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!config.checkRequiredProperties()) {\r\n\t\t\t\tlogger.error(\"Will not work without mentioned properties.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tprepareField();\r\n\t\t\tbindEvents();\t\r\n\r\n\t\t}\r\n\t\tfunction prepareField() {\r\n\r\n\t\t\t\t\r\n\t\t\tif ($field.parent().hasClass(consts.getValue(\"WRAPPER_CSS_CLASS\"))) {\r\n\t\t\t\tremoveContainer();\r\n\t\t\t\tremoveWrapper();\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\tcreateWrapper();\r\n\t\t\tcreateContainer();\t\r\n\r\n\t\t\t$container = $(\"#\" + getContainerId());\r\n\t\t\tif (config.get(\"placeholder\")) {\r\n\t\t\t\t$field.attr(\"placeholder\", config.get(\"placeholder\"));\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction createWrapper() {\r\n\t\t\t\tvar $wrapper = $(\"<div>\"),\r\n\t\t\t\t\tclasses = consts.getValue(\"WRAPPER_CSS_CLASS\");\r\n\r\n\t\t\t\r\n\t\t\t\tif (config.get(\"theme\") && config.get(\"theme\") !== \"\") {\r\n\t\t\t\t\tclasses += \" eac-\" + config.get(\"theme\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (config.get(\"cssClasses\") && config.get(\"cssClasses\") !== \"\") {\r\n\t\t\t\t\tclasses += \" \" + config.get(\"cssClasses\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (template.getTemplateClass() !== \"\") {\r\n\t\t\t\t\tclasses += \" \" + template.getTemplateClass();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\t$wrapper\r\n\t\t\t\t\t.addClass(classes);\r\n\t\t\t\t$field.wrap($wrapper);\r\n\r\n\r\n\t\t\t\tif (config.get(\"adjustWidth\") === true) {\r\n\t\t\t\t\tadjustWrapperWidth();\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction adjustWrapperWidth() {\r\n\t\t\t\tvar fieldWidth = $field.outerWidth();\r\n\r\n\t\t\t\t$field.parent().css(\"width\", fieldWidth);\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeWrapper() {\r\n\t\t\t\t$field.unwrap();\r\n\t\t\t}\r\n\r\n\t\t\tfunction createContainer() {\r\n\t\t\t\tvar $elements_container = $(\"<div>\").addClass(consts.getValue(\"CONTAINER_CLASS\"));\r\n\r\n\t\t\t\t$elements_container\r\n\t\t\t\t\t\t.attr(\"id\", getContainerId())\r\n\t\t\t\t\t\t.prepend($(\"<ul>\"));\r\n\r\n\r\n\t\t\t\t(function() {\r\n\r\n\t\t\t\t\t$elements_container\r\n\t\t\t\t\t\t/* List show animation */\r\n\t\t\t\t\t\t.on(\"show.eac\", function() {\r\n\r\n\t\t\t\t\t\t\tswitch(config.get(\"list\").showAnimation.type) {\r\n\r\n\t\t\t\t\t\t\t\tcase \"slide\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").showAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").showAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").slideDown(animationTime, callback);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"fade\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").showAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").showAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").fadeIn(animationTime), callback;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").show();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onShowListEvent();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t/* List hide animation */\r\n\t\t\t\t\t\t.on(\"hide.eac\", function() {\r\n\r\n\t\t\t\t\t\t\tswitch(config.get(\"list\").hideAnimation.type) {\r\n\r\n\t\t\t\t\t\t\t\tcase \"slide\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").hideAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").hideAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").slideUp(animationTime, callback);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"fade\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").hideAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").hideAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").fadeOut(animationTime, callback);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").hide();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onHideListEvent();\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"selectElement.eac\", function() {\r\n\t\t\t\t\t\t\t$elements_container.find(\"ul li\").removeClass(\"selected\");\r\n\t\t\t\t\t\t\t$elements_container.find(\"ul li\").eq(selectedElement).addClass(\"selected\");\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onSelectItemEvent();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"loadElements.eac\", function(event, listBuilders, phrase) {\r\n\t\t\t\r\n\r\n\t\t\t\t\t\t\tvar $item = \"\",\r\n\t\t\t\t\t\t\t\t$listContainer = $elements_container.find(\"ul\");\r\n\r\n\t\t\t\t\t\t\t$listContainer\r\n\t\t\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t\t\t.detach();\r\n\r\n\t\t\t\t\t\t\telementsList = [];\r\n\t\t\t\t\t\t\tvar counter = 0;\r\n\t\t\t\t\t\t\tfor(var builderIndex = 0, listBuildersLength = listBuilders.length; builderIndex < listBuildersLength; builderIndex += 1) {\r\n\r\n\t\t\t\t\t\t\t\tvar listData = listBuilders[builderIndex].data;\r\n\r\n\t\t\t\t\t\t\t\tif (listData.length === 0) {\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (listBuilders[builderIndex].header !== undefined && listBuilders[builderIndex].header.length > 0) {\r\n\t\t\t\t\t\t\t\t\t$listContainer.append(\"<div class='eac-category' >\" + listBuilders[builderIndex].header + \"</div>\");\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tfor(var i = 0, listDataLength = listData.length; i < listDataLength && counter < listBuilders[builderIndex].maxListSize; i += 1) {\r\n\t\t\t\t\t\t\t\t\t$item = $(\"<li><div class='eac-item'></div></li>\");\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t(function() {\r\n\t\t\t\t\t\t\t\t\t\tvar j = i,\r\n\t\t\t\t\t\t\t\t\t\t\titemCounter = counter,\r\n\t\t\t\t\t\t\t\t\t\t\telementsValue = listBuilders[builderIndex].getValue(listData[j]);\r\n\r\n\t\t\t\t\t\t\t\t\t\t$item.find(\" > div\")\r\n\t\t\t\t\t\t\t\t\t\t\t.on(\"click\", function() {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t$field.val(elementsValue).trigger(\"change\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedElement = itemCounter;\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectElement(itemCounter);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onClickEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onChooseEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.mouseover(function() {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedElement = itemCounter;\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectElement(itemCounter);\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onMouseOverEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.mouseout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onMouseOutEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.html(template.build(highlight(elementsValue, phrase), listData[j]));\r\n\t\t\t\t\t\t\t\t\t})();\r\n\r\n\t\t\t\t\t\t\t\t\t$listContainer.append($item);\r\n\t\t\t\t\t\t\t\t\telementsList.push(listData[i]);\r\n\t\t\t\t\t\t\t\t\tcounter += 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t$elements_container.append($listContainer);\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onLoadEvent();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t})();\r\n\r\n\t\t\t\t$field.after($elements_container);\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeContainer() {\r\n\t\t\t\t$field.next(\".\" + consts.getValue(\"CONTAINER_CLASS\")).remove();\r\n\t\t\t}\r\n\r\n\t\t\tfunction highlight(string, phrase) {\r\n\r\n\t\t\t\tif(config.get(\"highlightPhrase\") && phrase !== \"\") {\r\n\t\t\t\t\treturn highlightPhrase(string, phrase);\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn string;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tfunction escapeRegExp(str) {\r\n\t\t\t\treturn str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n \t\t\t}\r\n\r\n\t\t\tfunction highlightPhrase(string, phrase) {\r\n\t\t\t\tvar escapedPhrase = escapeRegExp(phrase);\r\n\t\t\t\treturn (string + \"\").replace(new RegExp(\"(\" + escapedPhrase + \")\", \"gi\") , \"<b>$1</b>\");\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t}\r\n\t\tfunction getContainerId() {\r\n\t\t\t\r\n\t\t\tvar elementId = $field.attr(\"id\");\r\n\r\n\t\t\telementId = consts.getValue(\"CONTAINER_ID\") + elementId;\r\n\r\n\t\t\treturn elementId;\r\n\t\t}\r\n\t\tfunction bindEvents() {\r\n\r\n\t\t\tbindAllEvents();\r\n\t\t\t\r\n\r\n\t\t\tfunction bindAllEvents() {\r\n\t\t\t\tif (checkParam(\"autocompleteOff\", true)) {\r\n\t\t\t\t\tremoveAutocomplete();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbindFocusOut();\r\n\t\t\t\tbindKeyup();\r\n\t\t\t\tbindKeydown();\r\n\t\t\t\tbindKeypress();\r\n\t\t\t\tbindFocus();\r\n\t\t\t\tbindBlur();\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindFocusOut() {\r\n\t\t\t\t$field.focusout(function () {\r\n\r\n\t\t\t\t\tvar fieldValue = $field.val(),\r\n\t\t\t\t\t\tphrase;\r\n\r\n\t\t\t\t\tif (!config.get(\"list\").match.caseSensitive) {\r\n\t\t\t\t\t\tfieldValue = fieldValue.toLowerCase();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var i = 0, length = elementsList.length; i < length; i += 1) {\r\n\r\n\t\t\t\t\t\tphrase = config.get(\"getValue\")(elementsList[i]);\r\n\t\t\t\t\t\tif (!config.get(\"list\").match.caseSensitive) {\r\n\t\t\t\t\t\t\tphrase = phrase.toLowerCase();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (phrase === fieldValue) {\r\n\t\t\t\t\t\t\tselectedElement = i;\r\n\t\t\t\t\t\t\tselectElement(selectedElement);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindKeyup() {\r\n\t\t\t\t$field\r\n\t\t\t\t.off(\"keyup\")\r\n\t\t\t\t.keyup(function(event) {\r\n\r\n\t\t\t\t\tswitch(event.keyCode) {\r\n\r\n\t\t\t\t\t\tcase 27:\r\n\r\n\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\tloseFieldFocus();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 38:\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif(elementsList.length > 0 && selectedElement > 0) {\r\n\r\n\t\t\t\t\t\t\t\tselectedElement -= 1;\r\n\r\n\t\t\t\t\t\t\t\t$field.val(config.get(\"getValue\")(elementsList[selectedElement]));\r\n\r\n\t\t\t\t\t\t\t\tselectElement(selectedElement);\r\n\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 40:\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif(elementsList.length > 0 && selectedElement < elementsList.length - 1) {\r\n\r\n\t\t\t\t\t\t\t\tselectedElement += 1;\r\n\r\n\t\t\t\t\t\t\t\t$field.val(config.get(\"getValue\")(elementsList[selectedElement]));\r\n\r\n\t\t\t\t\t\t\t\tselectElement(selectedElement);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tif (event.keyCode > 40 || event.keyCode === 8) {\r\n\r\n\t\t\t\t\t\t\t\tvar inputPhrase = $field.val();\r\n\r\n\t\t\t\t\t\t\t\tif (!(config.get(\"list\").hideOnEmptyPhrase === true && event.keyCode === 8 && inputPhrase === \"\")) {\r\n\r\n\t\t\t\t\t\t\t\t\tif (config.get(\"requestDelay\") > 0) {\r\n\t\t\t\t\t\t\t\t\t\tif (requestDelayTimeoutId !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout(requestDelayTimeoutId);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\trequestDelayTimeoutId = setTimeout(function () { loadData(inputPhrase);}, config.get(\"requestDelay\"));\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tloadData(inputPhrase);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\t\tfunction loadData(inputPhrase) {\r\n\r\n\r\n\t\t\t\t\t\tif (inputPhrase.length < config.get(\"minCharNumber\")) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tif (config.get(\"data\") !== \"list-required\") {\r\n\r\n\t\t\t\t\t\t\tvar data = config.get(\"data\");\r\n\r\n\t\t\t\t\t\t\tvar listBuilders = listBuilderService.init(data);\r\n\r\n\t\t\t\t\t\t\tlistBuilders = listBuilderService.updateCategories(listBuilders, data);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlistBuilders = listBuilderService.processData(listBuilders, inputPhrase);\r\n\r\n\t\t\t\t\t\t\tloadElements(listBuilders, inputPhrase);\r\n\r\n\t\t\t\t\t\t\tif ($field.parent().find(\"li\").length > 0) {\r\n\t\t\t\t\t\t\t\tshowContainer();\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar settings = createAjaxSettings();\r\n\r\n\t\t\t\t\t\tif (settings.url === undefined || settings.url === \"\") {\r\n\t\t\t\t\t\t\tsettings.url = config.get(\"url\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (settings.dataType === undefined || settings.dataType === \"\") {\r\n\t\t\t\t\t\t\tsettings.dataType = config.get(\"dataType\");\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tif (settings.url !== undefined && settings.url !== \"list-required\") {\r\n\r\n\t\t\t\t\t\t\tsettings.url = settings.url(inputPhrase);\r\n\r\n\t\t\t\t\t\t\tsettings.data = config.get(\"preparePostData\")(settings.data, inputPhrase);\r\n\r\n\t\t\t\t\t\t\t$.ajax(settings) \r\n\t\t\t\t\t\t\t\t.done(function(data) {\r\n\r\n\t\t\t\t\t\t\t\t\tvar listBuilders = listBuilderService.init(data);\r\n\r\n\t\t\t\t\t\t\t\t\tlistBuilders = listBuilderService.updateCategories(listBuilders, data);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlistBuilders = listBuilderService.convertXml(listBuilders);\r\n\t\t\t\t\t\t\t\t\tif (checkInputPhraseMatchResponse(inputPhrase, data)) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tlistBuilders = listBuilderService.processData(listBuilders, inputPhrase);\r\n\r\n\t\t\t\t\t\t\t\t\t\tloadElements(listBuilders, inputPhrase);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (listBuilderService.checkIfDataExists(listBuilders) && $field.parent().find(\"li\").length > 0) {\r\n\t\t\t\t\t\t\t\t\t\tshowContainer();\t\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tconfig.get(\"ajaxCallback\")();\r\n\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.fail(function() {\r\n\t\t\t\t\t\t\t\t\tlogger.warning(\"Fail to load response data\");\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.always(function() {\r\n\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tfunction createAjaxSettings() {\r\n\r\n\t\t\t\t\t\t\tvar settings = {},\r\n\t\t\t\t\t\t\t\tajaxSettings = config.get(\"ajaxSettings\") || {};\r\n\r\n\t\t\t\t\t\t\tfor (var set in ajaxSettings) {\r\n\t\t\t\t\t\t\t\tsettings[set] = ajaxSettings[set];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn settings;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction checkInputPhraseMatchResponse(inputPhrase, data) {\r\n\r\n\t\t\t\t\t\t\tif (config.get(\"matchResponseProperty\") !== false) {\r\n\t\t\t\t\t\t\t\tif (typeof config.get(\"matchResponseProperty\") === \"string\") {\r\n\t\t\t\t\t\t\t\t\treturn (data[config.get(\"matchResponseProperty\")] === inputPhrase);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (typeof config.get(\"matchResponseProperty\") === \"function\") {\r\n\t\t\t\t\t\t\t\t\treturn (config.get(\"matchResponseProperty\")(data) === inputPhrase);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindKeydown() {\r\n\t\t\t\t$field\r\n\t\t\t\t\t.on(\"keydown\", function(evt) {\r\n\t        \t\t    evt = evt || window.event;\r\n\t        \t\t    var keyCode = evt.keyCode;\r\n\t        \t\t    if (keyCode === 38) {\r\n\t        \t\t        suppressKeypress = true; \r\n\t        \t\t        return false;\r\n\t        \t\t    }\r\n\t\t        \t})\r\n\t\t\t\t\t.keydown(function(event) {\r\n\r\n\t\t\t\t\t\tif (event.keyCode === 13 && selectedElement > -1) {\r\n\r\n\t\t\t\t\t\t\t$field.val(config.get(\"getValue\")(elementsList[selectedElement]));\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onKeyEnterEvent();\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onChooseEvent();\r\n\r\n\t\t\t\t\t\t\tselectedElement = -1;\r\n\t\t\t\t\t\t\thideContainer();\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindKeypress() {\r\n\t\t\t\t$field\r\n\t\t\t\t.off(\"keypress\");\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindFocus() {\r\n\t\t\t\t$field.focus(function() {\r\n\r\n\t\t\t\t\tif ($field.val() !== \"\" && elementsList.length > 0) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tselectedElement = -1;\r\n\t\t\t\t\t\tshowContainer();\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindBlur() {\r\n\t\t\t\t$field.blur(function() {\r\n\t\t\t\t\tsetTimeout(function() { \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tselectedElement = -1;\r\n\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeAutocomplete() {\r\n\t\t\t\t$field.attr(\"autocomplete\",\"off\");\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction showContainer() {\r\n\t\t\t$container.trigger(\"show.eac\");\r\n\t\t}\r\n\r\n\t\tfunction hideContainer() {\r\n\t\t\t$container.trigger(\"hide.eac\");\r\n\t\t}\r\n\r\n\t\tfunction selectElement(index) {\r\n\t\t\t\r\n\t\t\t$container.trigger(\"selectElement.eac\", index);\r\n\t\t}\r\n\r\n\t\tfunction loadElements(list, phrase) {\r\n\t\t\t$container.trigger(\"loadElements.eac\", [list, phrase]);\r\n\t\t}\r\n\r\n\t\tfunction loseFieldFocus() {\r\n\t\t\t$field.trigger(\"blur\");\r\n\t\t}\r\n\r\n\r\n\t};\r\n\tscope.eacHandles = [];\r\n\r\n\tscope.getHandle = function(id) {\r\n\t\treturn scope.eacHandles[id];\r\n\t};\r\n\r\n\tscope.inputHasId = function(input) {\r\n\r\n\t\tif($(input).attr(\"id\") !== undefined && $(input).attr(\"id\").length > 0) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tscope.assignRandomId = function(input) {\r\n\r\n\t\tvar fieldId = \"\";\r\n\r\n\t\tdo {\r\n\t\t\tfieldId = \"eac-\" + Math.floor(Math.random() * 10000);\t\t\r\n\t\t} while ($(\"#\" + fieldId).length !== 0);\r\n\t\t\r\n\t\telementId = scope.consts.getValue(\"CONTAINER_ID\") + fieldId;\r\n\r\n\t\t$(input).attr(\"id\", fieldId);\r\n \r\n\t};\r\n\r\n\tscope.setHandle = function(handle, id) {\r\n\t\tscope.eacHandles[id] = handle;\r\n\t};\r\n\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n(function($) {\r\n\r\n\t$.fn.easyAutocomplete = function(options) {\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\teacHandle = new EasyAutocomplete.main($this, options);\r\n\r\n\t\t\tif (!EasyAutocomplete.inputHasId($this)) {\r\n\t\t\t\tEasyAutocomplete.assignRandomId($this);\r\n\t\t\t}\r\n\r\n\t\t\teacHandle.init();\r\n\r\n\t\t\tEasyAutocomplete.setHandle(eacHandle, $this.attr(\"id\"));\r\n\r\n\t\t});\r\n\t};\r\n\r\n\t$.fn.getSelectedItemIndex = function() {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getSelectedItemIndex();\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n\t$.fn.getItems = function () {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getItems();\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n\t$.fn.getItemData = function(index) {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined && index > -1) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getItemData(index);\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n\t$.fn.getSelectedItemData = function() {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getSelectedItemData();\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n})(jQuery);\r\n\n},{}],6:[function(require,module,exports){\n//! moment.js\n//! version : 2.20.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\nvar hookCallback;\n\nfunction hooks () {\n    return hookCallback.apply(null, arguments);\n}\n\n// This is done to register the method called with moment()\n// without creating circular dependencies.\nfunction setHookCallback (callback) {\n    hookCallback = callback;\n}\n\nfunction isArray(input) {\n    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n}\n\nfunction isObject(input) {\n    // IE8 will treat undefined and null as object if it wasn't for\n    // input != null\n    return input != null && Object.prototype.toString.call(input) === '[object Object]';\n}\n\nfunction isObjectEmpty(obj) {\n    if (Object.getOwnPropertyNames) {\n        return (Object.getOwnPropertyNames(obj).length === 0);\n    } else {\n        var k;\n        for (k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nfunction isUndefined(input) {\n    return input === void 0;\n}\n\nfunction isNumber(input) {\n    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n}\n\nfunction isDate(input) {\n    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n}\n\nfunction map(arr, fn) {\n    var res = [], i;\n    for (i = 0; i < arr.length; ++i) {\n        res.push(fn(arr[i], i));\n    }\n    return res;\n}\n\nfunction hasOwnProp(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n}\n\nfunction extend(a, b) {\n    for (var i in b) {\n        if (hasOwnProp(b, i)) {\n            a[i] = b[i];\n        }\n    }\n\n    if (hasOwnProp(b, 'toString')) {\n        a.toString = b.toString;\n    }\n\n    if (hasOwnProp(b, 'valueOf')) {\n        a.valueOf = b.valueOf;\n    }\n\n    return a;\n}\n\nfunction createUTC (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, true).utc();\n}\n\nfunction defaultParsingFlags() {\n    // We need to deep clone this object.\n    return {\n        empty           : false,\n        unusedTokens    : [],\n        unusedInput     : [],\n        overflow        : -2,\n        charsLeftOver   : 0,\n        nullInput       : false,\n        invalidMonth    : null,\n        invalidFormat   : false,\n        userInvalidated : false,\n        iso             : false,\n        parsedDateParts : [],\n        meridiem        : null,\n        rfc2822         : false,\n        weekdayMismatch : false\n    };\n}\n\nfunction getParsingFlags(m) {\n    if (m._pf == null) {\n        m._pf = defaultParsingFlags();\n    }\n    return m._pf;\n}\n\nvar some;\nif (Array.prototype.some) {\n    some = Array.prototype.some;\n} else {\n    some = function (fun) {\n        var t = Object(this);\n        var len = t.length >>> 0;\n\n        for (var i = 0; i < len; i++) {\n            if (i in t && fun.call(this, t[i], i, t)) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n}\n\nfunction isValid(m) {\n    if (m._isValid == null) {\n        var flags = getParsingFlags(m);\n        var parsedParts = some.call(flags.parsedDateParts, function (i) {\n            return i != null;\n        });\n        var isNowValid = !isNaN(m._d.getTime()) &&\n            flags.overflow < 0 &&\n            !flags.empty &&\n            !flags.invalidMonth &&\n            !flags.invalidWeekday &&\n            !flags.weekdayMismatch &&\n            !flags.nullInput &&\n            !flags.invalidFormat &&\n            !flags.userInvalidated &&\n            (!flags.meridiem || (flags.meridiem && parsedParts));\n\n        if (m._strict) {\n            isNowValid = isNowValid &&\n                flags.charsLeftOver === 0 &&\n                flags.unusedTokens.length === 0 &&\n                flags.bigHour === undefined;\n        }\n\n        if (Object.isFrozen == null || !Object.isFrozen(m)) {\n            m._isValid = isNowValid;\n        }\n        else {\n            return isNowValid;\n        }\n    }\n    return m._isValid;\n}\n\nfunction createInvalid (flags) {\n    var m = createUTC(NaN);\n    if (flags != null) {\n        extend(getParsingFlags(m), flags);\n    }\n    else {\n        getParsingFlags(m).userInvalidated = true;\n    }\n\n    return m;\n}\n\n// Plugins that add properties should also add the key here (null value),\n// so we can properly clone ourselves.\nvar momentProperties = hooks.momentProperties = [];\n\nfunction copyConfig(to, from) {\n    var i, prop, val;\n\n    if (!isUndefined(from._isAMomentObject)) {\n        to._isAMomentObject = from._isAMomentObject;\n    }\n    if (!isUndefined(from._i)) {\n        to._i = from._i;\n    }\n    if (!isUndefined(from._f)) {\n        to._f = from._f;\n    }\n    if (!isUndefined(from._l)) {\n        to._l = from._l;\n    }\n    if (!isUndefined(from._strict)) {\n        to._strict = from._strict;\n    }\n    if (!isUndefined(from._tzm)) {\n        to._tzm = from._tzm;\n    }\n    if (!isUndefined(from._isUTC)) {\n        to._isUTC = from._isUTC;\n    }\n    if (!isUndefined(from._offset)) {\n        to._offset = from._offset;\n    }\n    if (!isUndefined(from._pf)) {\n        to._pf = getParsingFlags(from);\n    }\n    if (!isUndefined(from._locale)) {\n        to._locale = from._locale;\n    }\n\n    if (momentProperties.length > 0) {\n        for (i = 0; i < momentProperties.length; i++) {\n            prop = momentProperties[i];\n            val = from[prop];\n            if (!isUndefined(val)) {\n                to[prop] = val;\n            }\n        }\n    }\n\n    return to;\n}\n\nvar updateInProgress = false;\n\n// Moment prototype object\nfunction Moment(config) {\n    copyConfig(this, config);\n    this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n    if (!this.isValid()) {\n        this._d = new Date(NaN);\n    }\n    // Prevent infinite loop in case updateOffset creates new moment\n    // objects.\n    if (updateInProgress === false) {\n        updateInProgress = true;\n        hooks.updateOffset(this);\n        updateInProgress = false;\n    }\n}\n\nfunction isMoment (obj) {\n    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n}\n\nfunction absFloor (number) {\n    if (number < 0) {\n        // -0 -> 0\n        return Math.ceil(number) || 0;\n    } else {\n        return Math.floor(number);\n    }\n}\n\nfunction toInt(argumentForCoercion) {\n    var coercedNumber = +argumentForCoercion,\n        value = 0;\n\n    if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n        value = absFloor(coercedNumber);\n    }\n\n    return value;\n}\n\n// compare two arrays, return the number of differences\nfunction compareArrays(array1, array2, dontConvert) {\n    var len = Math.min(array1.length, array2.length),\n        lengthDiff = Math.abs(array1.length - array2.length),\n        diffs = 0,\n        i;\n    for (i = 0; i < len; i++) {\n        if ((dontConvert && array1[i] !== array2[i]) ||\n            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n            diffs++;\n        }\n    }\n    return diffs + lengthDiff;\n}\n\nfunction warn(msg) {\n    if (hooks.suppressDeprecationWarnings === false &&\n            (typeof console !==  'undefined') && console.warn) {\n        console.warn('Deprecation warning: ' + msg);\n    }\n}\n\nfunction deprecate(msg, fn) {\n    var firstTime = true;\n\n    return extend(function () {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(null, msg);\n        }\n        if (firstTime) {\n            var args = [];\n            var arg;\n            for (var i = 0; i < arguments.length; i++) {\n                arg = '';\n                if (typeof arguments[i] === 'object') {\n                    arg += '\\n[' + i + '] ';\n                    for (var key in arguments[0]) {\n                        arg += key + ': ' + arguments[0][key] + ', ';\n                    }\n                    arg = arg.slice(0, -2); // Remove trailing comma and space\n                } else {\n                    arg = arguments[i];\n                }\n                args.push(arg);\n            }\n            warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n            firstTime = false;\n        }\n        return fn.apply(this, arguments);\n    }, fn);\n}\n\nvar deprecations = {};\n\nfunction deprecateSimple(name, msg) {\n    if (hooks.deprecationHandler != null) {\n        hooks.deprecationHandler(name, msg);\n    }\n    if (!deprecations[name]) {\n        warn(msg);\n        deprecations[name] = true;\n    }\n}\n\nhooks.suppressDeprecationWarnings = false;\nhooks.deprecationHandler = null;\n\nfunction isFunction(input) {\n    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n}\n\nfunction set (config) {\n    var prop, i;\n    for (i in config) {\n        prop = config[i];\n        if (isFunction(prop)) {\n            this[i] = prop;\n        } else {\n            this['_' + i] = prop;\n        }\n    }\n    this._config = config;\n    // Lenient ordinal parsing accepts just a number in addition to\n    // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    this._dayOfMonthOrdinalParseLenient = new RegExp(\n        (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n            '|' + (/\\d{1,2}/).source);\n}\n\nfunction mergeConfigs(parentConfig, childConfig) {\n    var res = extend({}, parentConfig), prop;\n    for (prop in childConfig) {\n        if (hasOwnProp(childConfig, prop)) {\n            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                res[prop] = {};\n                extend(res[prop], parentConfig[prop]);\n                extend(res[prop], childConfig[prop]);\n            } else if (childConfig[prop] != null) {\n                res[prop] = childConfig[prop];\n            } else {\n                delete res[prop];\n            }\n        }\n    }\n    for (prop in parentConfig) {\n        if (hasOwnProp(parentConfig, prop) &&\n                !hasOwnProp(childConfig, prop) &&\n                isObject(parentConfig[prop])) {\n            // make sure changes to properties don't modify parent config\n            res[prop] = extend({}, res[prop]);\n        }\n    }\n    return res;\n}\n\nfunction Locale(config) {\n    if (config != null) {\n        this.set(config);\n    }\n}\n\nvar keys;\n\nif (Object.keys) {\n    keys = Object.keys;\n} else {\n    keys = function (obj) {\n        var i, res = [];\n        for (i in obj) {\n            if (hasOwnProp(obj, i)) {\n                res.push(i);\n            }\n        }\n        return res;\n    };\n}\n\nvar defaultCalendar = {\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    nextWeek : 'dddd [at] LT',\n    lastDay : '[Yesterday at] LT',\n    lastWeek : '[Last] dddd [at] LT',\n    sameElse : 'L'\n};\n\nfunction calendar (key, mom, now) {\n    var output = this._calendar[key] || this._calendar['sameElse'];\n    return isFunction(output) ? output.call(mom, now) : output;\n}\n\nvar defaultLongDateFormat = {\n    LTS  : 'h:mm:ss A',\n    LT   : 'h:mm A',\n    L    : 'MM/DD/YYYY',\n    LL   : 'MMMM D, YYYY',\n    LLL  : 'MMMM D, YYYY h:mm A',\n    LLLL : 'dddd, MMMM D, YYYY h:mm A'\n};\n\nfunction longDateFormat (key) {\n    var format = this._longDateFormat[key],\n        formatUpper = this._longDateFormat[key.toUpperCase()];\n\n    if (format || !formatUpper) {\n        return format;\n    }\n\n    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n        return val.slice(1);\n    });\n\n    return this._longDateFormat[key];\n}\n\nvar defaultInvalidDate = 'Invalid date';\n\nfunction invalidDate () {\n    return this._invalidDate;\n}\n\nvar defaultOrdinal = '%d';\nvar defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\nfunction ordinal (number) {\n    return this._ordinal.replace('%d', number);\n}\n\nvar defaultRelativeTime = {\n    future : 'in %s',\n    past   : '%s ago',\n    s  : 'a few seconds',\n    ss : '%d seconds',\n    m  : 'a minute',\n    mm : '%d minutes',\n    h  : 'an hour',\n    hh : '%d hours',\n    d  : 'a day',\n    dd : '%d days',\n    M  : 'a month',\n    MM : '%d months',\n    y  : 'a year',\n    yy : '%d years'\n};\n\nfunction relativeTime (number, withoutSuffix, string, isFuture) {\n    var output = this._relativeTime[string];\n    return (isFunction(output)) ?\n        output(number, withoutSuffix, string, isFuture) :\n        output.replace(/%d/i, number);\n}\n\nfunction pastFuture (diff, output) {\n    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n    return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n}\n\nvar aliases = {};\n\nfunction addUnitAlias (unit, shorthand) {\n    var lowerCase = unit.toLowerCase();\n    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n}\n\nfunction normalizeUnits(units) {\n    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n}\n\nfunction normalizeObjectUnits(inputObject) {\n    var normalizedInput = {},\n        normalizedProp,\n        prop;\n\n    for (prop in inputObject) {\n        if (hasOwnProp(inputObject, prop)) {\n            normalizedProp = normalizeUnits(prop);\n            if (normalizedProp) {\n                normalizedInput[normalizedProp] = inputObject[prop];\n            }\n        }\n    }\n\n    return normalizedInput;\n}\n\nvar priorities = {};\n\nfunction addUnitPriority(unit, priority) {\n    priorities[unit] = priority;\n}\n\nfunction getPrioritizedUnits(unitsObj) {\n    var units = [];\n    for (var u in unitsObj) {\n        units.push({unit: u, priority: priorities[u]});\n    }\n    units.sort(function (a, b) {\n        return a.priority - b.priority;\n    });\n    return units;\n}\n\nfunction zeroFill(number, targetLength, forceSign) {\n    var absNumber = '' + Math.abs(number),\n        zerosToFill = targetLength - absNumber.length,\n        sign = number >= 0;\n    return (sign ? (forceSign ? '+' : '') : '-') +\n        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n}\n\nvar formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\nvar localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\nvar formatFunctions = {};\n\nvar formatTokenFunctions = {};\n\n// token:    'M'\n// padded:   ['MM', 2]\n// ordinal:  'Mo'\n// callback: function () { this.month() + 1 }\nfunction addFormatToken (token, padded, ordinal, callback) {\n    var func = callback;\n    if (typeof callback === 'string') {\n        func = function () {\n            return this[callback]();\n        };\n    }\n    if (token) {\n        formatTokenFunctions[token] = func;\n    }\n    if (padded) {\n        formatTokenFunctions[padded[0]] = function () {\n            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n        };\n    }\n    if (ordinal) {\n        formatTokenFunctions[ordinal] = function () {\n            return this.localeData().ordinal(func.apply(this, arguments), token);\n        };\n    }\n}\n\nfunction removeFormattingTokens(input) {\n    if (input.match(/\\[[\\s\\S]/)) {\n        return input.replace(/^\\[|\\]$/g, '');\n    }\n    return input.replace(/\\\\/g, '');\n}\n\nfunction makeFormatFunction(format) {\n    var array = format.match(formattingTokens), i, length;\n\n    for (i = 0, length = array.length; i < length; i++) {\n        if (formatTokenFunctions[array[i]]) {\n            array[i] = formatTokenFunctions[array[i]];\n        } else {\n            array[i] = removeFormattingTokens(array[i]);\n        }\n    }\n\n    return function (mom) {\n        var output = '', i;\n        for (i = 0; i < length; i++) {\n            output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n        }\n        return output;\n    };\n}\n\n// format date using native date object\nfunction formatMoment(m, format) {\n    if (!m.isValid()) {\n        return m.localeData().invalidDate();\n    }\n\n    format = expandFormat(format, m.localeData());\n    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n    return formatFunctions[format](m);\n}\n\nfunction expandFormat(format, locale) {\n    var i = 5;\n\n    function replaceLongDateFormatTokens(input) {\n        return locale.longDateFormat(input) || input;\n    }\n\n    localFormattingTokens.lastIndex = 0;\n    while (i >= 0 && localFormattingTokens.test(format)) {\n        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        localFormattingTokens.lastIndex = 0;\n        i -= 1;\n    }\n\n    return format;\n}\n\nvar match1         = /\\d/;            //       0 - 9\nvar match2         = /\\d\\d/;          //      00 - 99\nvar match3         = /\\d{3}/;         //     000 - 999\nvar match4         = /\\d{4}/;         //    0000 - 9999\nvar match6         = /[+-]?\\d{6}/;    // -999999 - 999999\nvar match1to2      = /\\d\\d?/;         //       0 - 99\nvar match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\nvar match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\nvar match1to3      = /\\d{1,3}/;       //       0 - 999\nvar match1to4      = /\\d{1,4}/;       //       0 - 9999\nvar match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\nvar matchUnsigned  = /\\d+/;           //       0 - inf\nvar matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\nvar matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\nvar matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\nvar matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n// any word (or two) characters or numbers including two/three word month in arabic.\n// includes scottish gaelic two word and hyphenated months\nvar matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n\nvar regexes = {};\n\nfunction addRegexToken (token, regex, strictRegex) {\n    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n        return (isStrict && strictRegex) ? strictRegex : regex;\n    };\n}\n\nfunction getParseRegexForToken (token, config) {\n    if (!hasOwnProp(regexes, token)) {\n        return new RegExp(unescapeFormat(token));\n    }\n\n    return regexes[token](config._strict, config._locale);\n}\n\n// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\nfunction unescapeFormat(s) {\n    return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n        return p1 || p2 || p3 || p4;\n    }));\n}\n\nfunction regexEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nvar tokens = {};\n\nfunction addParseToken (token, callback) {\n    var i, func = callback;\n    if (typeof token === 'string') {\n        token = [token];\n    }\n    if (isNumber(callback)) {\n        func = function (input, array) {\n            array[callback] = toInt(input);\n        };\n    }\n    for (i = 0; i < token.length; i++) {\n        tokens[token[i]] = func;\n    }\n}\n\nfunction addWeekParseToken (token, callback) {\n    addParseToken(token, function (input, array, config, token) {\n        config._w = config._w || {};\n        callback(input, config._w, config, token);\n    });\n}\n\nfunction addTimeToArrayFromToken(token, input, config) {\n    if (input != null && hasOwnProp(tokens, token)) {\n        tokens[token](input, config._a, config, token);\n    }\n}\n\nvar YEAR = 0;\nvar MONTH = 1;\nvar DATE = 2;\nvar HOUR = 3;\nvar MINUTE = 4;\nvar SECOND = 5;\nvar MILLISECOND = 6;\nvar WEEK = 7;\nvar WEEKDAY = 8;\n\n// FORMATTING\n\naddFormatToken('Y', 0, 0, function () {\n    var y = this.year();\n    return y <= 9999 ? '' + y : '+' + y;\n});\n\naddFormatToken(0, ['YY', 2], 0, function () {\n    return this.year() % 100;\n});\n\naddFormatToken(0, ['YYYY',   4],       0, 'year');\naddFormatToken(0, ['YYYYY',  5],       0, 'year');\naddFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n// ALIASES\n\naddUnitAlias('year', 'y');\n\n// PRIORITIES\n\naddUnitPriority('year', 1);\n\n// PARSING\n\naddRegexToken('Y',      matchSigned);\naddRegexToken('YY',     match1to2, match2);\naddRegexToken('YYYY',   match1to4, match4);\naddRegexToken('YYYYY',  match1to6, match6);\naddRegexToken('YYYYYY', match1to6, match6);\n\naddParseToken(['YYYYY', 'YYYYYY'], YEAR);\naddParseToken('YYYY', function (input, array) {\n    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n});\naddParseToken('YY', function (input, array) {\n    array[YEAR] = hooks.parseTwoDigitYear(input);\n});\naddParseToken('Y', function (input, array) {\n    array[YEAR] = parseInt(input, 10);\n});\n\n// HELPERS\n\nfunction daysInYear(year) {\n    return isLeapYear(year) ? 366 : 365;\n}\n\nfunction isLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n// HOOKS\n\nhooks.parseTwoDigitYear = function (input) {\n    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n};\n\n// MOMENTS\n\nvar getSetYear = makeGetSet('FullYear', true);\n\nfunction getIsLeapYear () {\n    return isLeapYear(this.year());\n}\n\nfunction makeGetSet (unit, keepTime) {\n    return function (value) {\n        if (value != null) {\n            set$1(this, unit, value);\n            hooks.updateOffset(this, keepTime);\n            return this;\n        } else {\n            return get(this, unit);\n        }\n    };\n}\n\nfunction get (mom, unit) {\n    return mom.isValid() ?\n        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n}\n\nfunction set$1 (mom, unit, value) {\n    if (mom.isValid() && !isNaN(value)) {\n        if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n        }\n        else {\n            mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n}\n\n// MOMENTS\n\nfunction stringGet (units) {\n    units = normalizeUnits(units);\n    if (isFunction(this[units])) {\n        return this[units]();\n    }\n    return this;\n}\n\n\nfunction stringSet (units, value) {\n    if (typeof units === 'object') {\n        units = normalizeObjectUnits(units);\n        var prioritized = getPrioritizedUnits(units);\n        for (var i = 0; i < prioritized.length; i++) {\n            this[prioritized[i].unit](units[prioritized[i].unit]);\n        }\n    } else {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units](value);\n        }\n    }\n    return this;\n}\n\nfunction mod(n, x) {\n    return ((n % x) + x) % x;\n}\n\nvar indexOf;\n\nif (Array.prototype.indexOf) {\n    indexOf = Array.prototype.indexOf;\n} else {\n    indexOf = function (o) {\n        // I know\n        var i;\n        for (i = 0; i < this.length; ++i) {\n            if (this[i] === o) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nfunction daysInMonth(year, month) {\n    if (isNaN(year) || isNaN(month)) {\n        return NaN;\n    }\n    var modMonth = mod(month, 12);\n    year += (month - modMonth) / 12;\n    return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n}\n\n// FORMATTING\n\naddFormatToken('M', ['MM', 2], 'Mo', function () {\n    return this.month() + 1;\n});\n\naddFormatToken('MMM', 0, 0, function (format) {\n    return this.localeData().monthsShort(this, format);\n});\n\naddFormatToken('MMMM', 0, 0, function (format) {\n    return this.localeData().months(this, format);\n});\n\n// ALIASES\n\naddUnitAlias('month', 'M');\n\n// PRIORITY\n\naddUnitPriority('month', 8);\n\n// PARSING\n\naddRegexToken('M',    match1to2);\naddRegexToken('MM',   match1to2, match2);\naddRegexToken('MMM',  function (isStrict, locale) {\n    return locale.monthsShortRegex(isStrict);\n});\naddRegexToken('MMMM', function (isStrict, locale) {\n    return locale.monthsRegex(isStrict);\n});\n\naddParseToken(['M', 'MM'], function (input, array) {\n    array[MONTH] = toInt(input) - 1;\n});\n\naddParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n    var month = config._locale.monthsParse(input, token, config._strict);\n    // if we didn't find a month name, mark the date as invalid.\n    if (month != null) {\n        array[MONTH] = month;\n    } else {\n        getParsingFlags(config).invalidMonth = input;\n    }\n});\n\n// LOCALES\n\nvar MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\nvar defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\nfunction localeMonths (m, format) {\n    if (!m) {\n        return isArray(this._months) ? this._months :\n            this._months['standalone'];\n    }\n    return isArray(this._months) ? this._months[m.month()] :\n        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nvar defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\nfunction localeMonthsShort (m, format) {\n    if (!m) {\n        return isArray(this._monthsShort) ? this._monthsShort :\n            this._monthsShort['standalone'];\n    }\n    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n}\n\nfunction handleStrictParse(monthName, format, strict) {\n    var i, ii, mom, llc = monthName.toLocaleLowerCase();\n    if (!this._monthsParse) {\n        // this is not used\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n        for (i = 0; i < 12; ++i) {\n            mom = createUTC([2000, i]);\n            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'MMM') {\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._longMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._longMonthsParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortMonthsParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeMonthsParse (monthName, format, strict) {\n    var i, mom, regex;\n\n    if (this._monthsParseExact) {\n        return handleStrictParse.call(this, monthName, format, strict);\n    }\n\n    if (!this._monthsParse) {\n        this._monthsParse = [];\n        this._longMonthsParse = [];\n        this._shortMonthsParse = [];\n    }\n\n    // TODO: add sorting\n    // Sorting makes sure if one month (or abbr) is a prefix of another\n    // see sorting in computeMonthsParse\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        if (strict && !this._longMonthsParse[i]) {\n            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n        }\n        if (!strict && !this._monthsParse[i]) {\n            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n            return i;\n        } else if (!strict && this._monthsParse[i].test(monthName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction setMonth (mom, value) {\n    var dayOfMonth;\n\n    if (!mom.isValid()) {\n        // No op\n        return mom;\n    }\n\n    if (typeof value === 'string') {\n        if (/^\\d+$/.test(value)) {\n            value = toInt(value);\n        } else {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (!isNumber(value)) {\n                return mom;\n            }\n        }\n    }\n\n    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n    return mom;\n}\n\nfunction getSetMonth (value) {\n    if (value != null) {\n        setMonth(this, value);\n        hooks.updateOffset(this, true);\n        return this;\n    } else {\n        return get(this, 'Month');\n    }\n}\n\nfunction getDaysInMonth () {\n    return daysInMonth(this.year(), this.month());\n}\n\nvar defaultMonthsShortRegex = matchWord;\nfunction monthsShortRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsShortStrictRegex;\n        } else {\n            return this._monthsShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsShortRegex')) {\n            this._monthsShortRegex = defaultMonthsShortRegex;\n        }\n        return this._monthsShortStrictRegex && isStrict ?\n            this._monthsShortStrictRegex : this._monthsShortRegex;\n    }\n}\n\nvar defaultMonthsRegex = matchWord;\nfunction monthsRegex (isStrict) {\n    if (this._monthsParseExact) {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            computeMonthsParse.call(this);\n        }\n        if (isStrict) {\n            return this._monthsStrictRegex;\n        } else {\n            return this._monthsRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_monthsRegex')) {\n            this._monthsRegex = defaultMonthsRegex;\n        }\n        return this._monthsStrictRegex && isStrict ?\n            this._monthsStrictRegex : this._monthsRegex;\n    }\n}\n\nfunction computeMonthsParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom;\n    for (i = 0; i < 12; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, i]);\n        shortPieces.push(this.monthsShort(mom, ''));\n        longPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.months(mom, ''));\n        mixedPieces.push(this.monthsShort(mom, ''));\n    }\n    // Sorting makes sure if one month (or abbr) is a prefix of another it\n    // will match the longer piece.\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 12; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n    }\n    for (i = 0; i < 24; i++) {\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._monthsShortRegex = this._monthsRegex;\n    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n}\n\nfunction createDate (y, m, d, h, M, s, ms) {\n    // can't just apply() to create a date:\n    // https://stackoverflow.com/q/181348\n    var date = new Date(y, m, d, h, M, s, ms);\n\n    // the date constructor remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {\n        date.setFullYear(y);\n    }\n    return date;\n}\n\nfunction createUTCDate (y) {\n    var date = new Date(Date.UTC.apply(null, arguments));\n\n    // the Date.UTC function remaps years 0-99 to 1900-1999\n    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {\n        date.setUTCFullYear(y);\n    }\n    return date;\n}\n\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        fwd = 7 + dow - doy,\n        // first-week day local weekday -- which local weekday is fwd\n        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n    return -fwdlw + fwd - 1;\n}\n\n// https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\nfunction dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n    var localWeekday = (7 + weekday - dow) % 7,\n        weekOffset = firstWeekOffset(year, dow, doy),\n        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n        resYear, resDayOfYear;\n\n    if (dayOfYear <= 0) {\n        resYear = year - 1;\n        resDayOfYear = daysInYear(resYear) + dayOfYear;\n    } else if (dayOfYear > daysInYear(year)) {\n        resYear = year + 1;\n        resDayOfYear = dayOfYear - daysInYear(year);\n    } else {\n        resYear = year;\n        resDayOfYear = dayOfYear;\n    }\n\n    return {\n        year: resYear,\n        dayOfYear: resDayOfYear\n    };\n}\n\nfunction weekOfYear(mom, dow, doy) {\n    var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n        resWeek, resYear;\n\n    if (week < 1) {\n        resYear = mom.year() - 1;\n        resWeek = week + weeksInYear(resYear, dow, doy);\n    } else if (week > weeksInYear(mom.year(), dow, doy)) {\n        resWeek = week - weeksInYear(mom.year(), dow, doy);\n        resYear = mom.year() + 1;\n    } else {\n        resYear = mom.year();\n        resWeek = week;\n    }\n\n    return {\n        week: resWeek,\n        year: resYear\n    };\n}\n\nfunction weeksInYear(year, dow, doy) {\n    var weekOffset = firstWeekOffset(year, dow, doy),\n        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n}\n\n// FORMATTING\n\naddFormatToken('w', ['ww', 2], 'wo', 'week');\naddFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n// ALIASES\n\naddUnitAlias('week', 'w');\naddUnitAlias('isoWeek', 'W');\n\n// PRIORITIES\n\naddUnitPriority('week', 5);\naddUnitPriority('isoWeek', 5);\n\n// PARSING\n\naddRegexToken('w',  match1to2);\naddRegexToken('ww', match1to2, match2);\naddRegexToken('W',  match1to2);\naddRegexToken('WW', match1to2, match2);\n\naddWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n    week[token.substr(0, 1)] = toInt(input);\n});\n\n// HELPERS\n\n// LOCALES\n\nfunction localeWeek (mom) {\n    return weekOfYear(mom, this._week.dow, this._week.doy).week;\n}\n\nvar defaultLocaleWeek = {\n    dow : 0, // Sunday is the first day of the week.\n    doy : 6  // The week that contains Jan 1st is the first week of the year.\n};\n\nfunction localeFirstDayOfWeek () {\n    return this._week.dow;\n}\n\nfunction localeFirstDayOfYear () {\n    return this._week.doy;\n}\n\n// MOMENTS\n\nfunction getSetWeek (input) {\n    var week = this.localeData().week(this);\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\nfunction getSetISOWeek (input) {\n    var week = weekOfYear(this, 1, 4).week;\n    return input == null ? week : this.add((input - week) * 7, 'd');\n}\n\n// FORMATTING\n\naddFormatToken('d', 0, 'do', 'day');\n\naddFormatToken('dd', 0, 0, function (format) {\n    return this.localeData().weekdaysMin(this, format);\n});\n\naddFormatToken('ddd', 0, 0, function (format) {\n    return this.localeData().weekdaysShort(this, format);\n});\n\naddFormatToken('dddd', 0, 0, function (format) {\n    return this.localeData().weekdays(this, format);\n});\n\naddFormatToken('e', 0, 0, 'weekday');\naddFormatToken('E', 0, 0, 'isoWeekday');\n\n// ALIASES\n\naddUnitAlias('day', 'd');\naddUnitAlias('weekday', 'e');\naddUnitAlias('isoWeekday', 'E');\n\n// PRIORITY\naddUnitPriority('day', 11);\naddUnitPriority('weekday', 11);\naddUnitPriority('isoWeekday', 11);\n\n// PARSING\n\naddRegexToken('d',    match1to2);\naddRegexToken('e',    match1to2);\naddRegexToken('E',    match1to2);\naddRegexToken('dd',   function (isStrict, locale) {\n    return locale.weekdaysMinRegex(isStrict);\n});\naddRegexToken('ddd',   function (isStrict, locale) {\n    return locale.weekdaysShortRegex(isStrict);\n});\naddRegexToken('dddd',   function (isStrict, locale) {\n    return locale.weekdaysRegex(isStrict);\n});\n\naddWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n    var weekday = config._locale.weekdaysParse(input, token, config._strict);\n    // if we didn't get a weekday name, mark the date as invalid\n    if (weekday != null) {\n        week.d = weekday;\n    } else {\n        getParsingFlags(config).invalidWeekday = input;\n    }\n});\n\naddWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n    week[token] = toInt(input);\n});\n\n// HELPERS\n\nfunction parseWeekday(input, locale) {\n    if (typeof input !== 'string') {\n        return input;\n    }\n\n    if (!isNaN(input)) {\n        return parseInt(input, 10);\n    }\n\n    input = locale.weekdaysParse(input);\n    if (typeof input === 'number') {\n        return input;\n    }\n\n    return null;\n}\n\nfunction parseIsoWeekday(input, locale) {\n    if (typeof input === 'string') {\n        return locale.weekdaysParse(input) % 7 || 7;\n    }\n    return isNaN(input) ? null : input;\n}\n\n// LOCALES\n\nvar defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\nfunction localeWeekdays (m, format) {\n    if (!m) {\n        return isArray(this._weekdays) ? this._weekdays :\n            this._weekdays['standalone'];\n    }\n    return isArray(this._weekdays) ? this._weekdays[m.day()] :\n        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];\n}\n\nvar defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\nfunction localeWeekdaysShort (m) {\n    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n}\n\nvar defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\nfunction localeWeekdaysMin (m) {\n    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n}\n\nfunction handleStrictParse$1(weekdayName, format, strict) {\n    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._minWeekdaysParse = [];\n\n        for (i = 0; i < 7; ++i) {\n            mom = createUTC([2000, 1]).day(i);\n            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n        }\n    }\n\n    if (strict) {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    } else {\n        if (format === 'dddd') {\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else if (format === 'ddd') {\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        } else {\n            ii = indexOf.call(this._minWeekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._weekdaysParse, llc);\n            if (ii !== -1) {\n                return ii;\n            }\n            ii = indexOf.call(this._shortWeekdaysParse, llc);\n            return ii !== -1 ? ii : null;\n        }\n    }\n}\n\nfunction localeWeekdaysParse (weekdayName, format, strict) {\n    var i, mom, regex;\n\n    if (this._weekdaysParseExact) {\n        return handleStrictParse$1.call(this, weekdayName, format, strict);\n    }\n\n    if (!this._weekdaysParse) {\n        this._weekdaysParse = [];\n        this._minWeekdaysParse = [];\n        this._shortWeekdaysParse = [];\n        this._fullWeekdaysParse = [];\n    }\n\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n\n        mom = createUTC([2000, 1]).day(i);\n        if (strict && !this._fullWeekdaysParse[i]) {\n            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');\n            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');\n        }\n        if (!this._weekdaysParse[i]) {\n            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n        }\n        // test the regex\n        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n            return i;\n        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n            return i;\n        }\n    }\n}\n\n// MOMENTS\n\nfunction getSetDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n    if (input != null) {\n        input = parseWeekday(input, this.localeData());\n        return this.add(input - day, 'd');\n    } else {\n        return day;\n    }\n}\n\nfunction getSetLocaleDayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n    return input == null ? weekday : this.add(input - weekday, 'd');\n}\n\nfunction getSetISODayOfWeek (input) {\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n\n    // behaves the same as moment#day except\n    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n    // as a setter, sunday should belong to the previous week.\n\n    if (input != null) {\n        var weekday = parseIsoWeekday(input, this.localeData());\n        return this.day(this.day() % 7 ? weekday : weekday - 7);\n    } else {\n        return this.day() || 7;\n    }\n}\n\nvar defaultWeekdaysRegex = matchWord;\nfunction weekdaysRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysStrictRegex;\n        } else {\n            return this._weekdaysRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            this._weekdaysRegex = defaultWeekdaysRegex;\n        }\n        return this._weekdaysStrictRegex && isStrict ?\n            this._weekdaysStrictRegex : this._weekdaysRegex;\n    }\n}\n\nvar defaultWeekdaysShortRegex = matchWord;\nfunction weekdaysShortRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysShortStrictRegex;\n        } else {\n            return this._weekdaysShortRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n            this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n        }\n        return this._weekdaysShortStrictRegex && isStrict ?\n            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n    }\n}\n\nvar defaultWeekdaysMinRegex = matchWord;\nfunction weekdaysMinRegex (isStrict) {\n    if (this._weekdaysParseExact) {\n        if (!hasOwnProp(this, '_weekdaysRegex')) {\n            computeWeekdaysParse.call(this);\n        }\n        if (isStrict) {\n            return this._weekdaysMinStrictRegex;\n        } else {\n            return this._weekdaysMinRegex;\n        }\n    } else {\n        if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n            this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n        }\n        return this._weekdaysMinStrictRegex && isStrict ?\n            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n    }\n}\n\n\nfunction computeWeekdaysParse () {\n    function cmpLenRev(a, b) {\n        return b.length - a.length;\n    }\n\n    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n        i, mom, minp, shortp, longp;\n    for (i = 0; i < 7; i++) {\n        // make the regex if we don't have it already\n        mom = createUTC([2000, 1]).day(i);\n        minp = this.weekdaysMin(mom, '');\n        shortp = this.weekdaysShort(mom, '');\n        longp = this.weekdays(mom, '');\n        minPieces.push(minp);\n        shortPieces.push(shortp);\n        longPieces.push(longp);\n        mixedPieces.push(minp);\n        mixedPieces.push(shortp);\n        mixedPieces.push(longp);\n    }\n    // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n    // will match the longer piece.\n    minPieces.sort(cmpLenRev);\n    shortPieces.sort(cmpLenRev);\n    longPieces.sort(cmpLenRev);\n    mixedPieces.sort(cmpLenRev);\n    for (i = 0; i < 7; i++) {\n        shortPieces[i] = regexEscape(shortPieces[i]);\n        longPieces[i] = regexEscape(longPieces[i]);\n        mixedPieces[i] = regexEscape(mixedPieces[i]);\n    }\n\n    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n    this._weekdaysShortRegex = this._weekdaysRegex;\n    this._weekdaysMinRegex = this._weekdaysRegex;\n\n    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n}\n\n// FORMATTING\n\nfunction hFormat() {\n    return this.hours() % 12 || 12;\n}\n\nfunction kFormat() {\n    return this.hours() || 24;\n}\n\naddFormatToken('H', ['HH', 2], 0, 'hour');\naddFormatToken('h', ['hh', 2], 0, hFormat);\naddFormatToken('k', ['kk', 2], 0, kFormat);\n\naddFormatToken('hmm', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('hmmss', 0, 0, function () {\n    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\naddFormatToken('Hmm', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2);\n});\n\naddFormatToken('Hmmss', 0, 0, function () {\n    return '' + this.hours() + zeroFill(this.minutes(), 2) +\n        zeroFill(this.seconds(), 2);\n});\n\nfunction meridiem (token, lowercase) {\n    addFormatToken(token, 0, 0, function () {\n        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n    });\n}\n\nmeridiem('a', true);\nmeridiem('A', false);\n\n// ALIASES\n\naddUnitAlias('hour', 'h');\n\n// PRIORITY\naddUnitPriority('hour', 13);\n\n// PARSING\n\nfunction matchMeridiem (isStrict, locale) {\n    return locale._meridiemParse;\n}\n\naddRegexToken('a',  matchMeridiem);\naddRegexToken('A',  matchMeridiem);\naddRegexToken('H',  match1to2);\naddRegexToken('h',  match1to2);\naddRegexToken('k',  match1to2);\naddRegexToken('HH', match1to2, match2);\naddRegexToken('hh', match1to2, match2);\naddRegexToken('kk', match1to2, match2);\n\naddRegexToken('hmm', match3to4);\naddRegexToken('hmmss', match5to6);\naddRegexToken('Hmm', match3to4);\naddRegexToken('Hmmss', match5to6);\n\naddParseToken(['H', 'HH'], HOUR);\naddParseToken(['k', 'kk'], function (input, array, config) {\n    var kInput = toInt(input);\n    array[HOUR] = kInput === 24 ? 0 : kInput;\n});\naddParseToken(['a', 'A'], function (input, array, config) {\n    config._isPm = config._locale.isPM(input);\n    config._meridiem = input;\n});\naddParseToken(['h', 'hh'], function (input, array, config) {\n    array[HOUR] = toInt(input);\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n    getParsingFlags(config).bigHour = true;\n});\naddParseToken('Hmm', function (input, array, config) {\n    var pos = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos));\n    array[MINUTE] = toInt(input.substr(pos));\n});\naddParseToken('Hmmss', function (input, array, config) {\n    var pos1 = input.length - 4;\n    var pos2 = input.length - 2;\n    array[HOUR] = toInt(input.substr(0, pos1));\n    array[MINUTE] = toInt(input.substr(pos1, 2));\n    array[SECOND] = toInt(input.substr(pos2));\n});\n\n// LOCALES\n\nfunction localeIsPM (input) {\n    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n    // Using charAt should be more compatible.\n    return ((input + '').toLowerCase().charAt(0) === 'p');\n}\n\nvar defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\nfunction localeMeridiem (hours, minutes, isLower) {\n    if (hours > 11) {\n        return isLower ? 'pm' : 'PM';\n    } else {\n        return isLower ? 'am' : 'AM';\n    }\n}\n\n\n// MOMENTS\n\n// Setting the hour should keep the time, because the user explicitly\n// specified which hour he wants. So trying to maintain the same hour (in\n// a new timezone) makes sense. Adding/subtracting hours does not follow\n// this rule.\nvar getSetHour = makeGetSet('Hours', true);\n\n// months\n// week\n// weekdays\n// meridiem\nvar baseConfig = {\n    calendar: defaultCalendar,\n    longDateFormat: defaultLongDateFormat,\n    invalidDate: defaultInvalidDate,\n    ordinal: defaultOrdinal,\n    dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n    relativeTime: defaultRelativeTime,\n\n    months: defaultLocaleMonths,\n    monthsShort: defaultLocaleMonthsShort,\n\n    week: defaultLocaleWeek,\n\n    weekdays: defaultLocaleWeekdays,\n    weekdaysMin: defaultLocaleWeekdaysMin,\n    weekdaysShort: defaultLocaleWeekdaysShort,\n\n    meridiemParse: defaultLocaleMeridiemParse\n};\n\n// internal storage for locale config files\nvar locales = {};\nvar localeFamilies = {};\nvar globalLocale;\n\nfunction normalizeLocale(key) {\n    return key ? key.toLowerCase().replace('_', '-') : key;\n}\n\n// pick the locale from the array\n// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\nfunction chooseLocale(names) {\n    var i = 0, j, next, locale, split;\n\n    while (i < names.length) {\n        split = normalizeLocale(names[i]).split('-');\n        j = split.length;\n        next = normalizeLocale(names[i + 1]);\n        next = next ? next.split('-') : null;\n        while (j > 0) {\n            locale = loadLocale(split.slice(0, j).join('-'));\n            if (locale) {\n                return locale;\n            }\n            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                //the next array item is better than a shallower substring of this one\n                break;\n            }\n            j--;\n        }\n        i++;\n    }\n    return null;\n}\n\nfunction loadLocale(name) {\n    var oldLocale = null;\n    // TODO: Find a better way to register and load all the locales in Node\n    if (!locales[name] && (typeof module !== 'undefined') &&\n            module && module.exports) {\n        try {\n            oldLocale = globalLocale._abbr;\n            var aliasedRequire = require;\n            aliasedRequire('./locale/' + name);\n            getSetGlobalLocale(oldLocale);\n        } catch (e) {}\n    }\n    return locales[name];\n}\n\n// This function will load locale and then set the global locale.  If\n// no arguments are passed in, it will simply return the current global\n// locale key.\nfunction getSetGlobalLocale (key, values) {\n    var data;\n    if (key) {\n        if (isUndefined(values)) {\n            data = getLocale(key);\n        }\n        else {\n            data = defineLocale(key, values);\n        }\n\n        if (data) {\n            // moment.duration._locale = moment._locale = data;\n            globalLocale = data;\n        }\n    }\n\n    return globalLocale._abbr;\n}\n\nfunction defineLocale (name, config) {\n    if (config !== null) {\n        var parentConfig = baseConfig;\n        config.abbr = name;\n        if (locales[name] != null) {\n            deprecateSimple('defineLocaleOverride',\n                    'use moment.updateLocale(localeName, config) to change ' +\n                    'an existing locale. moment.defineLocale(localeName, ' +\n                    'config) should only be used for creating a new locale ' +\n                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n            parentConfig = locales[name]._config;\n        } else if (config.parentLocale != null) {\n            if (locales[config.parentLocale] != null) {\n                parentConfig = locales[config.parentLocale]._config;\n            } else {\n                if (!localeFamilies[config.parentLocale]) {\n                    localeFamilies[config.parentLocale] = [];\n                }\n                localeFamilies[config.parentLocale].push({\n                    name: name,\n                    config: config\n                });\n                return null;\n            }\n        }\n        locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n        if (localeFamilies[name]) {\n            localeFamilies[name].forEach(function (x) {\n                defineLocale(x.name, x.config);\n            });\n        }\n\n        // backwards compat for now: also set the locale\n        // make sure we set the locale AFTER all child locales have been\n        // created, so we won't end up with the child locale set.\n        getSetGlobalLocale(name);\n\n\n        return locales[name];\n    } else {\n        // useful for testing\n        delete locales[name];\n        return null;\n    }\n}\n\nfunction updateLocale(name, config) {\n    if (config != null) {\n        var locale, tmpLocale, parentConfig = baseConfig;\n        // MERGE\n        tmpLocale = loadLocale(name);\n        if (tmpLocale != null) {\n            parentConfig = tmpLocale._config;\n        }\n        config = mergeConfigs(parentConfig, config);\n        locale = new Locale(config);\n        locale.parentLocale = locales[name];\n        locales[name] = locale;\n\n        // backwards compat for now: also set the locale\n        getSetGlobalLocale(name);\n    } else {\n        // pass null for config to unupdate, useful for tests\n        if (locales[name] != null) {\n            if (locales[name].parentLocale != null) {\n                locales[name] = locales[name].parentLocale;\n            } else if (locales[name] != null) {\n                delete locales[name];\n            }\n        }\n    }\n    return locales[name];\n}\n\n// returns locale data\nfunction getLocale (key) {\n    var locale;\n\n    if (key && key._locale && key._locale._abbr) {\n        key = key._locale._abbr;\n    }\n\n    if (!key) {\n        return globalLocale;\n    }\n\n    if (!isArray(key)) {\n        //short-circuit everything else\n        locale = loadLocale(key);\n        if (locale) {\n            return locale;\n        }\n        key = [key];\n    }\n\n    return chooseLocale(key);\n}\n\nfunction listLocales() {\n    return keys(locales);\n}\n\nfunction checkOverflow (m) {\n    var overflow;\n    var a = m._a;\n\n    if (a && getParsingFlags(m).overflow === -2) {\n        overflow =\n            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n            -1;\n\n        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n            overflow = DATE;\n        }\n        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n            overflow = WEEK;\n        }\n        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n            overflow = WEEKDAY;\n        }\n\n        getParsingFlags(m).overflow = overflow;\n    }\n\n    return m;\n}\n\n// Pick the first defined of two or three arguments.\nfunction defaults(a, b, c) {\n    if (a != null) {\n        return a;\n    }\n    if (b != null) {\n        return b;\n    }\n    return c;\n}\n\nfunction currentDateArray(config) {\n    // hooks is actually the exported moment object\n    var nowValue = new Date(hooks.now());\n    if (config._useUTC) {\n        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n    }\n    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n}\n\n// convert an array to a date.\n// the array should mirror the parameters below\n// note: all values past the year are optional and will default to the lowest possible value.\n// [year, month, day , hour, minute, second, millisecond]\nfunction configFromArray (config) {\n    var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n    if (config._d) {\n        return;\n    }\n\n    currentDate = currentDateArray(config);\n\n    //compute day of the year from weeks and weekdays\n    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n        dayOfYearFromWeekInfo(config);\n    }\n\n    //if the day of the year is set, figure out what it is\n    if (config._dayOfYear != null) {\n        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n        if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n            getParsingFlags(config)._overflowDayOfYear = true;\n        }\n\n        date = createUTCDate(yearToUse, 0, config._dayOfYear);\n        config._a[MONTH] = date.getUTCMonth();\n        config._a[DATE] = date.getUTCDate();\n    }\n\n    // Default to current date.\n    // * if no year, month, day of month are given, default to today\n    // * if day of month is given, default month and year\n    // * if month is given, default only year\n    // * if year is given, don't default anything\n    for (i = 0; i < 3 && config._a[i] == null; ++i) {\n        config._a[i] = input[i] = currentDate[i];\n    }\n\n    // Zero out whatever was not defaulted, including time\n    for (; i < 7; i++) {\n        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n    }\n\n    // Check for 24:00:00.000\n    if (config._a[HOUR] === 24 &&\n            config._a[MINUTE] === 0 &&\n            config._a[SECOND] === 0 &&\n            config._a[MILLISECOND] === 0) {\n        config._nextDay = true;\n        config._a[HOUR] = 0;\n    }\n\n    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n    expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n    // Apply timezone offset from input. The actual utcOffset can be changed\n    // with parseZone.\n    if (config._tzm != null) {\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n    }\n\n    if (config._nextDay) {\n        config._a[HOUR] = 24;\n    }\n\n    // check for mismatching day of week\n    if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n        getParsingFlags(config).weekdayMismatch = true;\n    }\n}\n\nfunction dayOfYearFromWeekInfo(config) {\n    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n    w = config._w;\n    if (w.GG != null || w.W != null || w.E != null) {\n        dow = 1;\n        doy = 4;\n\n        // TODO: We need to take the current isoWeekYear, but that depends on\n        // how we interpret now (local, utc, fixed offset). So create\n        // a now version of current config (take local/utc/offset flags, and\n        // create now).\n        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n        week = defaults(w.W, 1);\n        weekday = defaults(w.E, 1);\n        if (weekday < 1 || weekday > 7) {\n            weekdayOverflow = true;\n        }\n    } else {\n        dow = config._locale._week.dow;\n        doy = config._locale._week.doy;\n\n        var curWeek = weekOfYear(createLocal(), dow, doy);\n\n        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n        // Default to current week.\n        week = defaults(w.w, curWeek.week);\n\n        if (w.d != null) {\n            // weekday -- low day numbers are considered next week\n            weekday = w.d;\n            if (weekday < 0 || weekday > 6) {\n                weekdayOverflow = true;\n            }\n        } else if (w.e != null) {\n            // local weekday -- counting starts from begining of week\n            weekday = w.e + dow;\n            if (w.e < 0 || w.e > 6) {\n                weekdayOverflow = true;\n            }\n        } else {\n            // default to begining of week\n            weekday = dow;\n        }\n    }\n    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n        getParsingFlags(config)._overflowWeeks = true;\n    } else if (weekdayOverflow != null) {\n        getParsingFlags(config)._overflowWeekday = true;\n    } else {\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n}\n\n// iso 8601 regex\n// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\nvar extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\nvar basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\nvar tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\nvar isoDates = [\n    ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n    ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n    ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n    ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n    ['YYYY-DDD', /\\d{4}-\\d{3}/],\n    ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n    ['YYYYYYMMDD', /[+-]\\d{10}/],\n    ['YYYYMMDD', /\\d{8}/],\n    // YYYYMM is NOT allowed by the standard\n    ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n    ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n    ['YYYYDDD', /\\d{7}/]\n];\n\n// iso time formats and regexes\nvar isoTimes = [\n    ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n    ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n    ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n    ['HH:mm', /\\d\\d:\\d\\d/],\n    ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n    ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n    ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n    ['HHmm', /\\d\\d\\d\\d/],\n    ['HH', /\\d\\d/]\n];\n\nvar aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n// date from iso format\nfunction configFromISO(config) {\n    var i, l,\n        string = config._i,\n        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n        allowTime, dateFormat, timeFormat, tzFormat;\n\n    if (match) {\n        getParsingFlags(config).iso = true;\n\n        for (i = 0, l = isoDates.length; i < l; i++) {\n            if (isoDates[i][1].exec(match[1])) {\n                dateFormat = isoDates[i][0];\n                allowTime = isoDates[i][2] !== false;\n                break;\n            }\n        }\n        if (dateFormat == null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[3]) {\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(match[3])) {\n                    // match[2] should be 'T' or space\n                    timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                    break;\n                }\n            }\n            if (timeFormat == null) {\n                config._isValid = false;\n                return;\n            }\n        }\n        if (!allowTime && timeFormat != null) {\n            config._isValid = false;\n            return;\n        }\n        if (match[4]) {\n            if (tzRegex.exec(match[4])) {\n                tzFormat = 'Z';\n            } else {\n                config._isValid = false;\n                return;\n            }\n        }\n        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n        configFromStringAndFormat(config);\n    } else {\n        config._isValid = false;\n    }\n}\n\n// RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\nvar rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\nfunction extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n    var result = [\n        untruncateYear(yearStr),\n        defaultLocaleMonthsShort.indexOf(monthStr),\n        parseInt(dayStr, 10),\n        parseInt(hourStr, 10),\n        parseInt(minuteStr, 10)\n    ];\n\n    if (secondStr) {\n        result.push(parseInt(secondStr, 10));\n    }\n\n    return result;\n}\n\nfunction untruncateYear(yearStr) {\n    var year = parseInt(yearStr, 10);\n    if (year <= 49) {\n        return 2000 + year;\n    } else if (year <= 999) {\n        return 1900 + year;\n    }\n    return year;\n}\n\nfunction preprocessRFC2822(s) {\n    // Remove comments and folding whitespace and replace multiple-spaces with a single space\n    return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').trim();\n}\n\nfunction checkWeekday(weekdayStr, parsedInput, config) {\n    if (weekdayStr) {\n        // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n        var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n            weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n        if (weekdayProvided !== weekdayActual) {\n            getParsingFlags(config).weekdayMismatch = true;\n            config._isValid = false;\n            return false;\n        }\n    }\n    return true;\n}\n\nvar obsOffsets = {\n    UT: 0,\n    GMT: 0,\n    EDT: -4 * 60,\n    EST: -5 * 60,\n    CDT: -5 * 60,\n    CST: -6 * 60,\n    MDT: -6 * 60,\n    MST: -7 * 60,\n    PDT: -7 * 60,\n    PST: -8 * 60\n};\n\nfunction calculateOffset(obsOffset, militaryOffset, numOffset) {\n    if (obsOffset) {\n        return obsOffsets[obsOffset];\n    } else if (militaryOffset) {\n        // the only allowed military tz is Z\n        return 0;\n    } else {\n        var hm = parseInt(numOffset, 10);\n        var m = hm % 100, h = (hm - m) / 100;\n        return h * 60 + m;\n    }\n}\n\n// date and time from ref 2822 format\nfunction configFromRFC2822(config) {\n    var match = rfc2822.exec(preprocessRFC2822(config._i));\n    if (match) {\n        var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n        if (!checkWeekday(match[1], parsedArray, config)) {\n            return;\n        }\n\n        config._a = parsedArray;\n        config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n        config._d = createUTCDate.apply(null, config._a);\n        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n        getParsingFlags(config).rfc2822 = true;\n    } else {\n        config._isValid = false;\n    }\n}\n\n// date from iso format or fallback\nfunction configFromString(config) {\n    var matched = aspNetJsonRegex.exec(config._i);\n\n    if (matched !== null) {\n        config._d = new Date(+matched[1]);\n        return;\n    }\n\n    configFromISO(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    configFromRFC2822(config);\n    if (config._isValid === false) {\n        delete config._isValid;\n    } else {\n        return;\n    }\n\n    // Final attempt, use Input Fallback\n    hooks.createFromInputFallback(config);\n}\n\nhooks.createFromInputFallback = deprecate(\n    'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n    'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n    'discouraged and will be removed in an upcoming major release. Please refer to ' +\n    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n    function (config) {\n        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n    }\n);\n\n// constant that refers to the ISO standard\nhooks.ISO_8601 = function () {};\n\n// constant that refers to the RFC 2822 form\nhooks.RFC_2822 = function () {};\n\n// date from string and format string\nfunction configFromStringAndFormat(config) {\n    // TODO: Move this to another part of the creation flow to prevent circular deps\n    if (config._f === hooks.ISO_8601) {\n        configFromISO(config);\n        return;\n    }\n    if (config._f === hooks.RFC_2822) {\n        configFromRFC2822(config);\n        return;\n    }\n    config._a = [];\n    getParsingFlags(config).empty = true;\n\n    // This array is used to make a Date, either with `new Date` or `Date.UTC`\n    var string = '' + config._i,\n        i, parsedInput, tokens, token, skipped,\n        stringLength = string.length,\n        totalParsedInputLength = 0;\n\n    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n    for (i = 0; i < tokens.length; i++) {\n        token = tokens[i];\n        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n        // console.log('token', token, 'parsedInput', parsedInput,\n        //         'regex', getParseRegexForToken(token, config));\n        if (parsedInput) {\n            skipped = string.substr(0, string.indexOf(parsedInput));\n            if (skipped.length > 0) {\n                getParsingFlags(config).unusedInput.push(skipped);\n            }\n            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            totalParsedInputLength += parsedInput.length;\n        }\n        // don't parse if it's not a known token\n        if (formatTokenFunctions[token]) {\n            if (parsedInput) {\n                getParsingFlags(config).empty = false;\n            }\n            else {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n            addTimeToArrayFromToken(token, parsedInput, config);\n        }\n        else if (config._strict && !parsedInput) {\n            getParsingFlags(config).unusedTokens.push(token);\n        }\n    }\n\n    // add remaining unparsed input length to the string\n    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n    if (string.length > 0) {\n        getParsingFlags(config).unusedInput.push(string);\n    }\n\n    // clear _12h flag if hour is <= 12\n    if (config._a[HOUR] <= 12 &&\n        getParsingFlags(config).bigHour === true &&\n        config._a[HOUR] > 0) {\n        getParsingFlags(config).bigHour = undefined;\n    }\n\n    getParsingFlags(config).parsedDateParts = config._a.slice(0);\n    getParsingFlags(config).meridiem = config._meridiem;\n    // handle meridiem\n    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n    configFromArray(config);\n    checkOverflow(config);\n}\n\n\nfunction meridiemFixWrap (locale, hour, meridiem) {\n    var isPm;\n\n    if (meridiem == null) {\n        // nothing to do\n        return hour;\n    }\n    if (locale.meridiemHour != null) {\n        return locale.meridiemHour(hour, meridiem);\n    } else if (locale.isPM != null) {\n        // Fallback\n        isPm = locale.isPM(meridiem);\n        if (isPm && hour < 12) {\n            hour += 12;\n        }\n        if (!isPm && hour === 12) {\n            hour = 0;\n        }\n        return hour;\n    } else {\n        // this is not supposed to happen\n        return hour;\n    }\n}\n\n// date from string and array of format strings\nfunction configFromStringAndArray(config) {\n    var tempConfig,\n        bestMoment,\n\n        scoreToBeat,\n        i,\n        currentScore;\n\n    if (config._f.length === 0) {\n        getParsingFlags(config).invalidFormat = true;\n        config._d = new Date(NaN);\n        return;\n    }\n\n    for (i = 0; i < config._f.length; i++) {\n        currentScore = 0;\n        tempConfig = copyConfig({}, config);\n        if (config._useUTC != null) {\n            tempConfig._useUTC = config._useUTC;\n        }\n        tempConfig._f = config._f[i];\n        configFromStringAndFormat(tempConfig);\n\n        if (!isValid(tempConfig)) {\n            continue;\n        }\n\n        // if there is any input that was not parsed add a penalty for that format\n        currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n        //or tokens\n        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n        getParsingFlags(tempConfig).score = currentScore;\n\n        if (scoreToBeat == null || currentScore < scoreToBeat) {\n            scoreToBeat = currentScore;\n            bestMoment = tempConfig;\n        }\n    }\n\n    extend(config, bestMoment || tempConfig);\n}\n\nfunction configFromObject(config) {\n    if (config._d) {\n        return;\n    }\n\n    var i = normalizeObjectUnits(config._i);\n    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n        return obj && parseInt(obj, 10);\n    });\n\n    configFromArray(config);\n}\n\nfunction createFromConfig (config) {\n    var res = new Moment(checkOverflow(prepareConfig(config)));\n    if (res._nextDay) {\n        // Adding is smart enough around DST\n        res.add(1, 'd');\n        res._nextDay = undefined;\n    }\n\n    return res;\n}\n\nfunction prepareConfig (config) {\n    var input = config._i,\n        format = config._f;\n\n    config._locale = config._locale || getLocale(config._l);\n\n    if (input === null || (format === undefined && input === '')) {\n        return createInvalid({nullInput: true});\n    }\n\n    if (typeof input === 'string') {\n        config._i = input = config._locale.preparse(input);\n    }\n\n    if (isMoment(input)) {\n        return new Moment(checkOverflow(input));\n    } else if (isDate(input)) {\n        config._d = input;\n    } else if (isArray(format)) {\n        configFromStringAndArray(config);\n    } else if (format) {\n        configFromStringAndFormat(config);\n    }  else {\n        configFromInput(config);\n    }\n\n    if (!isValid(config)) {\n        config._d = null;\n    }\n\n    return config;\n}\n\nfunction configFromInput(config) {\n    var input = config._i;\n    if (isUndefined(input)) {\n        config._d = new Date(hooks.now());\n    } else if (isDate(input)) {\n        config._d = new Date(input.valueOf());\n    } else if (typeof input === 'string') {\n        configFromString(config);\n    } else if (isArray(input)) {\n        config._a = map(input.slice(0), function (obj) {\n            return parseInt(obj, 10);\n        });\n        configFromArray(config);\n    } else if (isObject(input)) {\n        configFromObject(config);\n    } else if (isNumber(input)) {\n        // from milliseconds\n        config._d = new Date(input);\n    } else {\n        hooks.createFromInputFallback(config);\n    }\n}\n\nfunction createLocalOrUTC (input, format, locale, strict, isUTC) {\n    var c = {};\n\n    if (locale === true || locale === false) {\n        strict = locale;\n        locale = undefined;\n    }\n\n    if ((isObject(input) && isObjectEmpty(input)) ||\n            (isArray(input) && input.length === 0)) {\n        input = undefined;\n    }\n    // object construction must be done this way.\n    // https://github.com/moment/moment/issues/1423\n    c._isAMomentObject = true;\n    c._useUTC = c._isUTC = isUTC;\n    c._l = locale;\n    c._i = input;\n    c._f = format;\n    c._strict = strict;\n\n    return createFromConfig(c);\n}\n\nfunction createLocal (input, format, locale, strict) {\n    return createLocalOrUTC(input, format, locale, strict, false);\n}\n\nvar prototypeMin = deprecate(\n    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other < this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\nvar prototypeMax = deprecate(\n    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n    function () {\n        var other = createLocal.apply(null, arguments);\n        if (this.isValid() && other.isValid()) {\n            return other > this ? this : other;\n        } else {\n            return createInvalid();\n        }\n    }\n);\n\n// Pick a moment m from moments so that m[fn](other) is true for all\n// other. This relies on the function fn to be transitive.\n//\n// moments should either be an array of moment objects or an array, whose\n// first element is an array of moment objects.\nfunction pickBy(fn, moments) {\n    var res, i;\n    if (moments.length === 1 && isArray(moments[0])) {\n        moments = moments[0];\n    }\n    if (!moments.length) {\n        return createLocal();\n    }\n    res = moments[0];\n    for (i = 1; i < moments.length; ++i) {\n        if (!moments[i].isValid() || moments[i][fn](res)) {\n            res = moments[i];\n        }\n    }\n    return res;\n}\n\n// TODO: Use [].sort instead?\nfunction min () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isBefore', args);\n}\n\nfunction max () {\n    var args = [].slice.call(arguments, 0);\n\n    return pickBy('isAfter', args);\n}\n\nvar now = function () {\n    return Date.now ? Date.now() : +(new Date());\n};\n\nvar ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\nfunction isDurationValid(m) {\n    for (var key in m) {\n        if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n            return false;\n        }\n    }\n\n    var unitHasDecimal = false;\n    for (var i = 0; i < ordering.length; ++i) {\n        if (m[ordering[i]]) {\n            if (unitHasDecimal) {\n                return false; // only allow non-integers for smallest unit\n            }\n            if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                unitHasDecimal = true;\n            }\n        }\n    }\n\n    return true;\n}\n\nfunction isValid$1() {\n    return this._isValid;\n}\n\nfunction createInvalid$1() {\n    return createDuration(NaN);\n}\n\nfunction Duration (duration) {\n    var normalizedInput = normalizeObjectUnits(duration),\n        years = normalizedInput.year || 0,\n        quarters = normalizedInput.quarter || 0,\n        months = normalizedInput.month || 0,\n        weeks = normalizedInput.week || 0,\n        days = normalizedInput.day || 0,\n        hours = normalizedInput.hour || 0,\n        minutes = normalizedInput.minute || 0,\n        seconds = normalizedInput.second || 0,\n        milliseconds = normalizedInput.millisecond || 0;\n\n    this._isValid = isDurationValid(normalizedInput);\n\n    // representation for dateAddRemove\n    this._milliseconds = +milliseconds +\n        seconds * 1e3 + // 1000\n        minutes * 6e4 + // 1000 * 60\n        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n    // Because of dateAddRemove treats 24 hours as different from a\n    // day when working around DST, we need to store them separately\n    this._days = +days +\n        weeks * 7;\n    // It is impossible to translate months into days without knowing\n    // which months you are are talking about, so we have to store\n    // it separately.\n    this._months = +months +\n        quarters * 3 +\n        years * 12;\n\n    this._data = {};\n\n    this._locale = getLocale();\n\n    this._bubble();\n}\n\nfunction isDuration (obj) {\n    return obj instanceof Duration;\n}\n\nfunction absRound (number) {\n    if (number < 0) {\n        return Math.round(-1 * number) * -1;\n    } else {\n        return Math.round(number);\n    }\n}\n\n// FORMATTING\n\nfunction offset (token, separator) {\n    addFormatToken(token, 0, 0, function () {\n        var offset = this.utcOffset();\n        var sign = '+';\n        if (offset < 0) {\n            offset = -offset;\n            sign = '-';\n        }\n        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n    });\n}\n\noffset('Z', ':');\noffset('ZZ', '');\n\n// PARSING\n\naddRegexToken('Z',  matchShortOffset);\naddRegexToken('ZZ', matchShortOffset);\naddParseToken(['Z', 'ZZ'], function (input, array, config) {\n    config._useUTC = true;\n    config._tzm = offsetFromString(matchShortOffset, input);\n});\n\n// HELPERS\n\n// timezone chunker\n// '+10:00' > ['10',  '00']\n// '-1530'  > ['-15', '30']\nvar chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\nfunction offsetFromString(matcher, string) {\n    var matches = (string || '').match(matcher);\n\n    if (matches === null) {\n        return null;\n    }\n\n    var chunk   = matches[matches.length - 1] || [];\n    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n    var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n    return minutes === 0 ?\n      0 :\n      parts[0] === '+' ? minutes : -minutes;\n}\n\n// Return a moment from input, that is local/utc/zone equivalent to model.\nfunction cloneWithOffset(input, model) {\n    var res, diff;\n    if (model._isUTC) {\n        res = model.clone();\n        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n        // Use low-level api, because this fn is low-level api.\n        res._d.setTime(res._d.valueOf() + diff);\n        hooks.updateOffset(res, false);\n        return res;\n    } else {\n        return createLocal(input).local();\n    }\n}\n\nfunction getDateOffset (m) {\n    // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n    // https://github.com/moment/moment/pull/1871\n    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n}\n\n// HOOKS\n\n// This function will be called whenever a moment is mutated.\n// It is intended to keep the offset in sync with the timezone.\nhooks.updateOffset = function () {};\n\n// MOMENTS\n\n// keepLocalTime = true means only change the timezone, without\n// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n// +0200, so we adjust the time as needed, to be valid.\n//\n// Keeping the time actually adds/subtracts (one hour)\n// from the actual represented time. That is why we call updateOffset\n// a second time. In case it wants us to change the offset again\n// _changeInProgress == true case, then we have to adjust, because\n// there is no such time in the given timezone.\nfunction getSetOffset (input, keepLocalTime, keepMinutes) {\n    var offset = this._offset || 0,\n        localAdjust;\n    if (!this.isValid()) {\n        return input != null ? this : NaN;\n    }\n    if (input != null) {\n        if (typeof input === 'string') {\n            input = offsetFromString(matchShortOffset, input);\n            if (input === null) {\n                return this;\n            }\n        } else if (Math.abs(input) < 16 && !keepMinutes) {\n            input = input * 60;\n        }\n        if (!this._isUTC && keepLocalTime) {\n            localAdjust = getDateOffset(this);\n        }\n        this._offset = input;\n        this._isUTC = true;\n        if (localAdjust != null) {\n            this.add(localAdjust, 'm');\n        }\n        if (offset !== input) {\n            if (!keepLocalTime || this._changeInProgress) {\n                addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n            } else if (!this._changeInProgress) {\n                this._changeInProgress = true;\n                hooks.updateOffset(this, true);\n                this._changeInProgress = null;\n            }\n        }\n        return this;\n    } else {\n        return this._isUTC ? offset : getDateOffset(this);\n    }\n}\n\nfunction getSetZone (input, keepLocalTime) {\n    if (input != null) {\n        if (typeof input !== 'string') {\n            input = -input;\n        }\n\n        this.utcOffset(input, keepLocalTime);\n\n        return this;\n    } else {\n        return -this.utcOffset();\n    }\n}\n\nfunction setOffsetToUTC (keepLocalTime) {\n    return this.utcOffset(0, keepLocalTime);\n}\n\nfunction setOffsetToLocal (keepLocalTime) {\n    if (this._isUTC) {\n        this.utcOffset(0, keepLocalTime);\n        this._isUTC = false;\n\n        if (keepLocalTime) {\n            this.subtract(getDateOffset(this), 'm');\n        }\n    }\n    return this;\n}\n\nfunction setOffsetToParsedOffset () {\n    if (this._tzm != null) {\n        this.utcOffset(this._tzm, false, true);\n    } else if (typeof this._i === 'string') {\n        var tZone = offsetFromString(matchOffset, this._i);\n        if (tZone != null) {\n            this.utcOffset(tZone);\n        }\n        else {\n            this.utcOffset(0, true);\n        }\n    }\n    return this;\n}\n\nfunction hasAlignedHourOffset (input) {\n    if (!this.isValid()) {\n        return false;\n    }\n    input = input ? createLocal(input).utcOffset() : 0;\n\n    return (this.utcOffset() - input) % 60 === 0;\n}\n\nfunction isDaylightSavingTime () {\n    return (\n        this.utcOffset() > this.clone().month(0).utcOffset() ||\n        this.utcOffset() > this.clone().month(5).utcOffset()\n    );\n}\n\nfunction isDaylightSavingTimeShifted () {\n    if (!isUndefined(this._isDSTShifted)) {\n        return this._isDSTShifted;\n    }\n\n    var c = {};\n\n    copyConfig(c, this);\n    c = prepareConfig(c);\n\n    if (c._a) {\n        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n        this._isDSTShifted = this.isValid() &&\n            compareArrays(c._a, other.toArray()) > 0;\n    } else {\n        this._isDSTShifted = false;\n    }\n\n    return this._isDSTShifted;\n}\n\nfunction isLocal () {\n    return this.isValid() ? !this._isUTC : false;\n}\n\nfunction isUtcOffset () {\n    return this.isValid() ? this._isUTC : false;\n}\n\nfunction isUtc () {\n    return this.isValid() ? this._isUTC && this._offset === 0 : false;\n}\n\n// ASP.NET json date format regex\nvar aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n// and further modified to allow for strings containing both week and day\nvar isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\nfunction createDuration (input, key) {\n    var duration = input,\n        // matching against regexp is expensive, do it on demand\n        match = null,\n        sign,\n        ret,\n        diffRes;\n\n    if (isDuration(input)) {\n        duration = {\n            ms : input._milliseconds,\n            d  : input._days,\n            M  : input._months\n        };\n    } else if (isNumber(input)) {\n        duration = {};\n        if (key) {\n            duration[key] = input;\n        } else {\n            duration.milliseconds = input;\n        }\n    } else if (!!(match = aspNetRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : 1;\n        duration = {\n            y  : 0,\n            d  : toInt(match[DATE])                         * sign,\n            h  : toInt(match[HOUR])                         * sign,\n            m  : toInt(match[MINUTE])                       * sign,\n            s  : toInt(match[SECOND])                       * sign,\n            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n        };\n    } else if (!!(match = isoRegex.exec(input))) {\n        sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;\n        duration = {\n            y : parseIso(match[2], sign),\n            M : parseIso(match[3], sign),\n            w : parseIso(match[4], sign),\n            d : parseIso(match[5], sign),\n            h : parseIso(match[6], sign),\n            m : parseIso(match[7], sign),\n            s : parseIso(match[8], sign)\n        };\n    } else if (duration == null) {// checks for null or undefined\n        duration = {};\n    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n        duration = {};\n        duration.ms = diffRes.milliseconds;\n        duration.M = diffRes.months;\n    }\n\n    ret = new Duration(duration);\n\n    if (isDuration(input) && hasOwnProp(input, '_locale')) {\n        ret._locale = input._locale;\n    }\n\n    return ret;\n}\n\ncreateDuration.fn = Duration.prototype;\ncreateDuration.invalid = createInvalid$1;\n\nfunction parseIso (inp, sign) {\n    // We'd normally use ~~inp for this, but unfortunately it also\n    // converts floats to ints.\n    // inp may be undefined, so careful calling replace on it.\n    var res = inp && parseFloat(inp.replace(',', '.'));\n    // apply sign while we're at it\n    return (isNaN(res) ? 0 : res) * sign;\n}\n\nfunction positiveMomentsDifference(base, other) {\n    var res = {milliseconds: 0, months: 0};\n\n    res.months = other.month() - base.month() +\n        (other.year() - base.year()) * 12;\n    if (base.clone().add(res.months, 'M').isAfter(other)) {\n        --res.months;\n    }\n\n    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n    return res;\n}\n\nfunction momentsDifference(base, other) {\n    var res;\n    if (!(base.isValid() && other.isValid())) {\n        return {milliseconds: 0, months: 0};\n    }\n\n    other = cloneWithOffset(other, base);\n    if (base.isBefore(other)) {\n        res = positiveMomentsDifference(base, other);\n    } else {\n        res = positiveMomentsDifference(other, base);\n        res.milliseconds = -res.milliseconds;\n        res.months = -res.months;\n    }\n\n    return res;\n}\n\n// TODO: remove 'name' arg after deprecation is removed\nfunction createAdder(direction, name) {\n    return function (val, period) {\n        var dur, tmp;\n        //invert the arguments, but complain about it\n        if (period !== null && !isNaN(+period)) {\n            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n            tmp = val; val = period; period = tmp;\n        }\n\n        val = typeof val === 'string' ? +val : val;\n        dur = createDuration(val, period);\n        addSubtract(this, dur, direction);\n        return this;\n    };\n}\n\nfunction addSubtract (mom, duration, isAdding, updateOffset) {\n    var milliseconds = duration._milliseconds,\n        days = absRound(duration._days),\n        months = absRound(duration._months);\n\n    if (!mom.isValid()) {\n        // No op\n        return;\n    }\n\n    updateOffset = updateOffset == null ? true : updateOffset;\n\n    if (months) {\n        setMonth(mom, get(mom, 'Month') + months * isAdding);\n    }\n    if (days) {\n        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n    }\n    if (milliseconds) {\n        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n    }\n    if (updateOffset) {\n        hooks.updateOffset(mom, days || months);\n    }\n}\n\nvar add      = createAdder(1, 'add');\nvar subtract = createAdder(-1, 'subtract');\n\nfunction getCalendarFormat(myMoment, now) {\n    var diff = myMoment.diff(now, 'days', true);\n    return diff < -6 ? 'sameElse' :\n            diff < -1 ? 'lastWeek' :\n            diff < 0 ? 'lastDay' :\n            diff < 1 ? 'sameDay' :\n            diff < 2 ? 'nextDay' :\n            diff < 7 ? 'nextWeek' : 'sameElse';\n}\n\nfunction calendar$1 (time, formats) {\n    // We want to compare the start of today, vs this.\n    // Getting start-of-today depends on whether we're local/utc/offset or not.\n    var now = time || createLocal(),\n        sod = cloneWithOffset(now, this).startOf('day'),\n        format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n}\n\nfunction clone () {\n    return new Moment(this);\n}\n\nfunction isAfter (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() > localInput.valueOf();\n    } else {\n        return localInput.valueOf() < this.clone().startOf(units).valueOf();\n    }\n}\n\nfunction isBefore (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input);\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() < localInput.valueOf();\n    } else {\n        return this.clone().endOf(units).valueOf() < localInput.valueOf();\n    }\n}\n\nfunction isBetween (from, to, units, inclusivity) {\n    inclusivity = inclusivity || '()';\n    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&\n        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));\n}\n\nfunction isSame (input, units) {\n    var localInput = isMoment(input) ? input : createLocal(input),\n        inputMs;\n    if (!(this.isValid() && localInput.isValid())) {\n        return false;\n    }\n    units = normalizeUnits(units || 'millisecond');\n    if (units === 'millisecond') {\n        return this.valueOf() === localInput.valueOf();\n    } else {\n        inputMs = localInput.valueOf();\n        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n    }\n}\n\nfunction isSameOrAfter (input, units) {\n    return this.isSame(input, units) || this.isAfter(input,units);\n}\n\nfunction isSameOrBefore (input, units) {\n    return this.isSame(input, units) || this.isBefore(input,units);\n}\n\nfunction diff (input, units, asFloat) {\n    var that,\n        zoneDelta,\n        delta, output;\n\n    if (!this.isValid()) {\n        return NaN;\n    }\n\n    that = cloneWithOffset(input, this);\n\n    if (!that.isValid()) {\n        return NaN;\n    }\n\n    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n    units = normalizeUnits(units);\n\n    switch (units) {\n        case 'year': output = monthDiff(this, that) / 12; break;\n        case 'month': output = monthDiff(this, that); break;\n        case 'quarter': output = monthDiff(this, that) / 3; break;\n        case 'second': output = (this - that) / 1e3; break; // 1000\n        case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n        case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n        case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n        case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n        default: output = this - that;\n    }\n\n    return asFloat ? output : absFloor(output);\n}\n\nfunction monthDiff (a, b) {\n    // difference in months\n    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n        // b is in (anchor - 1 month, anchor + 1 month)\n        anchor = a.clone().add(wholeMonthDiff, 'months'),\n        anchor2, adjust;\n\n    if (b - anchor < 0) {\n        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor - anchor2);\n    } else {\n        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n        // linear across the month\n        adjust = (b - anchor) / (anchor2 - anchor);\n    }\n\n    //check for negative zero, return zero if negative zero\n    return -(wholeMonthDiff + adjust) || 0;\n}\n\nhooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\nhooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\nfunction toString () {\n    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n}\n\nfunction toISOString(keepOffset) {\n    if (!this.isValid()) {\n        return null;\n    }\n    var utc = keepOffset !== true;\n    var m = utc ? this.clone().utc() : this;\n    if (m.year() < 0 || m.year() > 9999) {\n        return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n    if (isFunction(Date.prototype.toISOString)) {\n        // native implementation is ~50x faster, use it when we can\n        if (utc) {\n            return this.toDate().toISOString();\n        } else {\n            return new Date(this._d.valueOf()).toISOString().replace('Z', formatMoment(m, 'Z'));\n        }\n    }\n    return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n}\n\n/**\n * Return a human readable representation of a moment that can\n * also be evaluated to get a new moment which is the same\n *\n * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n */\nfunction inspect () {\n    if (!this.isValid()) {\n        return 'moment.invalid(/* ' + this._i + ' */)';\n    }\n    var func = 'moment';\n    var zone = '';\n    if (!this.isLocal()) {\n        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n        zone = 'Z';\n    }\n    var prefix = '[' + func + '(\"]';\n    var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n    var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n    var suffix = zone + '[\")]';\n\n    return this.format(prefix + year + datetime + suffix);\n}\n\nfunction format (inputString) {\n    if (!inputString) {\n        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n    }\n    var output = formatMoment(this, inputString);\n    return this.localeData().postformat(output);\n}\n\nfunction from (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction fromNow (withoutSuffix) {\n    return this.from(createLocal(), withoutSuffix);\n}\n\nfunction to (time, withoutSuffix) {\n    if (this.isValid() &&\n            ((isMoment(time) && time.isValid()) ||\n             createLocal(time).isValid())) {\n        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n    } else {\n        return this.localeData().invalidDate();\n    }\n}\n\nfunction toNow (withoutSuffix) {\n    return this.to(createLocal(), withoutSuffix);\n}\n\n// If passed a locale key, it will set the locale for this\n// instance.  Otherwise, it will return the locale configuration\n// variables for this instance.\nfunction locale (key) {\n    var newLocaleData;\n\n    if (key === undefined) {\n        return this._locale._abbr;\n    } else {\n        newLocaleData = getLocale(key);\n        if (newLocaleData != null) {\n            this._locale = newLocaleData;\n        }\n        return this;\n    }\n}\n\nvar lang = deprecate(\n    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n    function (key) {\n        if (key === undefined) {\n            return this.localeData();\n        } else {\n            return this.locale(key);\n        }\n    }\n);\n\nfunction localeData () {\n    return this._locale;\n}\n\nfunction startOf (units) {\n    units = normalizeUnits(units);\n    // the following switch intentionally omits break keywords\n    // to utilize falling through the cases.\n    switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n        case 'date':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n    }\n\n    // weeks are a special case\n    if (units === 'week') {\n        this.weekday(0);\n    }\n    if (units === 'isoWeek') {\n        this.isoWeekday(1);\n    }\n\n    // quarters are also special\n    if (units === 'quarter') {\n        this.month(Math.floor(this.month() / 3) * 3);\n    }\n\n    return this;\n}\n\nfunction endOf (units) {\n    units = normalizeUnits(units);\n    if (units === undefined || units === 'millisecond') {\n        return this;\n    }\n\n    // 'date' is an alias for 'day', so it should be considered as such.\n    if (units === 'date') {\n        units = 'day';\n    }\n\n    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n}\n\nfunction valueOf () {\n    return this._d.valueOf() - ((this._offset || 0) * 60000);\n}\n\nfunction unix () {\n    return Math.floor(this.valueOf() / 1000);\n}\n\nfunction toDate () {\n    return new Date(this.valueOf());\n}\n\nfunction toArray () {\n    var m = this;\n    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n}\n\nfunction toObject () {\n    var m = this;\n    return {\n        years: m.year(),\n        months: m.month(),\n        date: m.date(),\n        hours: m.hours(),\n        minutes: m.minutes(),\n        seconds: m.seconds(),\n        milliseconds: m.milliseconds()\n    };\n}\n\nfunction toJSON () {\n    // new Date(NaN).toJSON() === null\n    return this.isValid() ? this.toISOString() : null;\n}\n\nfunction isValid$2 () {\n    return isValid(this);\n}\n\nfunction parsingFlags () {\n    return extend({}, getParsingFlags(this));\n}\n\nfunction invalidAt () {\n    return getParsingFlags(this).overflow;\n}\n\nfunction creationData() {\n    return {\n        input: this._i,\n        format: this._f,\n        locale: this._locale,\n        isUTC: this._isUTC,\n        strict: this._strict\n    };\n}\n\n// FORMATTING\n\naddFormatToken(0, ['gg', 2], 0, function () {\n    return this.weekYear() % 100;\n});\n\naddFormatToken(0, ['GG', 2], 0, function () {\n    return this.isoWeekYear() % 100;\n});\n\nfunction addWeekYearFormatToken (token, getter) {\n    addFormatToken(0, [token, token.length], 0, getter);\n}\n\naddWeekYearFormatToken('gggg',     'weekYear');\naddWeekYearFormatToken('ggggg',    'weekYear');\naddWeekYearFormatToken('GGGG',  'isoWeekYear');\naddWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n// ALIASES\n\naddUnitAlias('weekYear', 'gg');\naddUnitAlias('isoWeekYear', 'GG');\n\n// PRIORITY\n\naddUnitPriority('weekYear', 1);\naddUnitPriority('isoWeekYear', 1);\n\n\n// PARSING\n\naddRegexToken('G',      matchSigned);\naddRegexToken('g',      matchSigned);\naddRegexToken('GG',     match1to2, match2);\naddRegexToken('gg',     match1to2, match2);\naddRegexToken('GGGG',   match1to4, match4);\naddRegexToken('gggg',   match1to4, match4);\naddRegexToken('GGGGG',  match1to6, match6);\naddRegexToken('ggggg',  match1to6, match6);\n\naddWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n    week[token.substr(0, 2)] = toInt(input);\n});\n\naddWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n    week[token] = hooks.parseTwoDigitYear(input);\n});\n\n// MOMENTS\n\nfunction getSetWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input,\n            this.week(),\n            this.weekday(),\n            this.localeData()._week.dow,\n            this.localeData()._week.doy);\n}\n\nfunction getSetISOWeekYear (input) {\n    return getSetWeekYearHelper.call(this,\n            input, this.isoWeek(), this.isoWeekday(), 1, 4);\n}\n\nfunction getISOWeeksInYear () {\n    return weeksInYear(this.year(), 1, 4);\n}\n\nfunction getWeeksInYear () {\n    var weekInfo = this.localeData()._week;\n    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n}\n\nfunction getSetWeekYearHelper(input, week, weekday, dow, doy) {\n    var weeksTarget;\n    if (input == null) {\n        return weekOfYear(this, dow, doy).year;\n    } else {\n        weeksTarget = weeksInYear(input, dow, doy);\n        if (week > weeksTarget) {\n            week = weeksTarget;\n        }\n        return setWeekAll.call(this, input, week, weekday, dow, doy);\n    }\n}\n\nfunction setWeekAll(weekYear, week, weekday, dow, doy) {\n    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n    this.year(date.getUTCFullYear());\n    this.month(date.getUTCMonth());\n    this.date(date.getUTCDate());\n    return this;\n}\n\n// FORMATTING\n\naddFormatToken('Q', 0, 'Qo', 'quarter');\n\n// ALIASES\n\naddUnitAlias('quarter', 'Q');\n\n// PRIORITY\n\naddUnitPriority('quarter', 7);\n\n// PARSING\n\naddRegexToken('Q', match1);\naddParseToken('Q', function (input, array) {\n    array[MONTH] = (toInt(input) - 1) * 3;\n});\n\n// MOMENTS\n\nfunction getSetQuarter (input) {\n    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n}\n\n// FORMATTING\n\naddFormatToken('D', ['DD', 2], 'Do', 'date');\n\n// ALIASES\n\naddUnitAlias('date', 'D');\n\n// PRIOROITY\naddUnitPriority('date', 9);\n\n// PARSING\n\naddRegexToken('D',  match1to2);\naddRegexToken('DD', match1to2, match2);\naddRegexToken('Do', function (isStrict, locale) {\n    // TODO: Remove \"ordinalParse\" fallback in next major release.\n    return isStrict ?\n      (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n      locale._dayOfMonthOrdinalParseLenient;\n});\n\naddParseToken(['D', 'DD'], DATE);\naddParseToken('Do', function (input, array) {\n    array[DATE] = toInt(input.match(match1to2)[0]);\n});\n\n// MOMENTS\n\nvar getSetDayOfMonth = makeGetSet('Date', true);\n\n// FORMATTING\n\naddFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n// ALIASES\n\naddUnitAlias('dayOfYear', 'DDD');\n\n// PRIORITY\naddUnitPriority('dayOfYear', 4);\n\n// PARSING\n\naddRegexToken('DDD',  match1to3);\naddRegexToken('DDDD', match3);\naddParseToken(['DDD', 'DDDD'], function (input, array, config) {\n    config._dayOfYear = toInt(input);\n});\n\n// HELPERS\n\n// MOMENTS\n\nfunction getSetDayOfYear (input) {\n    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n}\n\n// FORMATTING\n\naddFormatToken('m', ['mm', 2], 0, 'minute');\n\n// ALIASES\n\naddUnitAlias('minute', 'm');\n\n// PRIORITY\n\naddUnitPriority('minute', 14);\n\n// PARSING\n\naddRegexToken('m',  match1to2);\naddRegexToken('mm', match1to2, match2);\naddParseToken(['m', 'mm'], MINUTE);\n\n// MOMENTS\n\nvar getSetMinute = makeGetSet('Minutes', false);\n\n// FORMATTING\n\naddFormatToken('s', ['ss', 2], 0, 'second');\n\n// ALIASES\n\naddUnitAlias('second', 's');\n\n// PRIORITY\n\naddUnitPriority('second', 15);\n\n// PARSING\n\naddRegexToken('s',  match1to2);\naddRegexToken('ss', match1to2, match2);\naddParseToken(['s', 'ss'], SECOND);\n\n// MOMENTS\n\nvar getSetSecond = makeGetSet('Seconds', false);\n\n// FORMATTING\n\naddFormatToken('S', 0, 0, function () {\n    return ~~(this.millisecond() / 100);\n});\n\naddFormatToken(0, ['SS', 2], 0, function () {\n    return ~~(this.millisecond() / 10);\n});\n\naddFormatToken(0, ['SSS', 3], 0, 'millisecond');\naddFormatToken(0, ['SSSS', 4], 0, function () {\n    return this.millisecond() * 10;\n});\naddFormatToken(0, ['SSSSS', 5], 0, function () {\n    return this.millisecond() * 100;\n});\naddFormatToken(0, ['SSSSSS', 6], 0, function () {\n    return this.millisecond() * 1000;\n});\naddFormatToken(0, ['SSSSSSS', 7], 0, function () {\n    return this.millisecond() * 10000;\n});\naddFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n    return this.millisecond() * 100000;\n});\naddFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n    return this.millisecond() * 1000000;\n});\n\n\n// ALIASES\n\naddUnitAlias('millisecond', 'ms');\n\n// PRIORITY\n\naddUnitPriority('millisecond', 16);\n\n// PARSING\n\naddRegexToken('S',    match1to3, match1);\naddRegexToken('SS',   match1to3, match2);\naddRegexToken('SSS',  match1to3, match3);\n\nvar token;\nfor (token = 'SSSS'; token.length <= 9; token += 'S') {\n    addRegexToken(token, matchUnsigned);\n}\n\nfunction parseMs(input, array) {\n    array[MILLISECOND] = toInt(('0.' + input) * 1000);\n}\n\nfor (token = 'S'; token.length <= 9; token += 'S') {\n    addParseToken(token, parseMs);\n}\n// MOMENTS\n\nvar getSetMillisecond = makeGetSet('Milliseconds', false);\n\n// FORMATTING\n\naddFormatToken('z',  0, 0, 'zoneAbbr');\naddFormatToken('zz', 0, 0, 'zoneName');\n\n// MOMENTS\n\nfunction getZoneAbbr () {\n    return this._isUTC ? 'UTC' : '';\n}\n\nfunction getZoneName () {\n    return this._isUTC ? 'Coordinated Universal Time' : '';\n}\n\nvar proto = Moment.prototype;\n\nproto.add               = add;\nproto.calendar          = calendar$1;\nproto.clone             = clone;\nproto.diff              = diff;\nproto.endOf             = endOf;\nproto.format            = format;\nproto.from              = from;\nproto.fromNow           = fromNow;\nproto.to                = to;\nproto.toNow             = toNow;\nproto.get               = stringGet;\nproto.invalidAt         = invalidAt;\nproto.isAfter           = isAfter;\nproto.isBefore          = isBefore;\nproto.isBetween         = isBetween;\nproto.isSame            = isSame;\nproto.isSameOrAfter     = isSameOrAfter;\nproto.isSameOrBefore    = isSameOrBefore;\nproto.isValid           = isValid$2;\nproto.lang              = lang;\nproto.locale            = locale;\nproto.localeData        = localeData;\nproto.max               = prototypeMax;\nproto.min               = prototypeMin;\nproto.parsingFlags      = parsingFlags;\nproto.set               = stringSet;\nproto.startOf           = startOf;\nproto.subtract          = subtract;\nproto.toArray           = toArray;\nproto.toObject          = toObject;\nproto.toDate            = toDate;\nproto.toISOString       = toISOString;\nproto.inspect           = inspect;\nproto.toJSON            = toJSON;\nproto.toString          = toString;\nproto.unix              = unix;\nproto.valueOf           = valueOf;\nproto.creationData      = creationData;\n\n// Year\nproto.year       = getSetYear;\nproto.isLeapYear = getIsLeapYear;\n\n// Week Year\nproto.weekYear    = getSetWeekYear;\nproto.isoWeekYear = getSetISOWeekYear;\n\n// Quarter\nproto.quarter = proto.quarters = getSetQuarter;\n\n// Month\nproto.month       = getSetMonth;\nproto.daysInMonth = getDaysInMonth;\n\n// Week\nproto.week           = proto.weeks        = getSetWeek;\nproto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\nproto.weeksInYear    = getWeeksInYear;\nproto.isoWeeksInYear = getISOWeeksInYear;\n\n// Day\nproto.date       = getSetDayOfMonth;\nproto.day        = proto.days             = getSetDayOfWeek;\nproto.weekday    = getSetLocaleDayOfWeek;\nproto.isoWeekday = getSetISODayOfWeek;\nproto.dayOfYear  = getSetDayOfYear;\n\n// Hour\nproto.hour = proto.hours = getSetHour;\n\n// Minute\nproto.minute = proto.minutes = getSetMinute;\n\n// Second\nproto.second = proto.seconds = getSetSecond;\n\n// Millisecond\nproto.millisecond = proto.milliseconds = getSetMillisecond;\n\n// Offset\nproto.utcOffset            = getSetOffset;\nproto.utc                  = setOffsetToUTC;\nproto.local                = setOffsetToLocal;\nproto.parseZone            = setOffsetToParsedOffset;\nproto.hasAlignedHourOffset = hasAlignedHourOffset;\nproto.isDST                = isDaylightSavingTime;\nproto.isLocal              = isLocal;\nproto.isUtcOffset          = isUtcOffset;\nproto.isUtc                = isUtc;\nproto.isUTC                = isUtc;\n\n// Timezone\nproto.zoneAbbr = getZoneAbbr;\nproto.zoneName = getZoneName;\n\n// Deprecations\nproto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\nproto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\nproto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\nproto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\nproto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\nfunction createUnix (input) {\n    return createLocal(input * 1000);\n}\n\nfunction createInZone () {\n    return createLocal.apply(null, arguments).parseZone();\n}\n\nfunction preParsePostFormat (string) {\n    return string;\n}\n\nvar proto$1 = Locale.prototype;\n\nproto$1.calendar        = calendar;\nproto$1.longDateFormat  = longDateFormat;\nproto$1.invalidDate     = invalidDate;\nproto$1.ordinal         = ordinal;\nproto$1.preparse        = preParsePostFormat;\nproto$1.postformat      = preParsePostFormat;\nproto$1.relativeTime    = relativeTime;\nproto$1.pastFuture      = pastFuture;\nproto$1.set             = set;\n\n// Month\nproto$1.months            =        localeMonths;\nproto$1.monthsShort       =        localeMonthsShort;\nproto$1.monthsParse       =        localeMonthsParse;\nproto$1.monthsRegex       = monthsRegex;\nproto$1.monthsShortRegex  = monthsShortRegex;\n\n// Week\nproto$1.week = localeWeek;\nproto$1.firstDayOfYear = localeFirstDayOfYear;\nproto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n// Day of Week\nproto$1.weekdays       =        localeWeekdays;\nproto$1.weekdaysMin    =        localeWeekdaysMin;\nproto$1.weekdaysShort  =        localeWeekdaysShort;\nproto$1.weekdaysParse  =        localeWeekdaysParse;\n\nproto$1.weekdaysRegex       =        weekdaysRegex;\nproto$1.weekdaysShortRegex  =        weekdaysShortRegex;\nproto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n// Hours\nproto$1.isPM = localeIsPM;\nproto$1.meridiem = localeMeridiem;\n\nfunction get$1 (format, index, field, setter) {\n    var locale = getLocale();\n    var utc = createUTC().set(setter, index);\n    return locale[field](utc, format);\n}\n\nfunction listMonthsImpl (format, index, field) {\n    if (isNumber(format)) {\n        index = format;\n        format = undefined;\n    }\n\n    format = format || '';\n\n    if (index != null) {\n        return get$1(format, index, field, 'month');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 12; i++) {\n        out[i] = get$1(format, i, field, 'month');\n    }\n    return out;\n}\n\n// ()\n// (5)\n// (fmt, 5)\n// (fmt)\n// (true)\n// (true, 5)\n// (true, fmt, 5)\n// (true, fmt)\nfunction listWeekdaysImpl (localeSorted, format, index, field) {\n    if (typeof localeSorted === 'boolean') {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    } else {\n        format = localeSorted;\n        index = format;\n        localeSorted = false;\n\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n    }\n\n    var locale = getLocale(),\n        shift = localeSorted ? locale._week.dow : 0;\n\n    if (index != null) {\n        return get$1(format, (index + shift) % 7, field, 'day');\n    }\n\n    var i;\n    var out = [];\n    for (i = 0; i < 7; i++) {\n        out[i] = get$1(format, (i + shift) % 7, field, 'day');\n    }\n    return out;\n}\n\nfunction listMonths (format, index) {\n    return listMonthsImpl(format, index, 'months');\n}\n\nfunction listMonthsShort (format, index) {\n    return listMonthsImpl(format, index, 'monthsShort');\n}\n\nfunction listWeekdays (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n}\n\nfunction listWeekdaysShort (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n}\n\nfunction listWeekdaysMin (localeSorted, format, index) {\n    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n}\n\ngetSetGlobalLocale('en', {\n    dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n    ordinal : function (number) {\n        var b = number % 10,\n            output = (toInt(number % 100 / 10) === 1) ? 'th' :\n            (b === 1) ? 'st' :\n            (b === 2) ? 'nd' :\n            (b === 3) ? 'rd' : 'th';\n        return number + output;\n    }\n});\n\n// Side effect imports\nhooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\nhooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\nvar mathAbs = Math.abs;\n\nfunction abs () {\n    var data           = this._data;\n\n    this._milliseconds = mathAbs(this._milliseconds);\n    this._days         = mathAbs(this._days);\n    this._months       = mathAbs(this._months);\n\n    data.milliseconds  = mathAbs(data.milliseconds);\n    data.seconds       = mathAbs(data.seconds);\n    data.minutes       = mathAbs(data.minutes);\n    data.hours         = mathAbs(data.hours);\n    data.months        = mathAbs(data.months);\n    data.years         = mathAbs(data.years);\n\n    return this;\n}\n\nfunction addSubtract$1 (duration, input, value, direction) {\n    var other = createDuration(input, value);\n\n    duration._milliseconds += direction * other._milliseconds;\n    duration._days         += direction * other._days;\n    duration._months       += direction * other._months;\n\n    return duration._bubble();\n}\n\n// supports only 2.0-style add(1, 's') or add(duration)\nfunction add$1 (input, value) {\n    return addSubtract$1(this, input, value, 1);\n}\n\n// supports only 2.0-style subtract(1, 's') or subtract(duration)\nfunction subtract$1 (input, value) {\n    return addSubtract$1(this, input, value, -1);\n}\n\nfunction absCeil (number) {\n    if (number < 0) {\n        return Math.floor(number);\n    } else {\n        return Math.ceil(number);\n    }\n}\n\nfunction bubble () {\n    var milliseconds = this._milliseconds;\n    var days         = this._days;\n    var months       = this._months;\n    var data         = this._data;\n    var seconds, minutes, hours, years, monthsFromDays;\n\n    // if we have a mix of positive and negative values, bubble down first\n    // check: https://github.com/moment/moment/issues/2166\n    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n            (milliseconds <= 0 && days <= 0 && months <= 0))) {\n        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n        days = 0;\n        months = 0;\n    }\n\n    // The following code bubbles up values, see the tests for\n    // examples of what that means.\n    data.milliseconds = milliseconds % 1000;\n\n    seconds           = absFloor(milliseconds / 1000);\n    data.seconds      = seconds % 60;\n\n    minutes           = absFloor(seconds / 60);\n    data.minutes      = minutes % 60;\n\n    hours             = absFloor(minutes / 60);\n    data.hours        = hours % 24;\n\n    days += absFloor(hours / 24);\n\n    // convert days to months\n    monthsFromDays = absFloor(daysToMonths(days));\n    months += monthsFromDays;\n    days -= absCeil(monthsToDays(monthsFromDays));\n\n    // 12 months -> 1 year\n    years = absFloor(months / 12);\n    months %= 12;\n\n    data.days   = days;\n    data.months = months;\n    data.years  = years;\n\n    return this;\n}\n\nfunction daysToMonths (days) {\n    // 400 years have 146097 days (taking into account leap year rules)\n    // 400 years have 12 months === 4800\n    return days * 4800 / 146097;\n}\n\nfunction monthsToDays (months) {\n    // the reverse of daysToMonths\n    return months * 146097 / 4800;\n}\n\nfunction as (units) {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    var days;\n    var months;\n    var milliseconds = this._milliseconds;\n\n    units = normalizeUnits(units);\n\n    if (units === 'month' || units === 'year') {\n        days   = this._days   + milliseconds / 864e5;\n        months = this._months + daysToMonths(days);\n        return units === 'month' ? months : months / 12;\n    } else {\n        // handle milliseconds separately because of floating point math errors (issue #1867)\n        days = this._days + Math.round(monthsToDays(this._months));\n        switch (units) {\n            case 'week'   : return days / 7     + milliseconds / 6048e5;\n            case 'day'    : return days         + milliseconds / 864e5;\n            case 'hour'   : return days * 24    + milliseconds / 36e5;\n            case 'minute' : return days * 1440  + milliseconds / 6e4;\n            case 'second' : return days * 86400 + milliseconds / 1000;\n            // Math.floor prevents floating point math errors here\n            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n            default: throw new Error('Unknown unit ' + units);\n        }\n    }\n}\n\n// TODO: Use this.as('ms')?\nfunction valueOf$1 () {\n    if (!this.isValid()) {\n        return NaN;\n    }\n    return (\n        this._milliseconds +\n        this._days * 864e5 +\n        (this._months % 12) * 2592e6 +\n        toInt(this._months / 12) * 31536e6\n    );\n}\n\nfunction makeAs (alias) {\n    return function () {\n        return this.as(alias);\n    };\n}\n\nvar asMilliseconds = makeAs('ms');\nvar asSeconds      = makeAs('s');\nvar asMinutes      = makeAs('m');\nvar asHours        = makeAs('h');\nvar asDays         = makeAs('d');\nvar asWeeks        = makeAs('w');\nvar asMonths       = makeAs('M');\nvar asYears        = makeAs('y');\n\nfunction clone$1 () {\n    return createDuration(this);\n}\n\nfunction get$2 (units) {\n    units = normalizeUnits(units);\n    return this.isValid() ? this[units + 's']() : NaN;\n}\n\nfunction makeGetter(name) {\n    return function () {\n        return this.isValid() ? this._data[name] : NaN;\n    };\n}\n\nvar milliseconds = makeGetter('milliseconds');\nvar seconds      = makeGetter('seconds');\nvar minutes      = makeGetter('minutes');\nvar hours        = makeGetter('hours');\nvar days         = makeGetter('days');\nvar months       = makeGetter('months');\nvar years        = makeGetter('years');\n\nfunction weeks () {\n    return absFloor(this.days() / 7);\n}\n\nvar round = Math.round;\nvar thresholds = {\n    ss: 44,         // a few seconds to seconds\n    s : 45,         // seconds to minute\n    m : 45,         // minutes to hour\n    h : 22,         // hours to day\n    d : 26,         // days to month\n    M : 11          // months to year\n};\n\n// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\nfunction substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n}\n\nfunction relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n    var duration = createDuration(posNegDuration).abs();\n    var seconds  = round(duration.as('s'));\n    var minutes  = round(duration.as('m'));\n    var hours    = round(duration.as('h'));\n    var days     = round(duration.as('d'));\n    var months   = round(duration.as('M'));\n    var years    = round(duration.as('y'));\n\n    var a = seconds <= thresholds.ss && ['s', seconds]  ||\n            seconds < thresholds.s   && ['ss', seconds] ||\n            minutes <= 1             && ['m']           ||\n            minutes < thresholds.m   && ['mm', minutes] ||\n            hours   <= 1             && ['h']           ||\n            hours   < thresholds.h   && ['hh', hours]   ||\n            days    <= 1             && ['d']           ||\n            days    < thresholds.d   && ['dd', days]    ||\n            months  <= 1             && ['M']           ||\n            months  < thresholds.M   && ['MM', months]  ||\n            years   <= 1             && ['y']           || ['yy', years];\n\n    a[2] = withoutSuffix;\n    a[3] = +posNegDuration > 0;\n    a[4] = locale;\n    return substituteTimeAgo.apply(null, a);\n}\n\n// This function allows you to set the rounding function for relative time strings\nfunction getSetRelativeTimeRounding (roundingFunction) {\n    if (roundingFunction === undefined) {\n        return round;\n    }\n    if (typeof(roundingFunction) === 'function') {\n        round = roundingFunction;\n        return true;\n    }\n    return false;\n}\n\n// This function allows you to set a threshold for relative time strings\nfunction getSetRelativeTimeThreshold (threshold, limit) {\n    if (thresholds[threshold] === undefined) {\n        return false;\n    }\n    if (limit === undefined) {\n        return thresholds[threshold];\n    }\n    thresholds[threshold] = limit;\n    if (threshold === 's') {\n        thresholds.ss = limit - 1;\n    }\n    return true;\n}\n\nfunction humanize (withSuffix) {\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var locale = this.localeData();\n    var output = relativeTime$1(this, !withSuffix, locale);\n\n    if (withSuffix) {\n        output = locale.pastFuture(+this, output);\n    }\n\n    return locale.postformat(output);\n}\n\nvar abs$1 = Math.abs;\n\nfunction sign(x) {\n    return ((x > 0) - (x < 0)) || +x;\n}\n\nfunction toISOString$1() {\n    // for ISO strings we do not use the normal bubbling rules:\n    //  * milliseconds bubble up until they become hours\n    //  * days do not bubble at all\n    //  * months bubble up until they become years\n    // This is because there is no context-free conversion between hours and days\n    // (think of clock changes)\n    // and also not between days and months (28-31 days per month)\n    if (!this.isValid()) {\n        return this.localeData().invalidDate();\n    }\n\n    var seconds = abs$1(this._milliseconds) / 1000;\n    var days         = abs$1(this._days);\n    var months       = abs$1(this._months);\n    var minutes, hours, years;\n\n    // 3600 seconds -> 60 minutes -> 1 hour\n    minutes           = absFloor(seconds / 60);\n    hours             = absFloor(minutes / 60);\n    seconds %= 60;\n    minutes %= 60;\n\n    // 12 months -> 1 year\n    years  = absFloor(months / 12);\n    months %= 12;\n\n\n    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n    var Y = years;\n    var M = months;\n    var D = days;\n    var h = hours;\n    var m = minutes;\n    var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n    var total = this.asSeconds();\n\n    if (!total) {\n        // this is the same as C#'s (Noda) and python (isodate)...\n        // but not other JS (goog.date)\n        return 'P0D';\n    }\n\n    var totalSign = total < 0 ? '-' : '';\n    var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n    var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n    var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n    return totalSign + 'P' +\n        (Y ? ymSign + Y + 'Y' : '') +\n        (M ? ymSign + M + 'M' : '') +\n        (D ? daysSign + D + 'D' : '') +\n        ((h || m || s) ? 'T' : '') +\n        (h ? hmsSign + h + 'H' : '') +\n        (m ? hmsSign + m + 'M' : '') +\n        (s ? hmsSign + s + 'S' : '');\n}\n\nvar proto$2 = Duration.prototype;\n\nproto$2.isValid        = isValid$1;\nproto$2.abs            = abs;\nproto$2.add            = add$1;\nproto$2.subtract       = subtract$1;\nproto$2.as             = as;\nproto$2.asMilliseconds = asMilliseconds;\nproto$2.asSeconds      = asSeconds;\nproto$2.asMinutes      = asMinutes;\nproto$2.asHours        = asHours;\nproto$2.asDays         = asDays;\nproto$2.asWeeks        = asWeeks;\nproto$2.asMonths       = asMonths;\nproto$2.asYears        = asYears;\nproto$2.valueOf        = valueOf$1;\nproto$2._bubble        = bubble;\nproto$2.clone          = clone$1;\nproto$2.get            = get$2;\nproto$2.milliseconds   = milliseconds;\nproto$2.seconds        = seconds;\nproto$2.minutes        = minutes;\nproto$2.hours          = hours;\nproto$2.days           = days;\nproto$2.weeks          = weeks;\nproto$2.months         = months;\nproto$2.years          = years;\nproto$2.humanize       = humanize;\nproto$2.toISOString    = toISOString$1;\nproto$2.toString       = toISOString$1;\nproto$2.toJSON         = toISOString$1;\nproto$2.locale         = locale;\nproto$2.localeData     = localeData;\n\n// Deprecations\nproto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\nproto$2.lang = lang;\n\n// Side effect imports\n\n// FORMATTING\n\naddFormatToken('X', 0, 0, 'unix');\naddFormatToken('x', 0, 0, 'valueOf');\n\n// PARSING\n\naddRegexToken('x', matchSigned);\naddRegexToken('X', matchTimestamp);\naddParseToken('X', function (input, array, config) {\n    config._d = new Date(parseFloat(input, 10) * 1000);\n});\naddParseToken('x', function (input, array, config) {\n    config._d = new Date(toInt(input));\n});\n\n// Side effect imports\n\n\nhooks.version = '2.20.1';\n\nsetHookCallback(createLocal);\n\nhooks.fn                    = proto;\nhooks.min                   = min;\nhooks.max                   = max;\nhooks.now                   = now;\nhooks.utc                   = createUTC;\nhooks.unix                  = createUnix;\nhooks.months                = listMonths;\nhooks.isDate                = isDate;\nhooks.locale                = getSetGlobalLocale;\nhooks.invalid               = createInvalid;\nhooks.duration              = createDuration;\nhooks.isMoment              = isMoment;\nhooks.weekdays              = listWeekdays;\nhooks.parseZone             = createInZone;\nhooks.localeData            = getLocale;\nhooks.isDuration            = isDuration;\nhooks.monthsShort           = listMonthsShort;\nhooks.weekdaysMin           = listWeekdaysMin;\nhooks.defineLocale          = defineLocale;\nhooks.updateLocale          = updateLocale;\nhooks.locales               = listLocales;\nhooks.weekdaysShort         = listWeekdaysShort;\nhooks.normalizeUnits        = normalizeUnits;\nhooks.relativeTimeRounding  = getSetRelativeTimeRounding;\nhooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\nhooks.calendarFormat        = getCalendarFormat;\nhooks.prototype             = proto;\n\n// currently HTML5 input type only supports 24-hour formats\nhooks.HTML5_FMT = {\n    DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n    DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n    DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n    DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n    TIME: 'HH:mm',                                  // <input type=\"time\" />\n    TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n    TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n    WEEK: 'YYYY-[W]WW',                             // <input type=\"week\" />\n    MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n};\n\nreturn hooks;\n\n})));\n\n},{}],7:[function(require,module,exports){\n/*!\n * Pikaday\n *\n * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday\n */\n\n(function (root, factory)\n{\n    'use strict';\n\n    var moment;\n    if (typeof exports === 'object') {\n        // CommonJS module\n        // Load moment.js as an optional dependency\n        try { moment = require('moment'); } catch (e) {}\n        module.exports = factory(moment);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(function (req)\n        {\n            // Load moment.js as an optional dependency\n            var id = 'moment';\n            try { moment = req(id); } catch (e) {}\n            return factory(moment);\n        });\n    } else {\n        root.Pikaday = factory(root.moment);\n    }\n}(this, function (moment)\n{\n    'use strict';\n\n    /**\n     * feature detection and helper functions\n     */\n    var hasMoment = typeof moment === 'function',\n\n    hasEventListeners = !!window.addEventListener,\n\n    document = window.document,\n\n    sto = window.setTimeout,\n\n    addEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.addEventListener(e, callback, !!capture);\n        } else {\n            el.attachEvent('on' + e, callback);\n        }\n    },\n\n    removeEvent = function(el, e, callback, capture)\n    {\n        if (hasEventListeners) {\n            el.removeEventListener(e, callback, !!capture);\n        } else {\n            el.detachEvent('on' + e, callback);\n        }\n    },\n\n    trim = function(str)\n    {\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\n    },\n\n    hasClass = function(el, cn)\n    {\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\n    },\n\n    addClass = function(el, cn)\n    {\n        if (!hasClass(el, cn)) {\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\n        }\n    },\n\n    removeClass = function(el, cn)\n    {\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\n    },\n\n    isArray = function(obj)\n    {\n        return (/Array/).test(Object.prototype.toString.call(obj));\n    },\n\n    isDate = function(obj)\n    {\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\n    },\n\n    isWeekend = function(date)\n    {\n        var day = date.getDay();\n        return day === 0 || day === 6;\n    },\n\n    isLeapYear = function(year)\n    {\n        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951\n        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n\n    getDaysInMonth = function(year, month)\n    {\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n\n    setToStartOfDay = function(date)\n    {\n        if (isDate(date)) date.setHours(0,0,0,0);\n    },\n\n    compareDates = function(a,b)\n    {\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\n        return a.getTime() === b.getTime();\n    },\n\n    extend = function(to, from, overwrite)\n    {\n        var prop, hasProp;\n        for (prop in from) {\n            hasProp = to[prop] !== undefined;\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\n                if (isDate(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = new Date(from[prop].getTime());\n                    }\n                }\n                else if (isArray(from[prop])) {\n                    if (overwrite) {\n                        to[prop] = from[prop].slice(0);\n                    }\n                } else {\n                    to[prop] = extend({}, from[prop], overwrite);\n                }\n            } else if (overwrite || !hasProp) {\n                to[prop] = from[prop];\n            }\n        }\n        return to;\n    },\n\n    fireEvent = function(el, eventName, data)\n    {\n        var ev;\n\n        if (document.createEvent) {\n            ev = document.createEvent('HTMLEvents');\n            ev.initEvent(eventName, true, false);\n            ev = extend(ev, data);\n            el.dispatchEvent(ev);\n        } else if (document.createEventObject) {\n            ev = document.createEventObject();\n            ev = extend(ev, data);\n            el.fireEvent('on' + eventName, ev);\n        }\n    },\n\n    adjustCalendar = function(calendar) {\n        if (calendar.month < 0) {\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\n            calendar.month += 12;\n        }\n        if (calendar.month > 11) {\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\n            calendar.month -= 12;\n        }\n        return calendar;\n    },\n\n    /**\n     * defaults and localisation\n     */\n    defaults = {\n\n        // bind the picker to a form field\n        field: null,\n\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\n        bound: undefined,\n\n        // position of the datepicker, relative to the field (default to bottom & left)\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\n        position: 'bottom left',\n\n        // automatically fit in the viewport even if it means repositioning from the position option\n        reposition: true,\n\n        // the default output format for `.toString()` and `field` value\n        format: 'YYYY-MM-DD',\n\n        // the toString function which gets passed a current date object and format\n        // and returns a string\n        toString: null,\n\n        // used to create date object from current input string\n        parse: null,\n\n        // the initial date to view when first opened\n        defaultDate: null,\n\n        // make the `defaultDate` the initial selected value\n        setDefaultDate: false,\n\n        // first day of week (0: Sunday, 1: Monday etc)\n        firstDay: 0,\n\n        // the default flag for moment's strict date parsing\n        formatStrict: false,\n\n        // the minimum/earliest date that can be selected\n        minDate: null,\n        // the maximum/latest date that can be selected\n        maxDate: null,\n\n        // number of years either side, or array of upper/lower range\n        yearRange: 10,\n\n        // show week numbers at head of row\n        showWeekNumber: false,\n\n        // Week picker mode\n        pickWholeWeek: false,\n\n        // used internally (don't config outside)\n        minYear: 0,\n        maxYear: 9999,\n        minMonth: undefined,\n        maxMonth: undefined,\n\n        startRange: null,\n        endRange: null,\n\n        isRTL: false,\n\n        // Additional text to append to the year in the calendar title\n        yearSuffix: '',\n\n        // Render the month after year in the calendar title\n        showMonthAfterYear: false,\n\n        // Render days of the calendar grid that fall in the next or previous month\n        showDaysInNextAndPreviousMonths: false,\n\n        // Allows user to select days that fall in the next or previous month\n        enableSelectionDaysInNextAndPreviousMonths: false,\n\n        // how many months are visible\n        numberOfMonths: 1,\n\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\n        // only used for the first display or when a selected date is not visible\n        mainCalendar: 'left',\n\n        // Specify a DOM element to render the calendar in\n        container: undefined,\n\n        // Blur field when date is selected\n        blurFieldOnSelect : true,\n\n        // internationalization\n        i18n: {\n            previousMonth : 'Previous Month',\n            nextMonth     : 'Next Month',\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n        },\n\n        // Theme Classname\n        theme: null,\n\n        // events array\n        events: [],\n\n        // callback function\n        onSelect: null,\n        onOpen: null,\n        onClose: null,\n        onDraw: null,\n\n        // Enable keyboard input\n        keyboardInput: true\n    },\n\n\n    /**\n     * templating functions to abstract HTML rendering\n     */\n    renderDayName = function(opts, day, abbr)\n    {\n        day += opts.firstDay;\n        while (day >= 7) {\n            day -= 7;\n        }\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\n    },\n\n    renderDay = function(opts)\n    {\n        var arr = [];\n        var ariaSelected = 'false';\n        if (opts.isEmpty) {\n            if (opts.showDaysInNextAndPreviousMonths) {\n                arr.push('is-outside-current-month');\n\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\n                    arr.push('is-selection-disabled');\n                }\n\n            } else {\n                return '<td class=\"is-empty\"></td>';\n            }\n        }\n        if (opts.isDisabled) {\n            arr.push('is-disabled');\n        }\n        if (opts.isToday) {\n            arr.push('is-today');\n        }\n        if (opts.isSelected) {\n            arr.push('is-selected');\n            ariaSelected = 'true';\n        }\n        if (opts.hasEvent) {\n            arr.push('has-event');\n        }\n        if (opts.isInRange) {\n            arr.push('is-inrange');\n        }\n        if (opts.isStartRange) {\n            arr.push('is-startrange');\n        }\n        if (opts.isEndRange) {\n            arr.push('is-endrange');\n        }\n        return '<td data-day=\"' + opts.day + '\" class=\"' + arr.join(' ') + '\" aria-selected=\"' + ariaSelected + '\">' +\n                 '<button class=\"pika-button pika-day\" type=\"button\" ' +\n                    'data-pika-year=\"' + opts.year + '\" data-pika-month=\"' + opts.month + '\" data-pika-day=\"' + opts.day + '\">' +\n                        opts.day +\n                 '</button>' +\n               '</td>';\n    },\n\n    renderWeek = function (d, m, y) {\n        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.\n        var onejan = new Date(y, 0, 1),\n            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);\n        return '<td class=\"pika-week\">' + weekNum + '</td>';\n    },\n\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\n    {\n        return '<tr class=\"pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\n    },\n\n    renderBody = function(rows)\n    {\n        return '<tbody>' + rows.join('') + '</tbody>';\n    },\n\n    renderHead = function(opts)\n    {\n        var i, arr = [];\n        if (opts.showWeekNumber) {\n            arr.push('<th></th>');\n        }\n        for (i = 0; i < 7; i++) {\n            arr.push('<th scope=\"col\"><abbr title=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</abbr></th>');\n        }\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\n    },\n\n    renderTitle = function(instance, c, year, month, refYear, randId)\n    {\n        var i, j, arr,\n            opts = instance._o,\n            isMinYear = year === opts.minYear,\n            isMaxYear = year === opts.maxYear,\n            html = '<div id=\"' + randId + '\" class=\"pika-title\" role=\"heading\" aria-live=\"assertive\">',\n            monthHtml,\n            yearHtml,\n            prev = true,\n            next = true;\n\n        for (arr = [], i = 0; i < 12; i++) {\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\n                (i === month ? ' selected=\"selected\"': '') +\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled=\"disabled\"' : '') + '>' +\n                opts.i18n.months[i] + '</option>');\n        }\n\n        monthHtml = '<div class=\"pika-label\">' + opts.i18n.months[month] + '<select class=\"pika-select pika-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (isArray(opts.yearRange)) {\n            i = opts.yearRange[0];\n            j = opts.yearRange[1] + 1;\n        } else {\n            i = year - opts.yearRange;\n            j = 1 + year + opts.yearRange;\n        }\n\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\n            if (i >= opts.minYear) {\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\n            }\n        }\n        yearHtml = '<div class=\"pika-label\">' + year + opts.yearSuffix + '<select class=\"pika-select pika-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\n\n        if (opts.showMonthAfterYear) {\n            html += yearHtml + monthHtml;\n        } else {\n            html += monthHtml + yearHtml;\n        }\n\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\n            prev = false;\n        }\n\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\n            next = false;\n        }\n\n        if (c === 0) {\n            html += '<button class=\"pika-prev' + (prev ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.previousMonth + '</button>';\n        }\n        if (c === (instance._o.numberOfMonths - 1) ) {\n            html += '<button class=\"pika-next' + (next ? '' : ' is-disabled') + '\" type=\"button\">' + opts.i18n.nextMonth + '</button>';\n        }\n\n        return html += '</div>';\n    },\n\n    renderTable = function(opts, data, randId)\n    {\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"pika-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\n    },\n\n\n    /**\n     * Pikaday constructor\n     */\n    Pikaday = function(options)\n    {\n        var self = this,\n            opts = self.config(options);\n\n        self._onMouseDown = function(e)\n        {\n            if (!self._v) {\n                return;\n            }\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n\n            if (!hasClass(target, 'is-disabled')) {\n                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\n                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));\n                    if (opts.bound) {\n                        sto(function() {\n                            self.hide();\n                            if (opts.blurFieldOnSelect && opts.field) {\n                                opts.field.blur();\n                            }\n                        }, 100);\n                    }\n                }\n                else if (hasClass(target, 'pika-prev')) {\n                    self.prevMonth();\n                }\n                else if (hasClass(target, 'pika-next')) {\n                    self.nextMonth();\n                }\n            }\n            if (!hasClass(target, 'pika-select')) {\n                // if this is touch event prevent mouse events emulation\n                if (e.preventDefault) {\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                    return false;\n                }\n            } else {\n                self._c = true;\n            }\n        };\n\n        self._onChange = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement;\n            if (!target) {\n                return;\n            }\n            if (hasClass(target, 'pika-select-month')) {\n                self.gotoMonth(target.value);\n            }\n            else if (hasClass(target, 'pika-select-year')) {\n                self.gotoYear(target.value);\n            }\n        };\n\n        self._onKeyChange = function(e)\n        {\n            e = e || window.event;\n\n            if (self.isVisible()) {\n\n                switch(e.keyCode){\n                    case 13:\n                    case 27:\n                        if (opts.field) {\n                            opts.field.blur();\n                        }\n                        break;\n                    case 37:\n                        e.preventDefault();\n                        self.adjustDate('subtract', 1);\n                        break;\n                    case 38:\n                        self.adjustDate('subtract', 7);\n                        break;\n                    case 39:\n                        self.adjustDate('add', 1);\n                        break;\n                    case 40:\n                        self.adjustDate('add', 7);\n                        break;\n                }\n            }\n        };\n\n        self._onInputChange = function(e)\n        {\n            var date;\n\n            if (e.firedBy === self) {\n                return;\n            }\n            if (opts.parse) {\n                date = opts.parse(opts.field.value, opts.format);\n            } else if (hasMoment) {\n                date = moment(opts.field.value, opts.format, opts.formatStrict);\n                date = (date && date.isValid()) ? date.toDate() : null;\n            }\n            else {\n                date = new Date(Date.parse(opts.field.value));\n            }\n            if (isDate(date)) {\n              self.setDate(date);\n            }\n            if (!self._v) {\n                self.show();\n            }\n        };\n\n        self._onInputFocus = function()\n        {\n            self.show();\n        };\n\n        self._onInputClick = function()\n        {\n            self.show();\n        };\n\n        self._onInputBlur = function()\n        {\n            // IE allows pika div to gain focus; catch blur the input field\n            var pEl = document.activeElement;\n            do {\n                if (hasClass(pEl, 'pika-single')) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n\n            if (!self._c) {\n                self._b = sto(function() {\n                    self.hide();\n                }, 50);\n            }\n            self._c = false;\n        };\n\n        self._onClick = function(e)\n        {\n            e = e || window.event;\n            var target = e.target || e.srcElement,\n                pEl = target;\n            if (!target) {\n                return;\n            }\n            if (!hasEventListeners && hasClass(target, 'pika-select')) {\n                if (!target.onchange) {\n                    target.setAttribute('onchange', 'return;');\n                    addEvent(target, 'change', self._onChange);\n                }\n            }\n            do {\n                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {\n                    return;\n                }\n            }\n            while ((pEl = pEl.parentNode));\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\n                self.hide();\n            }\n        };\n\n        self.el = document.createElement('div');\n        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');\n\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\n        addEvent(self.el, 'change', self._onChange);\n\n        if (opts.keyboardInput) {\n            addEvent(document, 'keydown', self._onKeyChange);\n        }\n\n        if (opts.field) {\n            if (opts.container) {\n                opts.container.appendChild(self.el);\n            } else if (opts.bound) {\n                document.body.appendChild(self.el);\n            } else {\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\n            }\n            addEvent(opts.field, 'change', self._onInputChange);\n\n            if (!opts.defaultDate) {\n                if (hasMoment && opts.field.value) {\n                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();\n                } else {\n                    opts.defaultDate = new Date(Date.parse(opts.field.value));\n                }\n                opts.setDefaultDate = true;\n            }\n        }\n\n        var defDate = opts.defaultDate;\n\n        if (isDate(defDate)) {\n            if (opts.setDefaultDate) {\n                self.setDate(defDate, true);\n            } else {\n                self.gotoDate(defDate);\n            }\n        } else {\n            self.gotoDate(new Date());\n        }\n\n        if (opts.bound) {\n            this.hide();\n            self.el.className += ' is-bound';\n            addEvent(opts.trigger, 'click', self._onInputClick);\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\n        } else {\n            this.show();\n        }\n    };\n\n\n    /**\n     * public Pikaday API\n     */\n    Pikaday.prototype = {\n\n\n        /**\n         * configure functionality\n         */\n        config: function(options)\n        {\n            if (!this._o) {\n                this._o = extend({}, defaults, true);\n            }\n\n            var opts = extend(this._o, options, true);\n\n            opts.isRTL = !!opts.isRTL;\n\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\n\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\n\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\n\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\n\n            opts.disableWeekends = !!opts.disableWeekends;\n\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\n\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\n\n            if (!isDate(opts.minDate)) {\n                opts.minDate = false;\n            }\n            if (!isDate(opts.maxDate)) {\n                opts.maxDate = false;\n            }\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\n                opts.maxDate = opts.minDate = false;\n            }\n            if (opts.minDate) {\n                this.setMinDate(opts.minDate);\n            }\n            if (opts.maxDate) {\n                this.setMaxDate(opts.maxDate);\n            }\n\n            if (isArray(opts.yearRange)) {\n                var fallback = new Date().getFullYear() - 10;\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\n            } else {\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\n                if (opts.yearRange > 100) {\n                    opts.yearRange = 100;\n                }\n            }\n\n            return opts;\n        },\n\n        /**\n         * return a formatted string of the current selection (using Moment.js if available)\n         */\n        toString: function(format)\n        {\n            format = format || this._o.format;\n            if (!isDate(this._d)) {\n                return '';\n            }\n            if (this._o.toString) {\n              return this._o.toString(this._d, format);\n            }\n            if (hasMoment) {\n              return moment(this._d).format(format);\n            }\n            return this._d.toDateString();\n        },\n\n        /**\n         * return a Moment.js object of the current selection (if available)\n         */\n        getMoment: function()\n        {\n            return hasMoment ? moment(this._d) : null;\n        },\n\n        /**\n         * set the current selection from a Moment.js object (if available)\n         */\n        setMoment: function(date, preventOnSelect)\n        {\n            if (hasMoment && moment.isMoment(date)) {\n                this.setDate(date.toDate(), preventOnSelect);\n            }\n        },\n\n        /**\n         * return a Date object of the current selection\n         */\n        getDate: function()\n        {\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\n        },\n\n        /**\n         * set the current selection\n         */\n        setDate: function(date, preventOnSelect)\n        {\n            if (!date) {\n                this._d = null;\n\n                if (this._o.field) {\n                    this._o.field.value = '';\n                    fireEvent(this._o.field, 'change', { firedBy: this });\n                }\n\n                return this.draw();\n            }\n            if (typeof date === 'string') {\n                date = new Date(Date.parse(date));\n            }\n            if (!isDate(date)) {\n                return;\n            }\n\n            var min = this._o.minDate,\n                max = this._o.maxDate;\n\n            if (isDate(min) && date < min) {\n                date = min;\n            } else if (isDate(max) && date > max) {\n                date = max;\n            }\n\n            this._d = new Date(date.getTime());\n            setToStartOfDay(this._d);\n            this.gotoDate(this._d);\n\n            if (this._o.field) {\n                this._o.field.value = this.toString();\n                fireEvent(this._o.field, 'change', { firedBy: this });\n            }\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\n                this._o.onSelect.call(this, this.getDate());\n            }\n        },\n\n        /**\n         * change view to a specific date\n         */\n        gotoDate: function(date)\n        {\n            var newCalendar = true;\n\n            if (!isDate(date)) {\n                return;\n            }\n\n            if (this.calendars) {\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\n                    visibleDate = date.getTime();\n                // get the end of the month\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\n            }\n\n            if (newCalendar) {\n                this.calendars = [{\n                    month: date.getMonth(),\n                    year: date.getFullYear()\n                }];\n                if (this._o.mainCalendar === 'right') {\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\n                }\n            }\n\n            this.adjustCalendars();\n        },\n\n        adjustDate: function(sign, days) {\n\n            var day = this.getDate() || new Date();\n            var difference = parseInt(days)*24*60*60*1000;\n\n            var newDay;\n\n            if (sign === 'add') {\n                newDay = new Date(day.valueOf() + difference);\n            } else if (sign === 'subtract') {\n                newDay = new Date(day.valueOf() - difference);\n            }\n\n            this.setDate(newDay);\n        },\n\n        adjustCalendars: function() {\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\n                this.calendars[c] = adjustCalendar({\n                    month: this.calendars[0].month + c,\n                    year: this.calendars[0].year\n                });\n            }\n            this.draw();\n        },\n\n        gotoToday: function()\n        {\n            this.gotoDate(new Date());\n        },\n\n        /**\n         * change view to a specific month (zero-index, e.g. 0: January)\n         */\n        gotoMonth: function(month)\n        {\n            if (!isNaN(month)) {\n                this.calendars[0].month = parseInt(month, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        nextMonth: function()\n        {\n            this.calendars[0].month++;\n            this.adjustCalendars();\n        },\n\n        prevMonth: function()\n        {\n            this.calendars[0].month--;\n            this.adjustCalendars();\n        },\n\n        /**\n         * change view to a specific full year (e.g. \"2012\")\n         */\n        gotoYear: function(year)\n        {\n            if (!isNaN(year)) {\n                this.calendars[0].year = parseInt(year, 10);\n                this.adjustCalendars();\n            }\n        },\n\n        /**\n         * change the minDate\n         */\n        setMinDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.minDate = value;\n                this._o.minYear  = value.getFullYear();\n                this._o.minMonth = value.getMonth();\n            } else {\n                this._o.minDate = defaults.minDate;\n                this._o.minYear  = defaults.minYear;\n                this._o.minMonth = defaults.minMonth;\n                this._o.startRange = defaults.startRange;\n            }\n\n            this.draw();\n        },\n\n        /**\n         * change the maxDate\n         */\n        setMaxDate: function(value)\n        {\n            if(value instanceof Date) {\n                setToStartOfDay(value);\n                this._o.maxDate = value;\n                this._o.maxYear = value.getFullYear();\n                this._o.maxMonth = value.getMonth();\n            } else {\n                this._o.maxDate = defaults.maxDate;\n                this._o.maxYear = defaults.maxYear;\n                this._o.maxMonth = defaults.maxMonth;\n                this._o.endRange = defaults.endRange;\n            }\n\n            this.draw();\n        },\n\n        setStartRange: function(value)\n        {\n            this._o.startRange = value;\n        },\n\n        setEndRange: function(value)\n        {\n            this._o.endRange = value;\n        },\n\n        /**\n         * refresh the HTML\n         */\n        draw: function(force)\n        {\n            if (!this._v && !force) {\n                return;\n            }\n            var opts = this._o,\n                minYear = opts.minYear,\n                maxYear = opts.maxYear,\n                minMonth = opts.minMonth,\n                maxMonth = opts.maxMonth,\n                html = '',\n                randId;\n\n            if (this._y <= minYear) {\n                this._y = minYear;\n                if (!isNaN(minMonth) && this._m < minMonth) {\n                    this._m = minMonth;\n                }\n            }\n            if (this._y >= maxYear) {\n                this._y = maxYear;\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\n                    this._m = maxMonth;\n                }\n            }\n\n            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\n\n            for (var c = 0; c < opts.numberOfMonths; c++) {\n                html += '<div class=\"pika-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\n            }\n\n            this.el.innerHTML = html;\n\n            if (opts.bound) {\n                if(opts.field.type !== 'hidden') {\n                    sto(function() {\n                        opts.trigger.focus();\n                    }, 1);\n                }\n            }\n\n            if (typeof this._o.onDraw === 'function') {\n                this._o.onDraw(this);\n            }\n\n            if (opts.bound) {\n                // let the screen reader user know to use arrow keys\n                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');\n            }\n        },\n\n        adjustPosition: function()\n        {\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;\n\n            if (this._o.container) return;\n\n            this.el.style.position = 'absolute';\n\n            field = this._o.trigger;\n            pEl = field;\n            width = this.el.offsetWidth;\n            height = this.el.offsetHeight;\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n\n            if (typeof field.getBoundingClientRect === 'function') {\n                clientRect = field.getBoundingClientRect();\n                left = clientRect.left + window.pageXOffset;\n                top = clientRect.bottom + window.pageYOffset;\n            } else {\n                left = pEl.offsetLeft;\n                top  = pEl.offsetTop + pEl.offsetHeight;\n                while((pEl = pEl.offsetParent)) {\n                    left += pEl.offsetLeft;\n                    top  += pEl.offsetTop;\n                }\n            }\n\n            // default position is bottom & left\n            if ((this._o.reposition && left + width > viewportWidth) ||\n                (\n                    this._o.position.indexOf('right') > -1 &&\n                    left - width + field.offsetWidth > 0\n                )\n            ) {\n                left = left - width + field.offsetWidth;\n            }\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\n                (\n                    this._o.position.indexOf('top') > -1 &&\n                    top - height - field.offsetHeight > 0\n                )\n            ) {\n                top = top - height - field.offsetHeight;\n            }\n\n            this.el.style.left = left + 'px';\n            this.el.style.top = top + 'px';\n        },\n\n        /**\n         * render HTML for a particular month\n         */\n        render: function(year, month, randId)\n        {\n            var opts   = this._o,\n                now    = new Date(),\n                days   = getDaysInMonth(year, month),\n                before = new Date(year, month, 1).getDay(),\n                data   = [],\n                row    = [];\n            setToStartOfDay(now);\n            if (opts.firstDay > 0) {\n                before -= opts.firstDay;\n                if (before < 0) {\n                    before += 7;\n                }\n            }\n            var previousMonth = month === 0 ? 11 : month - 1,\n                nextMonth = month === 11 ? 0 : month + 1,\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\n                yearOfNextMonth = month === 11 ? year + 1 : year,\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\n            var cells = days + before,\n                after = cells;\n            while(after > 7) {\n                after -= 7;\n            }\n            cells += 7 - after;\n            var isWeekSelected = false;\n            for (var i = 0, r = 0; i < cells; i++)\n            {\n                var day = new Date(year, month, 1 + (i - before)),\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\n                    isToday = compareDates(day, now),\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\n                    isEmpty = i < before || i >= (days + before),\n                    dayNumber = 1 + (i - before),\n                    monthNumber = month,\n                    yearNumber = year,\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\n                                 (opts.maxDate && day > opts.maxDate) ||\n                                 (opts.disableWeekends && isWeekend(day)) ||\n                                 (opts.disableDayFn && opts.disableDayFn(day));\n\n                if (isEmpty) {\n                    if (i < before) {\n                        dayNumber = daysInPreviousMonth + dayNumber;\n                        monthNumber = previousMonth;\n                        yearNumber = yearOfPreviousMonth;\n                    } else {\n                        dayNumber = dayNumber - days;\n                        monthNumber = nextMonth;\n                        yearNumber = yearOfNextMonth;\n                    }\n                }\n\n                var dayConfig = {\n                        day: dayNumber,\n                        month: monthNumber,\n                        year: yearNumber,\n                        hasEvent: hasEvent,\n                        isSelected: isSelected,\n                        isToday: isToday,\n                        isDisabled: isDisabled,\n                        isEmpty: isEmpty,\n                        isStartRange: isStartRange,\n                        isEndRange: isEndRange,\n                        isInRange: isInRange,\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\n                    };\n\n                if (opts.pickWholeWeek && isSelected) {\n                    isWeekSelected = true;\n                }\n\n                row.push(renderDay(dayConfig));\n\n                if (++r === 7) {\n                    if (opts.showWeekNumber) {\n                        row.unshift(renderWeek(i - before, month, year));\n                    }\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\n                    row = [];\n                    r = 0;\n                    isWeekSelected = false;\n                }\n            }\n            return renderTable(opts, data, randId);\n        },\n\n        isVisible: function()\n        {\n            return this._v;\n        },\n\n        show: function()\n        {\n            if (!this.isVisible()) {\n                this._v = true;\n                this.draw();\n                removeClass(this.el, 'is-hidden');\n                if (this._o.bound) {\n                    addEvent(document, 'click', this._onClick);\n                    this.adjustPosition();\n                }\n                if (typeof this._o.onOpen === 'function') {\n                    this._o.onOpen.call(this);\n                }\n            }\n        },\n\n        hide: function()\n        {\n            var v = this._v;\n            if (v !== false) {\n                if (this._o.bound) {\n                    removeEvent(document, 'click', this._onClick);\n                }\n                this.el.style.position = 'static'; // reset\n                this.el.style.left = 'auto';\n                this.el.style.top = 'auto';\n                addClass(this.el, 'is-hidden');\n                this._v = false;\n                if (v !== undefined && typeof this._o.onClose === 'function') {\n                    this._o.onClose.call(this);\n                }\n            }\n        },\n\n        /**\n         * GAME OVER\n         */\n        destroy: function()\n        {\n            var opts = this._o;\n\n            this.hide();\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\n            removeEvent(this.el, 'change', this._onChange);\n            if (opts.keyboardInput) {\n                removeEvent(document, 'keydown', this._onKeyChange);\n            }\n            if (opts.field) {\n                removeEvent(opts.field, 'change', this._onInputChange);\n                if (opts.bound) {\n                    removeEvent(opts.trigger, 'click', this._onInputClick);\n                    removeEvent(opts.trigger, 'focus', this._onInputFocus);\n                    removeEvent(opts.trigger, 'blur', this._onInputBlur);\n                }\n            }\n            if (this.el.parentNode) {\n                this.el.parentNode.removeChild(this.el);\n            }\n        }\n\n    };\n\n    return Pikaday;\n}));\n\n},{\"moment\":6}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcGkuanMiLCJqcy9hdXguanMiLCJqcy9tYWluLmpzIiwibm9kZV9tb2R1bGVzL2F1dG9zaXplL2Rpc3QvYXV0b3NpemUuanMiLCJub2RlX21vZHVsZXMvZWFzeS1hdXRvY29tcGxldGUvZGlzdC9qcXVlcnkuZWFzeS1hdXRvY29tcGxldGUuanMiLCJub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9waWthZGF5L3Bpa2FkYXkuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOztBQUNBOztBQUVBLElBQUksT0FBTyxxQkFBWDs7QUFFQSxPQUFPLE9BQVAsQ0FBZSxTQUFmLEdBQTJCLFlBQVc7QUFDbEM7QUFDQSxRQUFJLENBQUMsT0FBTyxPQUFaLEVBQXFCLE9BQU8sUUFBUCxDQUFnQixPQUFoQixDQUF3QixRQUF4Qjs7QUFFckIsV0FBTyxLQUFQLEdBQWUsSUFBZjs7QUFFQTtBQUNBLFFBQUksQ0FBQyxPQUFPLFFBQVosRUFBc0I7QUFDbEIsbUJBQVcsWUFBVztBQUNsQjtBQUNILFNBRkQsRUFFRyxHQUZIO0FBR0EsZUFBTyxTQUFQO0FBQ0g7O0FBRUQsV0FBTyxRQUFQLEdBQWtCLEtBQWxCOztBQUVBLFFBQUksRUFBRSxPQUFGLEVBQVcsUUFBWCxDQUFvQixTQUFwQixDQUFKLEVBQW9DLEVBQUUsT0FBRixFQUFXLFdBQVgsQ0FBdUIsU0FBdkI7QUFDcEMsUUFBSSxFQUFFLE9BQUYsRUFBVyxRQUFYLENBQW9CLFNBQXBCLENBQUosRUFBb0MsRUFBRSxPQUFGLEVBQVcsV0FBWCxDQUF1QixTQUF2Qjs7QUFFcEMsTUFBRSxVQUFGLEVBQWMsUUFBZCxDQUF1QixTQUF2Qjs7QUFFQSxNQUFFLElBQUYsQ0FBTztBQUNILGFBQUssT0FBTyxzQkFBUCxHQUFnQyxPQUFPLE9BQXZDLEdBQWlELEdBRG5EO0FBRUgsZ0JBQVEsS0FGTDtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDblNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3Y3SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsImltcG9ydCB7IGNyZWF0ZUVudHJ5LCBhZGRBRGF5LCBmb3JtYXREYXRlIH0gZnJvbSAnLi9hdXgnO1xuaW1wb3J0IHsgX2dldF9jYXJkLCBfZ2V0X2NhcmRfbGlzdCwgX2NyZWF0ZV9uZXdfY2FyZCwgX3NhdmVfY2FyZF9tZXRhLCBfZGVsZXRlX2NhcmQsIF9zYXZlX3RhZ3MsIF9jbGVhbl91cF90YWcsIF9zYXZlX2FsbF9lbnRyaWVzLCBfc2F2ZV9lbnRyeSwgX2RlbGV0ZV9lbnRyeSwgX3NhdmVfc2NvcmUgfSBmcm9tICcuL2FwaSc7XG5cbnZhciBob3N0ID0gJ2h0dHA6Ly8wLjAuMC4wOjgwMDAnO1xuXG5tb2R1bGUuZXhwb3J0cy5fZ2V0X2NhcmQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBpZiBubyBjYXJkX2lkIHNldCwgcmVkaXJlY3QgdG8gL2xpc3QvXG4gICAgaWYgKCF3aW5kb3cuY2FyZF9pZCkgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9saXN0LycpO1xuXG4gICAgd2luZG93LnF1ZXVlID0gdHJ1ZTtcblxuICAgIC8vIHdhaXQgdW50aWwgcHJldmlvdXMgcmVxdWVzdCBmaW5pc2hlc1xuICAgIGlmICghd2luZG93LmNhbl9zYXZlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfZ2V0X2NhcmQoKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB3aW5kb3cuY2FuX3NhdmUgPSBmYWxzZTtcblxuICAgIGlmICgkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICBpZiAoJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG5cbiAgICAkKCcuc3Bpbm5lcicpLmFkZENsYXNzKCdsY19zaG93Jyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS9jYXJkcy1yZW5kZXJlZC8nICsgd2luZG93LmNhcmRfaWQgKyAnLycsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHN0YXR1c0NvZGU6IHtcbiAgICAgICAgICAgIDQwNDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9saXN0LycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIC8vIEZpbGwgaW4gdGhlIGNhcmQgbmFtZVxuICAgICAgICAkKCcuY2FyZC1uYW1lX2lucHV0JykudGV4dChkYXRhLnRpdGxlKTtcblxuICAgICAgICAvLyBGaWxsIGluIHRhZ3NcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnRhZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHZpc3VhbHNcbiAgICAgICAgICAgICQoJzxzcGFuIGNsYXNzPVwiZ2xfdGFnLWluY2x1ZGVcIj4nICsgZGF0YS50YWdzW2ldLnRhZ19uYW1lICsgJzwvc3Bhbj4nKS5pbnNlcnRCZWZvcmUoJCgnI3RhZ3Mtc2VsZWN0b3InKS5jbG9zZXN0KCcuZWFzeS1hdXRvY29tcGxldGUnKSk7XG5cbiAgICAgICAgICAgIC8vIGxvZ2ljXG4gICAgICAgICAgICB3aW5kb3cudGFnc0luY2x1ZGVkLnB1c2goZGF0YS50YWdzW2ldLnRhZ19uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSByZXN0IG9mIG1ldGFcbiAgICAgICAgaWYgKGRhdGEuaXNfcHJpdmF0ZSkgJCgnI2NoZWNrYm94LXByaXZhdGUnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgIGVsc2UgJCgnI2NoZWNrYm94LXByaXZhdGUnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICBpZiAoZGF0YS5pc19jcmVhdG9yX2hpZGRlbikgJCgnI2NoZWNrYm94LWhpZGUtY3JlYXRvcicpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgZWxzZSAkKCcjY2hlY2tib3gtaGlkZS1jcmVhdG9yJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcblxuICAgICAgICAvLyBGaWxsIGluIGVudHJpZXNcbiAgICAgICAgLy8gRmlyc3QsIHNvcnQgdGhlIGVudHJpZXMgaW50byBhIGRpY3Rpb25hcnkgezE6IG9yZGVyMSwgMjogb3JkZXIyLCBldGMuLi59XG4gICAgICAgIHZhciBlbnRyaWVzX3NvcnRlZCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBkYXRhLmVudHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRhdGEuZW50cmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIoZGF0YS5lbnRyaWVzW2pdLm9yZGVyKSA9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJpZXNfc29ydGVkW2ldID0gZGF0YS5lbnRyaWVzW2pdO1xuICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cub3JkZXIrKztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSByZXNwZWN0aXZlIGFyZWEgd2l0aCBlbnRyaWVzIGluIHRoZSByaWdodCBvcmRlciAod2Ugc3RhcnQgb3VyIGZyb20gMSBiZWNhdXNlIHdlIGRvbid0IGhhdmUgb3JkZXIwKVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBkYXRhLmVudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdyZXZpc2UnKSkge1xuICAgICAgICAgICAgICAgIC8vIE9wZW4gVGV4dFxuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzX3NvcnRlZFtpXS50eXBlID09IDEpIGNyZWF0ZUVudHJ5KDEsIGVudHJpZXNfc29ydGVkW2ldLmlkLCBlbnRyaWVzX3NvcnRlZFtpXS5vcmRlciwgZW50cmllc19zb3J0ZWRbaV0uY29udGVudCwgJycsICdlZGl0Jyk7XG4gICAgICAgICAgICAgICAgLy8gSGlkZGVuIFRleHRcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc19zb3J0ZWRbaV0udHlwZSA9PSAyKSBjcmVhdGVFbnRyeSgyLCBlbnRyaWVzX3NvcnRlZFtpXS5pZCwgZW50cmllc19zb3J0ZWRbaV0ub3JkZXIsIGVudHJpZXNfc29ydGVkW2ldLmNvbnRlbnQsIGVudHJpZXNfc29ydGVkW2ldLmhpbnQsICdlZGl0Jyk7XG4gICAgICAgICAgICAgICAgLy8gUHJvbXB0IFRleHRcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc19zb3J0ZWRbaV0udHlwZSA9PSAzKSBjcmVhdGVFbnRyeSgzLCBlbnRyaWVzX3NvcnRlZFtpXS5pZCwgZW50cmllc19zb3J0ZWRbaV0ub3JkZXIsIGVudHJpZXNfc29ydGVkW2ldLmNvbnRlbnQsIGVudHJpZXNfc29ydGVkW2ldLmhpbnQsICdlZGl0JywgZW50cmllc19zb3J0ZWRbaV0ucnVsZSk7XG4gICAgICAgICAgICAgICAgLy8gT3BlbiBDb2RlXG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXNfc29ydGVkW2ldLnR5cGUgPT0gNCkgY3JlYXRlRW50cnkoNCwgZW50cmllc19zb3J0ZWRbaV0uaWQsIGVudHJpZXNfc29ydGVkW2ldLm9yZGVyLCBlbnRyaWVzX3NvcnRlZFtpXS5jb250ZW50LCAnJywgJ2VkaXQnKTtcbiAgICAgICAgICAgICAgICAvLyBIaWRkZW4gQ29kZVxuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzX3NvcnRlZFtpXS50eXBlID09IDUpIGNyZWF0ZUVudHJ5KDUsIGVudHJpZXNfc29ydGVkW2ldLmlkLCBlbnRyaWVzX3NvcnRlZFtpXS5vcmRlciwgZW50cmllc19zb3J0ZWRbaV0uY29udGVudCwgZW50cmllc19zb3J0ZWRbaV0uaGludCwgJ2VkaXQnKTtcbiAgICAgICAgICAgICAgICAvLyBQcm9tcHQgQ29kZVxuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzX3NvcnRlZFtpXS50eXBlID09IDYpIGNyZWF0ZUVudHJ5KDYsIGVudHJpZXNfc29ydGVkW2ldLmlkLCBlbnRyaWVzX3NvcnRlZFtpXS5vcmRlciwgZW50cmllc19zb3J0ZWRbaV0uY29udGVudCwgZW50cmllc19zb3J0ZWRbaV0uaGludCwgJ2VkaXQnLCBlbnRyaWVzX3NvcnRlZFtpXS5ydWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gT3BlbiBUZXh0XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXNfc29ydGVkW2ldLnR5cGUgPT0gMSkgY3JlYXRlRW50cnkoMSwgZW50cmllc19zb3J0ZWRbaV0uaWQsIGVudHJpZXNfc29ydGVkW2ldLm9yZGVyLCBlbnRyaWVzX3NvcnRlZFtpXS5jb250ZW50LCAnJywgJ3JldmlzZScpO1xuICAgICAgICAgICAgICAgIC8vIEhpZGRlbiBUZXh0XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXNfc29ydGVkW2ldLnR5cGUgPT0gMikgY3JlYXRlRW50cnkoMiwgZW50cmllc19zb3J0ZWRbaV0uaWQsIGVudHJpZXNfc29ydGVkW2ldLm9yZGVyLCBlbnRyaWVzX3NvcnRlZFtpXS5jb250ZW50LCBlbnRyaWVzX3NvcnRlZFtpXS5oaW50LCAncmV2aXNlJyk7XG4gICAgICAgICAgICAgICAgLy8gUHJvbXB0IFRleHRcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc19zb3J0ZWRbaV0udHlwZSA9PSAzKSBjcmVhdGVFbnRyeSgzLCBlbnRyaWVzX3NvcnRlZFtpXS5pZCwgZW50cmllc19zb3J0ZWRbaV0ub3JkZXIsIGVudHJpZXNfc29ydGVkW2ldLmNvbnRlbnQsIGVudHJpZXNfc29ydGVkW2ldLmhpbnQsICdyZXZpc2UnLCBlbnRyaWVzX3NvcnRlZFtpXS5ydWxlKTtcbiAgICAgICAgICAgICAgICAvLyBPcGVuIENvZGVcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc19zb3J0ZWRbaV0udHlwZSA9PSA0KSBjcmVhdGVFbnRyeSg0LCBlbnRyaWVzX3NvcnRlZFtpXS5pZCwgZW50cmllc19zb3J0ZWRbaV0ub3JkZXIsIGVudHJpZXNfc29ydGVkW2ldLmNvbnRlbnQsICcnLCAncmV2aXNlJyk7XG4gICAgICAgICAgICAgICAgLy8gSGlkZGVuIENvZGVcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllc19zb3J0ZWRbaV0udHlwZSA9PSA1KSBjcmVhdGVFbnRyeSg1LCBlbnRyaWVzX3NvcnRlZFtpXS5pZCwgZW50cmllc19zb3J0ZWRbaV0ub3JkZXIsIGVudHJpZXNfc29ydGVkW2ldLmNvbnRlbnQsIGVudHJpZXNfc29ydGVkW2ldLmhpbnQsICdyZXZpc2UnKTtcbiAgICAgICAgICAgICAgICAvLyBQcm9tcHQgQ29kZVxuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzX3NvcnRlZFtpXS50eXBlID09IDYpIGNyZWF0ZUVudHJ5KDYsIGVudHJpZXNfc29ydGVkW2ldLmlkLCBlbnRyaWVzX3NvcnRlZFtpXS5vcmRlciwgZW50cmllc19zb3J0ZWRbaV0uY29udGVudCwgZW50cmllc19zb3J0ZWRbaV0uaGludCwgJ3JldmlzZScsIGVudHJpZXNfc29ydGVkW2ldLnJ1bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9saXN0LycpO1xuICAgIH0pXG4gICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoJCgnLnNwaW5uZXInKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuc3Bpbm5lcicpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5fZ2V0X2NhcmRfbGlzdCA9IGZ1bmN0aW9uKHRhZ3NfaW5jbHVkZWQsIHRhZ3NfZXhjbHVkZWQsIHRhZ3NfaW5jbHVkZWRfc3RyaWN0LCBkYXRlX2NyZWF0ZV9mcm9tLCBkYXRlX2NyZWF0ZV90bywgZGF0ZV9lZGl0X2Zyb20sIGRhdGVfZWRpdF90bykge1xuICAgIHdpbmRvdy5xdWV1ZSA9IHRydWU7XG5cbiAgICAvLyB3YWl0IHVudGlsIHByZXZpb3VzIHJlcXVlc3QgZmluaXNoZXNcbiAgICBpZiAoIXdpbmRvdy5jYW5fc2F2ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX2dldF9jYXJkX2xpc3QodGFnc19pbmNsdWRlZCwgdGFnc19leGNsdWRlZCwgdGFnc19pbmNsdWRlZF9zdHJpY3QsIGRhdGVfY3JlYXRlX2Zyb20sIGRhdGVfY3JlYXRlX3RvLCBkYXRlX2VkaXRfZnJvbSwgZGF0ZV9lZGl0X3RvKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB3aW5kb3cuY2FuX3NhdmUgPSBmYWxzZTtcblxuICAgIGlmICgkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICBpZiAoJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG5cbiAgICB2YXIgY3NyZnRva2VuID0galF1ZXJ5KFwiW25hbWU9Y3NyZm1pZGRsZXdhcmV0b2tlbl1cIikudmFsKCk7XG5cbiAgICAkKCcuc3Bpbm5lcicpLmFkZENsYXNzKCdsY19zaG93Jyk7XG5cbiAgICBpZiAoZGF0ZV9jcmVhdGVfdG8pIGRhdGVfY3JlYXRlX3RvID0gYWRkQURheShkYXRlX2NyZWF0ZV90byk7XG4gICAgaWYgKGRhdGVfZWRpdF90bykgZGF0ZV9lZGl0X3RvID0gYWRkQURheShkYXRlX2VkaXRfdG8pO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBob3N0ICsgJy9hcGkvY2FyZHMtcmVuZGVyZWQvJyxcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcGFnZTogd2luZG93LnBhZ2UsXG4gICAgICAgICAgICB0YWdzX2luY2x1ZGVkOiB0YWdzX2luY2x1ZGVkLFxuICAgICAgICAgICAgdGFnc19leGNsdWRlZDogdGFnc19leGNsdWRlZCxcbiAgICAgICAgICAgIHRhZ3NfaW5jbHVkZWRfc3RyaWN0OiB0YWdzX2luY2x1ZGVkX3N0cmljdCxcbiAgICAgICAgICAgIGRhdGVfY3JlYXRlX2Zyb206IGRhdGVfY3JlYXRlX2Zyb20sXG4gICAgICAgICAgICBkYXRlX2NyZWF0ZV90bzogZGF0ZV9jcmVhdGVfdG8sXG4gICAgICAgICAgICBkYXRlX2VkaXRfZnJvbTogZGF0ZV9lZGl0X2Zyb20sXG4gICAgICAgICAgICBkYXRlX2VkaXRfdG86IGRhdGVfZWRpdF90byxcbiAgICAgICAgICAgIHNvcnQ6IHdpbmRvdy5zb3J0LFxuICAgICAgICAgICAgbW9kZTogd2luZG93Lm1vZGVcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdYLUNTUkZUb2tlbic6IGNzcmZ0b2tlbixcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHN0YXR1c0NvZGU6IHtcbiAgICAgICAgICAgIDIwNjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJy5sb2FkLW1vcmUtYnRuJykuaGFzQ2xhc3MoJ2ludmlzaWJsZScpKSAkKCcubG9hZC1tb3JlLWJ0bicpLnJlbW92ZUNsYXNzKCdpbnZpc2libGUnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAyMDA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghJCgnLmxvYWQtbW9yZS1idG4nKS5oYXNDbGFzcygnaW52aXNpYmxlJykpICQoJy5sb2FkLW1vcmUtYnRuJykuYWRkQ2xhc3MoJ2ludmlzaWJsZScpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LnJldmlzaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnJldmlzaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucmV2aXNlLXN1Ym1pdC1idG4nKS50ZXh0KCdFbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZXZpc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmICh3aW5kb3cubW9kZSA9PSAnbGlzdCcpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2RhdGUgPSBuZXcgRGF0ZShkYXRhW2ldLmNyZWF0ZV9kYXRlKTtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdF9kYXRlID0gbmV3IERhdGUoZGF0YVtpXS51cGRhdGVfZGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGFncyA9ICc8dWwgY2xhc3M9XCJjYXJkLXRhZ3NcIj4nO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGF0YVtpXS50YWdzLmxlbmd0aDsgaisrKSB0YWdzICs9ICc8bGk+JyArIGRhdGFbaV0udGFnc1tqXS50YWdfbmFtZSArICc8L2xpPic7XG4gICAgICAgICAgICAgICAgdGFncyArPSAnPC91bD4nO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImNhcmRfd3JwXCIgZGF0YS1jYXJkLWlkPVwiJyArIGRhdGFbaV0uaWQgKyAnXCIgZGF0YS1jYXJkLWNyZWF0ZS1kYXRlPVwiJyArIGNyZWF0ZV9kYXRlLmdldFRpbWUoKSArICdcIiAgZGF0YS1jYXJkLWVkaXQtZGF0ZT1cIicgKyBlZGl0X2RhdGUuZ2V0VGltZSgpICsgJ1wiPjxhIGNsYXNzPVwiY2FyZFwiIGhyZWY9XCIvZWRpdC8nICsgZGF0YVtpXS5pZCArICdcIj48aDYgY2xhc3M9XCJjYXJkLXRpdGxlXCI+JyArIGRhdGFbaV0udGl0bGUgKyAnPC9oNj48cCBjbGFzcz1cImNhcmQtY3JlYXRlLWRhdGVcIj5DcmVhdGVkIC0gJyArIGZvcm1hdERhdGUoY3JlYXRlX2RhdGUpICsgJzwvcD48cCBjbGFzcz1cImNhcmQtZWRpdC1kYXRlXCI+TGFzdCBlZGl0ZWQgLSAnICsgZm9ybWF0RGF0ZShlZGl0X2RhdGUpICsgJzwvcD4nICsgdGFncyArICc8L2E+PGRpdiBjbGFzcz1cIm1hbmlwdWxhdGVcIj48ZGl2IGNsYXNzPVwiZGVsZXRlXCI+PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiPjwvaT48L2Rpdj48L2Rpdj48L2Rpdj4nO1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuaW5zZXJ0QWZ0ZXIoJCgnLmxpc3QtY29udGVudHNfd3JwID4gW2NsYXNzKj1cImNhcmRcIl06bGFzdC1jaGlsZCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2luZG93Lm1vZGUgPT0gJ3JldmlzZS1zZXR0aW5ncycpIHtcbiAgICAgICAgICAgICQoJyNsaXN0LXN0YXRzLXRvdGFsJykudGV4dChkYXRhLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudGFnZSBvZiBjYXJkcyBjcmVhdGVkIGJ5IHVzZXJcbiAgICAgICAgICAgIHZhciBjcmVhdGVkX2J5X3lvdSA9IDA7XG4gICAgICAgICAgICB2YXIgY3JlYXRlZF9ieV9vdGhlcnMgPSAwO1xuICAgICAgICAgICAgdmFyIGtub3cgPSAwO1xuICAgICAgICAgICAgdmFyIGRvbnRfa25vdyA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS51c2VyLmlkID09IHdpbmRvdy51c2VyX2lkKSBjcmVhdGVkX2J5X3lvdSsrO1xuICAgICAgICAgICAgICAgIGVsc2UgY3JlYXRlZF9ieV9vdGhlcnMrKztcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldLnNjb3JlLmxlbmd0aCA9PSAwKSBkb250X2tub3crKztcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhW2ldLnNjb3JlWzBdLmlzX3JpZ2h0KSBrbm93Kys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWRhdGFbaV0uc2NvcmVbMF0uaXNfcmlnaHQpIGRvbnRfa25vdysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCgnI2xpc3Qtc3RhdHMtY3JlYXRlZC1ieS15b3UnKS50ZXh0KFN0cmluZyhNYXRoLnJvdW5kKE1hdGgucm91bmQoKCgoY3JlYXRlZF9ieV95b3UgLyBkYXRhLmxlbmd0aCkgKiAxMDApKSAqIDEwMCkgLyAxMCkgLyAxMCkgKyAnJScpO1xuICAgICAgICAgICAgJCgnI2xpc3Qtc3RhdHMtYXJlLXJpZ2h0JykudGV4dChTdHJpbmcoTWF0aC5yb3VuZChNYXRoLnJvdW5kKCgoKGtub3cgLyBkYXRhLmxlbmd0aCkgKiAxMDApKSAqIDEwMCkgLyAxMCkgLyAxMCkgKyAnJScpO1xuXG4gICAgICAgICAgICB2YXIgcmV2aXNpb25fZGF0ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldLnNjb3JlLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXZpc2VfZGF0ZSA9IG5ldyBEYXRlKGRhdGFbaV0uc2NvcmVbMF0ucmV2aXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICByZXZpc2lvbl9kYXRlcy5wdXNoKHJldmlzZV9kYXRlLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmV2aXNpb25fZGF0ZXMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICAgICByZXZpc2lvbl9kYXRlcy5zb3J0KCk7XG4gICAgICAgICAgICAgICAgdmFyIGVhcmxpZXN0ID0gbmV3IERhdGUocmV2aXNpb25fZGF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhciBtb3N0X3JlY2VudCA9IG5ldyBEYXRlKHJldmlzaW9uX2RhdGVzW3JldmlzaW9uX2RhdGVzLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICAgICAgJCgnI2xpc3Qtc3RhdHMtb2xkZXN0LXJldmlzaW9uJykudGV4dChmb3JtYXREYXRlKGVhcmxpZXN0KSk7XG4gICAgICAgICAgICAgICAgJCgnI2xpc3Qtc3RhdHMtcmVjZW50LXJldmlzaW9uJykudGV4dChmb3JtYXREYXRlKG1vc3RfcmVjZW50KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNsaXN0LXN0YXRzLW9sZGVzdC1yZXZpc2lvbicpLnRleHQoJ05vIHJldmlzaW9ucycpO1xuICAgICAgICAgICAgICAgICQoJyNsaXN0LXN0YXRzLXJlY2VudC1yZXZpc2lvbicpLnRleHQoJ05vIHJldmlzaW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tb2RlID09ICdyZXZpc2UtcnVuJykge1xuICAgICAgICAgICAgd2luZG93LnJldmlzaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgJCgnLnRhZ3Mtc2VsZWN0b3InKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgJCgnLmRhdGUtc2VsZWN0b3InKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgJCgnLmxpc3Qtc3RhdHMnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgJCgnLnJldmlzZS1ndXRzJykuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcblxuICAgICAgICAgICAgdmFyIHRhZ2xpbmUgPSAnJztcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVswXS50YWdzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIHRhZ2xpbmUgKz0gJzxzcGFuIGNsYXNzPVwiZ2xfdGFnXCI+JyArIGRhdGFbMF0udGFnc1tpXS50YWdfbmFtZSArICc8L3NwYW4+JztcbiAgICAgICAgICAgICQoJy50YWdzX3dycCcpLmh0bWwodGFnbGluZSk7XG5cbiAgICAgICAgICAgIHZhciBlZGl0X2RhdGUgPSBuZXcgRGF0ZShkYXRhWzBdLnVwZGF0ZV9kYXRlKTtcbiAgICAgICAgICAgICQoJyNjYXJkLXN0YXRzLWNyZWF0ZS1kYXRlJykudGV4dChmb3JtYXREYXRlKGVkaXRfZGF0ZSkpO1xuICAgICAgICAgICAgaWYgKGRhdGFbMF0uaXNfY3JlYXRvcl9oaWRkZW4pICQoJyNjYXJkLXN0YXRzLWNyZWF0b3InKS50ZXh0KCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGVsc2UgJCgnI2NhcmQtc3RhdHMtY3JlYXRvcicpLnRleHQoZGF0YVswXS51c2VyLnVzZXJuYW1lKTtcbiAgICAgICAgICAgICQoJyNjYXJkLXN0YXRzLWNvdW50LXNlZW4nKS50ZXh0KGRhdGFbMF0uY291bnRfc2Vlbik7XG4gICAgICAgICAgICAkKCcjY2FyZC1zdGF0cy1jb3VudC1rbm93JykudGV4dChkYXRhWzBdLmNvdW50X2tub3cpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YVswXS5zY29yZS5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciByZXZpc2VfZGF0ZSA9IG5ldyBEYXRlKGRhdGFbMF0uc2NvcmVbMF0ucmV2aXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICQoJyNjYXJkLXN0YXRzLXJldmlzZS1kYXRlJykudGV4dChmb3JtYXREYXRlKHJldmlzZV9kYXRlKSk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJldmlzaW9uID0gZGF0YVswXS5zY29yZVswXS5pZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI2NhcmQtc3RhdHMtcmV2aXNlLWRhdGUnKS50ZXh0KCdOZXZlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuXG4gICAgICAgICAgICB3aW5kb3cuY2FyZF9pZCA9IGRhdGFbMF0uaWQ7XG4gICAgICAgICAgICBfZ2V0X2NhcmQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KVxuICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgfSlcbiAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICgkKCcuc3Bpbm5lcicpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLl9jcmVhdGVfbmV3X2NhcmQgPSBmdW5jdGlvbihlbnRyeV90eXBlKSB7XG4gICAgd2luZG93LnF1ZXVlID0gdHJ1ZTtcblxuICAgIC8vIHdhaXQgdW50aWwgcHJldmlvdXMgcmVxdWVzdCBmaW5pc2hlc1xuICAgIGlmICghd2luZG93LmNhbl9zYXZlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfY3JlYXRlX25ld19jYXJkKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgd2luZG93LmNhbl9zYXZlID0gZmFsc2U7XG5cbiAgICBpZiAoJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgaWYgKCQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgdmFyIGlzX3ByaXZhdGUgPSBmYWxzZTtcbiAgICBpZiAoJCgnI2NoZWNrYm94LXByaXZhdGUnKS5pcygnOmNoZWNrZWQnKSkgaXNfcHJpdmF0ZSA9IHRydWU7XG4gICAgdmFyIGlzX2NyZWF0b3JfaGlkZGVuID0gZmFsc2U7XG4gICAgaWYgKCQoJyNjaGVja2JveC1oaWRlLWNyZWF0b3InKS5pcygnOmNoZWNrZWQnKSkgaXNfY3JlYXRvcl9oaWRkZW4gPSB0cnVlO1xuXG4gICAgdmFyIGNzcmZ0b2tlbiA9IGpRdWVyeShcIltuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dXCIpLnZhbCgpO1xuXG4gICAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBob3N0ICsgJy9hcGkvY2FyZHMvJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHRpdGxlOiAkKCcuY2FyZC1uYW1lX2lucHV0JykudGV4dCgpLFxuICAgICAgICAgICAgaXNfcHJpdmF0ZTogaXNfcHJpdmF0ZSxcbiAgICAgICAgICAgIGlzX2NyZWF0b3JfaGlkZGVuOiBpc19jcmVhdG9yX2hpZGRlbixcbiAgICAgICAgICAgIHRhZ3M6IHdpbmRvdy50YWdzSW5jbHVkZWRcbiAgICAgICAgfSksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdYLUNTUkZUb2tlbic6IGNzcmZ0b2tlbixcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICB9KVxuICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgd2luZG93LmNhcmRfaWQgPSBkYXRhLmlkO1xuXG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIF9zYXZlX3RhZ3MoKTtcbiAgICAgICAgY3JlYXRlRW50cnkoZW50cnlfdHlwZSwgJycsIHdpbmRvdy5vcmRlcik7XG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KVxuICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgfSlcbiAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICgkKCcuc3Bpbm5lcicpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLl9zYXZlX2NhcmRfbWV0YSA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5xdWV1ZSA9IHRydWU7XG5cbiAgICAvLyB3YWl0IHVudGlsIHByZXZpb3VzIHJlcXVlc3QgZmluaXNoZXNcbiAgICBpZiAoIXdpbmRvdy5jYW5fc2F2ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3NhdmVfY2FyZF9tZXRhKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgd2luZG93LmNhbl9zYXZlID0gZmFsc2U7XG5cbiAgICBpZiAoIXdpbmRvdy5jYXJkX2lkKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG5cbiAgICAgICAgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpXG4gICAgICAgICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgaWYgKCQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgdmFyIGlzX3ByaXZhdGUgPSBmYWxzZTtcbiAgICBpZiAoJCgnI2NoZWNrYm94LXByaXZhdGUnKS5pcygnOmNoZWNrZWQnKSkgaXNfcHJpdmF0ZSA9IHRydWU7XG4gICAgdmFyIGlzX2NyZWF0b3JfaGlkZGVuID0gZmFsc2U7XG4gICAgaWYgKCQoJyNjaGVja2JveC1oaWRlLWNyZWF0b3InKS5pcygnOmNoZWNrZWQnKSkgaXNfY3JlYXRvcl9oaWRkZW4gPSB0cnVlO1xuXG4gICAgdmFyIGNzcmZ0b2tlbiA9IGpRdWVyeShcIltuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dXCIpLnZhbCgpO1xuXG4gICAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiAnaHR0cDovLzAuMC4wLjA6ODAwMC9hcGkvY2FyZHMvJyArIHdpbmRvdy5jYXJkX2lkICsgJy8nLFxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0aXRsZTogJCgnLmNhcmQtbmFtZV9pbnB1dCcpLnRleHQoKSxcbiAgICAgICAgICAgIGlzX3ByaXZhdGU6IGlzX3ByaXZhdGUsXG4gICAgICAgICAgICBpc19jcmVhdG9yX2hpZGRlbjogaXNfY3JlYXRvcl9oaWRkZW4sXG4gICAgICAgICAgICB0YWdzOiB3aW5kb3cudGFnc0luY2x1ZGVkXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBjc3JmdG9rZW4sXG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIF9zYXZlX3RhZ3MoKTtcbiAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KVxuICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCQoJy5zcGlubmVyJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuX2RlbGV0ZV9jYXJkID0gZnVuY3Rpb24oY2FyZF9pZCkge1xuICAgIHdpbmRvdy5xdWV1ZSA9IHRydWU7XG5cbiAgICAvLyB3YWl0IHVudGlsIHByZXZpb3VzIHJlcXVlc3QgZmluaXNoZXNcbiAgICBpZiAoIXdpbmRvdy5jYW5fc2F2ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX2RlbGV0ZV9jYXJkKGNhcmRfaWQpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHdpbmRvdy5jYW5fc2F2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKCFjYXJkX2lkKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG5cbiAgICAgICAgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpXG4gICAgICAgICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgaWYgKCQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgdmFyIGNzcmZ0b2tlbiA9IGpRdWVyeShcIltuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dXCIpLnZhbCgpO1xuXG4gICAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBob3N0ICsgJy9hcGkvY2FyZHMvJyArIGNhcmRfaWQgKyAnLycsXG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdYLUNTUkZUb2tlbic6IGNzcmZ0b2tlbixcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KVxuICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCQoJy5zcGlubmVyJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuX3NhdmVfdGFncyA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5xdWV1ZSA9IHRydWU7XG5cbiAgICAvLyB3YWl0IHVudGlsIHByZXZpb3VzIHJlcXVlc3QgZmluaXNoZXNcbiAgICBpZiAoIXdpbmRvdy5jYW5fc2F2ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3NhdmVfdGFncygpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHdpbmRvdy5jYW5fc2F2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKCQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgIGlmICgkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcblxuICAgIHZhciBjc3JmdG9rZW4gPSBqUXVlcnkoXCJbbmFtZT1jc3JmbWlkZGxld2FyZXRva2VuXVwiKS52YWwoKTtcblxuICAgICQoJy5zcGlubmVyJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcblxuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogaG9zdCArICcvYXBpL3RhZ3MvJyxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNhcmRfaWQ6IHdpbmRvdy5jYXJkX2lkID09IHVuZGVmaW5lZCA/ICcnIDogd2luZG93LmNhcmRfaWQsXG4gICAgICAgICAgICB0YWdzOiB3aW5kb3cudGFnc0luY2x1ZGVkXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBjc3JmdG9rZW4sXG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pXG4gICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KVxuICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCQoJy5zcGlubmVyJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuX3NhdmVfYWxsX2VudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cucXVldWUgPSB0cnVlO1xuXG4gICAgLy8gd2FpdCB1bnRpbCBwcmV2aW91cyByZXF1ZXN0IGZpbmlzaGVzXG4gICAgaWYgKCF3aW5kb3cuY2FuX3NhdmUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9zYXZlX2FsbF9lbnRyaWVzKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgd2luZG93LmNhbl9zYXZlID0gZmFsc2U7XG5cbiAgICBpZiAoJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgaWYgKCQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgdmFyIGNzcmZ0b2tlbiA9IGpRdWVyeShcIltuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dXCIpLnZhbCgpO1xuXG4gICAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgJCgnLmVudHJ5JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgcnVsZSA9IDE7XG4gICAgICAgIGlmICghZWxlbWVudC5pcygnW2RhdGEtZW50cnktcnVsZV0nKSkgcnVsZSA9IDE7XG4gICAgICAgIGVsc2UgcnVsZSA9IE51bWJlcihlbGVtZW50LmF0dHIoJ2RhdGEtZW50cnktcnVsZScpKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgY3JlYXRlIGEgbmV3IGVudHJ5IG9yIHVwZGF0aW5nIGFuIGV4aXN0aW5nIG9uZVxuICAgICAgICBpZiAoZWxlbWVudC5hdHRyKCdkYXRhLWVudHJ5LWlkJykgPT0gJycpXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogaG9zdCArICcvYXBpL2VudHJpZXMvJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGVsZW1lbnQuZmluZCgnLmVudHJ5LXRleHRhcmVhJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIGNhcmQ6IHdpbmRvdy5jYXJkX2lkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIoZWxlbWVudC5hdHRyKCdkYXRhLWVudHJ5LXR5cGUnKSksXG4gICAgICAgICAgICAgICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBOdW1iZXIoZWxlbWVudC5hdHRyKCdkYXRhLWVudHJ5LW9yZGVyJykpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZnRva2VuLFxuICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cignZGF0YS1lbnRyeS1pZCcsIGRhdGEuaWQpO1xuXG4gICAgICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoJCgnLnNwaW5uZXInKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuc3Bpbm5lcicpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS9lbnRyaWVzLycgKyBlbGVtZW50LmF0dHIoJ2RhdGEtZW50cnktaWQnKSArICcvJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogZWxlbWVudC5maW5kKCcuZW50cnktdGV4dGFyZWEnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgY2FyZDogd2luZG93LmNhcmRfaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcihlbGVtZW50LmF0dHIoJ2RhdGEtZW50cnktdHlwZScpKSxcbiAgICAgICAgICAgICAgICAgICAgaGludDogZWxlbWVudC5maW5kKCcuaGludCcpLmZpbmQoJ2lucHV0JykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyOiBOdW1iZXIoZWxlbWVudC5hdHRyKCdkYXRhLWVudHJ5LW9yZGVyJykpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZnRva2VuLFxuICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCQoJy5zcGlubmVyJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5fc2F2ZV9lbnRyeSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICB3aW5kb3cucXVldWUgPSB0cnVlO1xuXG4gICAgLy8gd2FpdCB1bnRpbCBwcmV2aW91cyByZXF1ZXN0IGZpbmlzaGVzXG4gICAgaWYgKCF3aW5kb3cuY2FuX3NhdmUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9zYXZlX2VudHJ5KGVsZW1lbnQpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHdpbmRvdy5jYW5fc2F2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKCQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgIGlmICgkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcblxuICAgIHZhciBjc3JmdG9rZW4gPSBqUXVlcnkoXCJbbmFtZT1jc3JmbWlkZGxld2FyZXRva2VuXVwiKS52YWwoKTtcblxuICAgIHZhciBydWxlID0gMTtcbiAgICBpZiAoIWVsZW1lbnQuaXMoJ1tkYXRhLWVudHJ5LXJ1bGVdJykpIHJ1bGUgPSAxO1xuICAgIGVsc2UgcnVsZSA9IE51bWJlcihlbGVtZW50LmF0dHIoJ2RhdGEtZW50cnktcnVsZScpKTtcblxuICAgICQoJy5zcGlubmVyJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcblxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGNyZWF0ZSBhIG5ldyBlbnRyeSBvciB1cGRhdGluZyBhbiBleGlzdGluZyBvbmVcbiAgICBpZiAoJChlbGVtZW50KS5hdHRyKCdkYXRhLWVudHJ5LWlkJykgPT0gJycpXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS9lbnRyaWVzLycsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiAkKGVsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbCgpLFxuICAgICAgICAgICAgICAgIGNhcmQ6IHdpbmRvdy5jYXJkX2lkLFxuICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcigkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScpKSxcbiAgICAgICAgICAgICAgICBydWxlOiBydWxlLFxuICAgICAgICAgICAgICAgIG9yZGVyOiBOdW1iZXIoJChlbGVtZW50KS5hdHRyKCdkYXRhLWVudHJ5LW9yZGVyJykpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZnRva2VuLFxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSlcbiAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5hdHRyKCdkYXRhLWVudHJ5LWlkJywgZGF0YS5pZCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoISQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuICAgICAgICB9KVxuICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jYW5fc2F2ZSAmJiAhd2luZG93LnF1ZXVlKSBpZiAoJCgnLnNwaW5uZXInKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuc3Bpbm5lcicpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgIH0pO1xuICAgIGVsc2VcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogaG9zdCArICcvYXBpL2VudHJpZXMvJyArICQoZWxlbWVudCkuYXR0cignZGF0YS1lbnRyeS1pZCcpICsgJy8nLFxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiAkKGVsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbCgpLFxuICAgICAgICAgICAgICAgIGNhcmQ6IHdpbmRvdy5jYXJkX2lkLFxuICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlcigkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScpKSxcbiAgICAgICAgICAgICAgICBoaW50OiAkKGVsZW1lbnQpLmZpbmQoJy5oaW50JykuZmluZCgnaW5wdXQnKS52YWwoKSxcbiAgICAgICAgICAgICAgICBydWxlOiBydWxlLFxuICAgICAgICAgICAgICAgIG9yZGVyOiBOdW1iZXIoJChlbGVtZW50KS5hdHRyKCdkYXRhLWVudHJ5LW9yZGVyJykpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZnRva2VuLFxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSlcbiAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICgkKCcuc3Bpbm5lcicpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5fZGVsZXRlX2VudHJ5ID0gZnVuY3Rpb24oZWxlbWVudF9pZCkge1xuICAgIHdpbmRvdy5xdWV1ZSA9IHRydWU7XG5cbiAgICAvLyB3YWl0IHVudGlsIHByZXZpb3VzIHJlcXVlc3QgZmluaXNoZXNcbiAgICBpZiAoIXdpbmRvdy5jYW5fc2F2ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX2RlbGV0ZV9lbnRyeShlbGVtZW50X2lkKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB3aW5kb3cuY2FuX3NhdmUgPSBmYWxzZTtcblxuICAgIGlmICgkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICBpZiAoJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG5cbiAgICB2YXIgY3NyZnRva2VuID0galF1ZXJ5KFwiW25hbWU9Y3NyZm1pZGRsZXdhcmV0b2tlbl1cIikudmFsKCk7XG5cbiAgICAkKCcuc3Bpbm5lcicpLmFkZENsYXNzKCdsY19zaG93Jyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS9lbnRyaWVzLycgKyBlbGVtZW50X2lkICsgJy8nLFxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBjc3JmdG9rZW4sXG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9XG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KVxuICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgfSlcbiAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICgkKCcuc3Bpbm5lcicpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLl9jbGVhbl91cF90YWcgPSBmdW5jdGlvbih0YWdfbmFtZSkge1xuICAgIHdpbmRvdy5xdWV1ZSA9IHRydWU7XG5cbiAgICAvLyB3YWl0IHVudGlsIHByZXZpb3VzIHJlcXVlc3QgZmluaXNoZXNcbiAgICBpZiAoIXdpbmRvdy5jYW5fc2F2ZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX2NsZWFuX3VwX3RhZyh0YWdfbmFtZSk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgd2luZG93LmNhbl9zYXZlID0gZmFsc2U7XG5cbiAgICBpZiAoJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgaWYgKCQoJy5mYWlsJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmZhaWwnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgdmFyIGNzcmZ0b2tlbiA9IGpRdWVyeShcIltuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dXCIpLnZhbCgpO1xuXG4gICAgJCgnLnNwaW5uZXInKS5hZGRDbGFzcygnbGNfc2hvdycpO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBob3N0ICsgJy9hcGkvdGFncy8nLFxuICAgICAgICBtZXRob2Q6ICdHRVQnXG4gICAgfSlcbiAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIHZhciB0YWdfaWQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAodGFnX25hbWUgPT0gZGF0YVtpXS50YWdfbmFtZSkgdGFnX2lkID0gZGF0YVtpXS5pZDtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDogaG9zdCArICcvYXBpL3RhZ3MvJyArIHRhZ19pZCArICcvJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZnRva2VuLFxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCQoJy5zcGlubmVyJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgICAgICB9KTtcbiAgICB9KVxuICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICB3aW5kb3cucXVldWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgfSlcbiAgICAuYWx3YXlzKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICgkKCcuc3Bpbm5lcicpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLl9zYXZlX3Njb3JlID0gZnVuY3Rpb24ocHJvYz0ncnVubmluZycpIHtcbiAgICB3aW5kb3cucXVldWUgPSB0cnVlO1xuXG4gICAgLy8gd2FpdCB1bnRpbCBwcmV2aW91cyByZXF1ZXN0IGZpbmlzaGVzXG4gICAgaWYgKCF3aW5kb3cuY2FuX3NhdmUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9zYXZlX3Njb3JlKHByb2MpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHdpbmRvdy5jYW5fc2F2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKCQoJy5kb25lJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLmRvbmUnKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgIGlmICgkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcblxuICAgIHZhciBjc3JmdG9rZW4gPSBqUXVlcnkoXCJbbmFtZT1jc3JmbWlkZGxld2FyZXRva2VuXVwiKS52YWwoKTtcblxuICAgICQoJy5zcGlubmVyJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcblxuICAgIHZhciBpc19yaWdodCA9IHRydWU7XG4gICAgJCgnW2RhdGEtY2hlY2tdJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cignZGF0YS1jaGVjaycpID09ICcwJykgaXNfcmlnaHQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBpZiAoJCgnW2RhdGEtY2hlY2tdJykubGVuZ3RoIDwgMSkgaXNfcmlnaHQgPSBmYWxzZTtcblxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGNyZWF0ZSBhIG5ldyBlbnRyeSBvciB1cGRhdGluZyBhbiBleGlzdGluZyBvbmVcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5yZXZpc2lvbiA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS9zY29yZXMvJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGNhcmQ6IHdpbmRvdy5jYXJkX2lkLFxuICAgICAgICAgICAgICAgIGlzX3JpZ2h0OiBpc19yaWdodFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZnRva2VuLFxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfSlcbiAgICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmRvbmUnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZG9uZScpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mYWlsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdpbmRvdy5xdWV1ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICghJCgnLmZhaWwnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKCcuZmFpbCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNhbl9zYXZlICYmICF3aW5kb3cucXVldWUpIGlmICgkKCcuc3Bpbm5lcicpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5zcGlubmVyJykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgICAgIGlmIChwcm9jID09ICdsYXN0Jykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvcmV2aXNlLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICBlbHNlXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS9zY29yZXMvJyArIHdpbmRvdy5yZXZpc2lvbiArICcvJyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgY2FyZDogd2luZG93LmNhcmRfaWQsXG4gICAgICAgICAgICAgICAgaXNfcmlnaHQ6IGlzX3JpZ2h0XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnWC1DU1JGVG9rZW4nOiBjc3JmdG9rZW4sXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICB9KVxuICAgICAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZG9uZScpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5kb25lJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCEkKCcuZmFpbCcpLmhhc0NsYXNzKCdsY19zaG93JykpICQoJy5mYWlsJykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FuX3NhdmUgJiYgIXdpbmRvdy5xdWV1ZSkgaWYgKCQoJy5zcGlubmVyJykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCgnLnNwaW5uZXInKS5yZW1vdmVDbGFzcygnbGNfc2hvdycpO1xuICAgICAgICAgICAgaWYgKHByb2MgPT0gJ2xhc3QnKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9yZXZpc2UvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xufTtcbiIsInZhciBhdXRvc2l6ZSA9IHJlcXVpcmUoJ2F1dG9zaXplJyk7XG5cbmltcG9ydCB7IF9zYXZlX2VudHJ5IH0gZnJvbSAnLi9hcGknO1xuaW1wb3J0IHsgY3JlYXRlRW50cnkgfSBmcm9tICcuL2F1eCc7XG5cbm1vZHVsZS5leHBvcnRzLmNyZWF0ZUVudHJ5ID0gZnVuY3Rpb24odHlwZSwgaWQ9JycsIG9yZGVyPScnLCBjb250ZW50PW51bGwsIGhpbnQ9bnVsbCwgbW9kZT0nZWRpdCcsIHJ1bGU9JzInKSB7XG4gICAgaWYgKHR5cGUgPT0gMSkge1xuICAgICAgICBpZiAobW9kZSA9PSAnZWRpdCcpXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9ICc8ZGl2IGNsYXNzPVwiZW50cnkgb3Blbi10ZXh0XCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgdGV4dCBoZXJlLi4uXCI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGNsYXNzPVwiaGludFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJoaW50XCIgcGxhY2Vob2xkZXI9XCJUaGlzIGlzIGEgcGxhY2UgZm9yIHNvbWUgaGludHMuLi5cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZW50cnktbWVudVwiPjxkaXYgY2xhc3M9XCJoaW50LWJ0blwiPjxpIGNsYXNzPVwiZmEgZmEtbGlmZS1ib3V5XCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ0eXBlLWVudHJ5IGlzX3RleHRcIj48aSBjbGFzcz1cInRleHQgZmEgZmEtcGVuY2lsXCI+PC9pPjxpIGNsYXNzPVwiY29kZSBmYSBmYS1jb2RlXCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJoaWRkZW4tZW50cnkgaXNfdmlzaWJsZVwiPjxpIGNsYXNzPVwidmlzaWJsZSBmYSBmYS1leWVcIj48L2k+PGkgY2xhc3M9XCJpbnZpc2libGUgZmEgZmEtZXllLXNsYXNoXCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJkZWxldGVcIj48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCI+PC9pPjwvZGl2PjwvZGl2PjwvZGl2Pic7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJzxkaXYgY2xhc3M9XCJlbnRyeSBvcGVuLXRleHRcIiBkYXRhLWVudHJ5LW9yZGVyPVwiJyArIG9yZGVyICsgJ1wiIGRhdGEtZW50cnktdHlwZT1cIicgKyB0eXBlICsgJ1wiIGRhdGEtZW50cnktaWQ9XCInICsgaWQgKyAnXCI+PGRpdiBjbGFzcz1cInRleHRhcmVhIGdsX2lucHV0XCI+PHRleHRhcmVhIGNsYXNzPVwiZW50cnktdGV4dGFyZWFcIiByb3dzPVwiM1wiIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciB0ZXh0IGhlcmUuLi5cIj48L3RleHRhcmVhPjwvZGl2PjxkaXYgY2xhc3M9XCJlbnRyeS1tZW51XCI+PC9kaXY+PC9kaXY+JztcblxuICAgICAgICB3aW5kb3cub3JkZXIrKztcblxuICAgICAgICB2YXIgbmV3RWxlbWVudCA9ICQoZWxlbWVudCkuaW5zZXJ0QWZ0ZXIoJCgnLmVudHJpZXNfd3JwID4gW2NsYXNzKj1cImVudHJ5XCJdOmxhc3QtY2hpbGQnKSk7XG4gICAgICAgIGlmIChjb250ZW50KSAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbChjb250ZW50KTtcblxuICAgICAgICBhdXRvc2l6ZSgkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpKTtcbiAgICAgICAgYXV0b3NpemUudXBkYXRlKCQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykpO1xuXG4gICAgICAgICQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykuY3NzKCdoZWlnaHQnLCAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLm91dGVySGVpZ2h0KCkgKyAxMCk7XG5cbiAgICAgICAgX3NhdmVfZW50cnkobmV3RWxlbWVudCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09IDIpIHtcbiAgICAgICAgaWYgKG1vZGUgPT0gJ2VkaXQnKVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImVudHJ5IGhpZGRlbi10ZXh0XCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgdGV4dCBoZXJlLi4uXCI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGNsYXNzPVwiaGludFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJoaW50XCIgcGxhY2Vob2xkZXI9XCJUaGlzIGlzIGEgcGxhY2UgZm9yIHNvbWUgaGludHMuLi5cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZW50cnktbWVudVwiPjxkaXYgY2xhc3M9XCJoaW50LWJ0blwiPjxpIGNsYXNzPVwiZmEgZmEtbGlmZS1ib3V5XCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ0eXBlLWVudHJ5IGlzX3RleHRcIj48aSBjbGFzcz1cInRleHQgZmEgZmEtcGVuY2lsXCI+PC9pPjxpIGNsYXNzPVwiY29kZSBmYSBmYS1jb2RlXCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJoaWRkZW4tZW50cnkgaXNfaW52aXNpYmxlXCI+PGkgY2xhc3M9XCJ2aXNpYmxlIGZhIGZhLWV5ZVwiPjwvaT48aSBjbGFzcz1cImludmlzaWJsZSBmYSBmYS1leWUtc2xhc2hcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cImRlbGV0ZVwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+PC9kaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImVudHJ5IGhpZGRlbi10ZXh0XCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgdGV4dCBoZXJlLi4uXCI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGNsYXNzPVwiaGludFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJoaW50XCIgcGxhY2Vob2xkZXI9XCJUaGlzIGlzIGEgcGxhY2UgZm9yIHNvbWUgaGludHMuLi5cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZW50cnktbWVudVwiPjxkaXYgY2xhc3M9XCJzaG93LWhpZGRlblwiPjxpIGNsYXNzPVwiZmEgZmEtdW5kb1wiPjwvaT48L2Rpdj48L2Rpdj48L2Rpdj4nO1xuXG4gICAgICAgIHdpbmRvdy5vcmRlcisrO1xuXG4gICAgICAgIHZhciBuZXdFbGVtZW50ID0gJChlbGVtZW50KS5pbnNlcnRBZnRlcigkKCcuZW50cmllc193cnAgPiBbY2xhc3MqPVwiZW50cnlcIl06bGFzdC1jaGlsZCcpKTtcbiAgICAgICAgaWYgKGNvbnRlbnQpICQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykudmFsKGNvbnRlbnQpO1xuICAgICAgICBpZiAoaGludCkge1xuICAgICAgICAgICAgJChuZXdFbGVtZW50KS5hZGRDbGFzcygnb3Blbi1oaW50Jyk7XG4gICAgICAgICAgICAkKG5ld0VsZW1lbnQpLmZpbmQoJy5oaW50JykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgICAgICQobmV3RWxlbWVudCkuZmluZCgnW25hbWU9XCJoaW50XCJdJykudmFsKGhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXV0b3NpemUoJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKSk7XG4gICAgICAgIGF1dG9zaXplLnVwZGF0ZSgkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpKTtcblxuICAgICAgICAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLmNzcygnaGVpZ2h0JywgJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKS5vdXRlckhlaWdodCgpICsgMTApO1xuXG4gICAgICAgIF9zYXZlX2VudHJ5KG5ld0VsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PSAzKSB7XG4gICAgICAgIGlmIChtb2RlID09ICdlZGl0JylcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJzxkaXYgY2xhc3M9XCJlbnRyeSBwcm9tcHQtdGV4dFwiIGRhdGEtZW50cnktb3JkZXI9XCInICsgb3JkZXIgKyAnXCIgZGF0YS1lbnRyeS10eXBlPVwiJyArIHR5cGUgKyAnXCIgZGF0YS1lbnRyeS1pZD1cIicgKyBpZCArICdcIiBkYXRhLWVudHJ5LXJ1bGU9XCInICsgcnVsZSArICdcIj48ZGl2IGNsYXNzPVwidGV4dGFyZWEgZ2xfaW5wdXRcIj48dGV4dGFyZWEgY2xhc3M9XCJlbnRyeS10ZXh0YXJlYVwiIHJvd3M9XCIzXCIgcGxhY2Vob2xkZXI9XCJFbnRlciB0aGUgYW5zd2VyIGhlcmUuLi5cIj48L3RleHRhcmVhPjwvZGl2PjxkaXYgY2xhc3M9XCJoaW50XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImhpbnRcIiBwbGFjZWhvbGRlcj1cIlRoaXMgaXMgYSBwbGFjZSBmb3Igc29tZSBoaW50cy4uLlwiPjwvZGl2PjxkaXYgY2xhc3M9XCJlbnRyeS1tZW51XCI+PGRpdiBjbGFzcz1cInJ1bGUtYnRuXCI+PGkgY2xhc3M9XCJmYSBmYS1iaXJ0aGRheS1jYWtlXCI+PC9pPjxpIGNsYXNzPVwiZmEgZmEtcHV6emxlLXBpZWNlXCI+PC9pPjxpIGNsYXNzPVwiZmEgZmEtZ2F2ZWxcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cImhpbnQtYnRuXCI+PGkgY2xhc3M9XCJmYSBmYS1saWZlLWJvdXlcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cInR5cGUtZW50cnkgaXNfdGV4dFwiPjxpIGNsYXNzPVwidGV4dCBmYSBmYS1wZW5jaWxcIj48L2k+PGkgY2xhc3M9XCJjb2RlIGZhIGZhLWNvZGVcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cImRlbGV0ZVwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+PC9kaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImVudHJ5IHByb21wdC10ZXh0XCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiIGRhdGEtZW50cnktcnVsZT1cIicgKyBydWxlICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHRoZSBhbnN3ZXIgaGVyZS4uLlwiPjwvdGV4dGFyZWE+PHRleHRhcmVhIGNsYXNzPVwicHJvbXB0LXRleHRhcmVhIHNob3duXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHRoZSBhbnN3ZXIgaGVyZS4uLlwiPjwvdGV4dGFyZWE+PC9kaXY+PGRpdiBjbGFzcz1cImhpbnRcIj48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaGludFwiIHBsYWNlaG9sZGVyPVwiVGhpcyBpcyBhIHBsYWNlIGZvciBzb21lIGhpbnRzLi4uXCI+PC9kaXY+PGRpdiBjbGFzcz1cImVudHJ5LW1lbnVcIj48ZGl2IGNsYXNzPVwicnVsZS1idG5cIj48aSBjbGFzcz1cImZhIGZhLWJpcnRoZGF5LWNha2VcIj48L2k+PGkgY2xhc3M9XCJmYSBmYS1wdXp6bGUtcGllY2VcIj48L2k+PGkgY2xhc3M9XCJmYSBmYS1nYXZlbFwiPjwvaT48L2Rpdj48ZGl2IGNsYXNzPVwic2hvdy1oaWRkZW5cIj48aSBjbGFzcz1cImZhIGZhLXVuZG9cIj48L2k+PC9kaXY+PC9kaXY+PC9kaXY+JztcblxuICAgICAgICB3aW5kb3cub3JkZXIrKztcblxuICAgICAgICB2YXIgbmV3RWxlbWVudCA9ICQoZWxlbWVudCkuaW5zZXJ0QWZ0ZXIoJCgnLmVudHJpZXNfd3JwID4gW2NsYXNzKj1cImVudHJ5XCJdOmxhc3QtY2hpbGQnKSk7XG4gICAgICAgIGlmIChjb250ZW50KSAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbChjb250ZW50KTtcbiAgICAgICAgaWYgKGhpbnQpIHtcbiAgICAgICAgICAgICQobmV3RWxlbWVudCkuYWRkQ2xhc3MoJ29wZW4taGludCcpO1xuICAgICAgICAgICAgJChuZXdFbGVtZW50KS5maW5kKCcuaGludCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgICAgICAkKG5ld0VsZW1lbnQpLmZpbmQoJ1tuYW1lPVwiaGludFwiXScpLnZhbChoaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1dG9zaXplKCQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykpO1xuICAgICAgICBhdXRvc2l6ZS51cGRhdGUoJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKSk7XG4gICAgICAgIGlmIChtb2RlID09ICdyZXZpc2UnKSB7XG4gICAgICAgICAgICBhdXRvc2l6ZSgkKG5ld0VsZW1lbnQpLmZpbmQoJy5wcm9tcHQtdGV4dGFyZWEnKSk7XG4gICAgICAgICAgICBhdXRvc2l6ZS51cGRhdGUoJChuZXdFbGVtZW50KS5maW5kKCcucHJvbXB0LXRleHRhcmVhJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKS5jc3MoJ2hlaWdodCcsICQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykub3V0ZXJIZWlnaHQoKSArIDEwKTtcblxuICAgICAgICBfc2F2ZV9lbnRyeShuZXdFbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gNCkge1xuICAgICAgICBpZiAobW9kZSA9PSAnZWRpdCcpXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9ICc8ZGl2IGNsYXNzPVwiZW50cnkgb3Blbi1jb2RlXCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgY29kZSBoZXJlLi4uXCI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGNsYXNzPVwiaGludFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJoaW50XCIgcGxhY2Vob2xkZXI9XCJUaGlzIGlzIGEgcGxhY2UgZm9yIHNvbWUgaGludHMuLi5cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZW50cnktbWVudVwiPjxkaXYgY2xhc3M9XCJoaW50LWJ0blwiPjxpIGNsYXNzPVwiZmEgZmEtbGlmZS1ib3V5XCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ0eXBlLWVudHJ5IGlzX2NvZGVcIj48aSBjbGFzcz1cInRleHQgZmEgZmEtcGVuY2lsXCI+PC9pPjxpIGNsYXNzPVwiY29kZSBmYSBmYS1jb2RlXCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJoaWRkZW4tZW50cnkgaXNfdmlzaWJsZVwiPjxpIGNsYXNzPVwidmlzaWJsZSBmYSBmYS1leWVcIj48L2k+PGkgY2xhc3M9XCJpbnZpc2libGUgZmEgZmEtZXllLXNsYXNoXCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJkZWxldGVcIj48aSBjbGFzcz1cImZhIGZhLXRyYXNoXCI+PC9pPjwvZGl2PjwvZGl2PjwvZGl2Pic7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJzxkaXYgY2xhc3M9XCJlbnRyeSBvcGVuLWNvZGVcIiBkYXRhLWVudHJ5LW9yZGVyPVwiJyArIG9yZGVyICsgJ1wiIGRhdGEtZW50cnktdHlwZT1cIicgKyB0eXBlICsgJ1wiIGRhdGEtZW50cnktaWQ9XCInICsgaWQgKyAnXCI+PGRpdiBjbGFzcz1cInRleHRhcmVhIGdsX2lucHV0XCI+PHRleHRhcmVhIGNsYXNzPVwiZW50cnktdGV4dGFyZWFcIiByb3dzPVwiM1wiIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBjb2RlIGhlcmUuLi5cIj48L3RleHRhcmVhPjwvZGl2PjxkaXYgY2xhc3M9XCJlbnRyeS1tZW51XCI+PC9kaXY+PC9kaXY+JztcblxuICAgICAgICB3aW5kb3cub3JkZXIrKztcblxuICAgICAgICB2YXIgbmV3RWxlbWVudCA9ICQoZWxlbWVudCkuaW5zZXJ0QWZ0ZXIoJCgnLmVudHJpZXNfd3JwID4gW2NsYXNzKj1cImVudHJ5XCJdOmxhc3QtY2hpbGQnKSk7XG4gICAgICAgIGlmIChjb250ZW50KSAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbChjb250ZW50KTtcblxuICAgICAgICBhdXRvc2l6ZSgkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpKTtcbiAgICAgICAgYXV0b3NpemUudXBkYXRlKCQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykpO1xuXG4gICAgICAgICQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykuY3NzKCdoZWlnaHQnLCAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLm91dGVySGVpZ2h0KCkgKyAxMCk7XG5cbiAgICAgICAgX3NhdmVfZW50cnkobmV3RWxlbWVudCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09IDUpIHtcbiAgICAgICAgaWYgKG1vZGUgPT0gJ2VkaXQnKVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImVudHJ5IGhpZGRlbi1jb2RlXCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgY29kZSBoZXJlLi4uXCI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGNsYXNzPVwiaGludFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJoaW50XCIgcGxhY2Vob2xkZXI9XCJUaGlzIGlzIGEgcGxhY2UgZm9yIHNvbWUgaGludHMuLi5cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZW50cnktbWVudVwiPjxkaXYgY2xhc3M9XCJoaW50LWJ0blwiPjxpIGNsYXNzPVwiZmEgZmEtbGlmZS1ib3V5XCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJ0eXBlLWVudHJ5IGlzX2NvZGVcIj48aSBjbGFzcz1cInRleHQgZmEgZmEtcGVuY2lsXCI+PC9pPjxpIGNsYXNzPVwiY29kZSBmYSBmYS1jb2RlXCI+PC9pPjwvZGl2PjxkaXYgY2xhc3M9XCJoaWRkZW4tZW50cnkgaXNfaW52aXNpYmxlXCI+PGkgY2xhc3M9XCJ2aXNpYmxlIGZhIGZhLWV5ZVwiPjwvaT48aSBjbGFzcz1cImludmlzaWJsZSBmYSBmYS1leWUtc2xhc2hcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cImRlbGV0ZVwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+PC9kaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImVudHJ5IGhpZGRlbi1jb2RlXCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgY29kZSBoZXJlLi4uXCI+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IGNsYXNzPVwiaGludFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJoaW50XCIgcGxhY2Vob2xkZXI9XCJUaGlzIGlzIGEgcGxhY2UgZm9yIHNvbWUgaGludHMuLi5cIj48L2Rpdj48ZGl2IGNsYXNzPVwiZW50cnktbWVudVwiPjxkaXYgY2xhc3M9XCJzaG93LWhpZGRlblwiPjxpIGNsYXNzPVwiZmEgZmEtdW5kb1wiPjwvaT48L2Rpdj48L2Rpdj48L2Rpdj4nO1xuXG4gICAgICAgIHdpbmRvdy5vcmRlcisrO1xuXG4gICAgICAgIHZhciBuZXdFbGVtZW50ID0gJChlbGVtZW50KS5pbnNlcnRBZnRlcigkKCcuZW50cmllc193cnAgPiBbY2xhc3MqPVwiZW50cnlcIl06bGFzdC1jaGlsZCcpKTtcbiAgICAgICAgaWYgKGNvbnRlbnQpICQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykudmFsKGNvbnRlbnQpO1xuICAgICAgICBpZiAoaGludCkge1xuICAgICAgICAgICAgJChuZXdFbGVtZW50KS5hZGRDbGFzcygnb3Blbi1oaW50Jyk7XG4gICAgICAgICAgICAkKG5ld0VsZW1lbnQpLmZpbmQoJy5oaW50JykuYWRkQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgICAgICQobmV3RWxlbWVudCkuZmluZCgnW25hbWU9XCJoaW50XCJdJykudmFsKGhpbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXV0b3NpemUoJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKSk7XG4gICAgICAgIGF1dG9zaXplLnVwZGF0ZSgkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpKTtcblxuICAgICAgICAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLmNzcygnaGVpZ2h0JywgJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKS5vdXRlckhlaWdodCgpICsgMTApO1xuXG4gICAgICAgIF9zYXZlX2VudHJ5KG5ld0VsZW1lbnQpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PSA2KSB7XG4gICAgICAgIGlmIChtb2RlID09ICdlZGl0JylcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJzxkaXYgY2xhc3M9XCJlbnRyeSBwcm9tcHQtY29kZVwiIGRhdGEtZW50cnktb3JkZXI9XCInICsgb3JkZXIgKyAnXCIgZGF0YS1lbnRyeS10eXBlPVwiJyArIHR5cGUgKyAnXCIgZGF0YS1lbnRyeS1pZD1cIicgKyBpZCArICdcIiBkYXRhLWVudHJ5LXJ1bGU9XCInICsgcnVsZSArICdcIj48ZGl2IGNsYXNzPVwidGV4dGFyZWEgZ2xfaW5wdXRcIj48dGV4dGFyZWEgY2xhc3M9XCJlbnRyeS10ZXh0YXJlYVwiIHJvd3M9XCIzXCIgcGxhY2Vob2xkZXI9XCJFbnRlciB0aGUgYW5zd2VyIGhlcmUuLi5cIj48L3RleHRhcmVhPjwvZGl2PjxkaXYgY2xhc3M9XCJoaW50XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImhpbnRcIiBwbGFjZWhvbGRlcj1cIlRoaXMgaXMgYSBwbGFjZSBmb3Igc29tZSBoaW50cy4uLlwiPjwvZGl2PjxkaXYgY2xhc3M9XCJlbnRyeS1tZW51XCI+PGRpdiBjbGFzcz1cInJ1bGUtYnRuXCI+PGkgY2xhc3M9XCJmYSBmYS1iaXJ0aGRheS1jYWtlXCI+PC9pPjxpIGNsYXNzPVwiZmEgZmEtcHV6emxlLXBpZWNlXCI+PC9pPjxpIGNsYXNzPVwiZmEgZmEtZ2F2ZWxcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cImhpbnQtYnRuXCI+PGkgY2xhc3M9XCJmYSBmYS1saWZlLWJvdXlcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cInR5cGUtZW50cnkgaXNfY29kZVwiPjxpIGNsYXNzPVwidGV4dCBmYSBmYS1wZW5jaWxcIj48L2k+PGkgY2xhc3M9XCJjb2RlIGZhIGZhLWNvZGVcIj48L2k+PC9kaXY+PGRpdiBjbGFzcz1cImRlbGV0ZVwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+PC9kaXY+PC9kaXY+PC9kaXY+JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cImVudHJ5IHByb21wdC1jb2RlXCIgZGF0YS1lbnRyeS1vcmRlcj1cIicgKyBvcmRlciArICdcIiBkYXRhLWVudHJ5LXR5cGU9XCInICsgdHlwZSArICdcIiBkYXRhLWVudHJ5LWlkPVwiJyArIGlkICsgJ1wiIGRhdGEtZW50cnktcnVsZT1cIicgKyBydWxlICsgJ1wiPjxkaXYgY2xhc3M9XCJ0ZXh0YXJlYSBnbF9pbnB1dFwiPjx0ZXh0YXJlYSBjbGFzcz1cImVudHJ5LXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHRoZSBhbnN3ZXIgaGVyZS4uLlwiPjwvdGV4dGFyZWE+PHRleHRhcmVhIGNsYXNzPVwicHJvbXB0LXRleHRhcmVhIHNob3duXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHRoZSBhbnN3ZXIgaGVyZS4uLlwiPjwvdGV4dGFyZWE+PC9kaXY+PGRpdiBjbGFzcz1cImhpbnRcIj48aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaGludFwiIHBsYWNlaG9sZGVyPVwiVGhpcyBpcyBhIHBsYWNlIGZvciBzb21lIGhpbnRzLi4uXCI+PC9kaXY+PGRpdiBjbGFzcz1cImVudHJ5LW1lbnVcIj48ZGl2IGNsYXNzPVwicnVsZS1idG5cIj48aSBjbGFzcz1cImZhIGZhLWJpcnRoZGF5LWNha2VcIj48L2k+PGkgY2xhc3M9XCJmYSBmYS1wdXp6bGUtcGllY2VcIj48L2k+PGkgY2xhc3M9XCJmYSBmYS1nYXZlbFwiPjwvaT48L2Rpdj48ZGl2IGNsYXNzPVwic2hvdy1oaWRkZW5cIj48aSBjbGFzcz1cImZhIGZhLXVuZG9cIj48L2k+PC9kaXY+PC9kaXY+PC9kaXY+JztcblxuICAgICAgICB3aW5kb3cub3JkZXIrKztcblxuICAgICAgICB2YXIgbmV3RWxlbWVudCA9ICQoZWxlbWVudCkuaW5zZXJ0QWZ0ZXIoJCgnLmVudHJpZXNfd3JwID4gW2NsYXNzKj1cImVudHJ5XCJdOmxhc3QtY2hpbGQnKSk7XG4gICAgICAgIGlmIChjb250ZW50KSAkKG5ld0VsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbChjb250ZW50KTtcbiAgICAgICAgaWYgKGhpbnQpIHtcbiAgICAgICAgICAgICQobmV3RWxlbWVudCkuYWRkQ2xhc3MoJ29wZW4taGludCcpO1xuICAgICAgICAgICAgJChuZXdFbGVtZW50KS5maW5kKCcuaGludCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgICAgICAkKG5ld0VsZW1lbnQpLmZpbmQoJ1tuYW1lPVwiaGludFwiXScpLnZhbChoaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1dG9zaXplKCQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykpO1xuICAgICAgICBhdXRvc2l6ZS51cGRhdGUoJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKSk7XG4gICAgICAgIGlmIChtb2RlID09ICdyZXZpc2UnKSB7XG4gICAgICAgICAgICBhdXRvc2l6ZSgkKG5ld0VsZW1lbnQpLmZpbmQoJy5wcm9tcHQtdGV4dGFyZWEnKSk7XG4gICAgICAgICAgICBhdXRvc2l6ZS51cGRhdGUoJChuZXdFbGVtZW50KS5maW5kKCcucHJvbXB0LXRleHRhcmVhJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgJChuZXdFbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKS5jc3MoJ2hlaWdodCcsICQobmV3RWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykub3V0ZXJIZWlnaHQoKSArIDEwKTtcblxuICAgICAgICBfc2F2ZV9lbnRyeShuZXdFbGVtZW50KTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5yZWNvdW50RW50cnlPcmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvcmRlciA9IDE7XG4gICAgJCgnLmVudHJ5JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWVudHJ5LW9yZGVyJywgb3JkZXIpO1xuICAgICAgICBvcmRlcisrO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuZGVsZXRlTG9hZGVkQ2FyZHMgPSBmdW5jdGlvbigpIHtcbiAgICAkKCcuY2FyZF93cnAnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMuZGVsZXRlTG9hZGVkRW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgICQoJy5lbnRyeScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5jaGVja0Fuc3dlciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBpZiAoJChlbGVtZW50KS5hdHRyKCdkYXRhLWVudHJ5LXJ1bGUnKSA9PSAnMScpIHtcbiAgICAgICAgdmFyIHRyaWFsID0gJChlbGVtZW50KS5maW5kKCcucHJvbXB0LXRleHRhcmVhJykudmFsKCk7XG4gICAgICAgIHZhciBhbnN3ZXIgPSAkKGVsZW1lbnQpLmZpbmQoJy5lbnRyeS10ZXh0YXJlYScpLnZhbCgpO1xuXG4gICAgICAgIHZhciB0cmlhbF9maXggPSB0cmlhbC5yZXBsYWNlKC9cXC58LC9nLCAnJyk7XG4gICAgICAgIHZhciBhbnN3ZXJfZml4ID0gYW5zd2VyLnJlcGxhY2UoL1xcLnwsL2csICcnKTtcbiAgICAgICAgdHJpYWxfZml4ID0gdHJpYWxfZml4LnNwbGl0KCcgJyk7XG4gICAgICAgIGFuc3dlcl9maXggPSBhbnN3ZXJfZml4LnNwbGl0KCcgJyk7XG5cbiAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5yZW1vdmVDbGFzcygnZ2xfaW5wdXQtcmVkJyk7XG4gICAgICAgICQoZWxlbWVudCkuZmluZCgnLmdsX2lucHV0JykucmVtb3ZlQ2xhc3MoJ2dsX2lucHV0LXJlZCcpO1xuXG4gICAgICAgIHZhciBjaGVjayA9IDA7XG4gICAgICAgIGlmICh0cmlhbF9maXgubGVuZ3RoID49IGFuc3dlcl9maXgubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWFsX2ZpeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghYW5zd2VyX2ZpeC5pbmNsdWRlcyh0cmlhbF9maXhbaV0pKSBjaGVjaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbnN3ZXJfZml4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmlhbF9maXguaW5jbHVkZXMoYW5zd2VyX2ZpeFtpXSkpIGNoZWNrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hlY2tfcGVyY2VudCA9IE1hdGguY2VpbChhbnN3ZXJfZml4Lmxlbmd0aCAtICgwLjYgKiBhbnN3ZXJfZml4Lmxlbmd0aCkpO1xuXG4gICAgICAgIGlmIChjaGVjayA+PSBjaGVja19wZXJjZW50KSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLmFkZENsYXNzKCdnbF9pbnB1dC1yZWQnKTtcbiAgICAgICAgICAgICQoZWxlbWVudCkuZmluZCgnLmdsX2lucHV0JykuYXR0cignZGF0YS1jaGVjaycsICcwJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLmFkZENsYXNzKCdnbF9pbnB1dC1ncmVlbicpO1xuICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLmF0dHIoJ2RhdGEtY2hlY2snLCAnMScpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGlmICgkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtZW50cnktcnVsZScpID09ICcyJykge1xuICAgICAgICB2YXIgdHJpYWwgPSAkKGVsZW1lbnQpLmZpbmQoJy5wcm9tcHQtdGV4dGFyZWEnKS52YWwoKTtcbiAgICAgICAgdmFyIGFuc3dlciA9ICQoZWxlbWVudCkuZmluZCgnLmVudHJ5LXRleHRhcmVhJykudmFsKCk7XG5cbiAgICAgICAgdmFyIHRyaWFsX2ZpeCA9IHRyaWFsLnJlcGxhY2UoL1xcLnwsL2csICcnKTtcbiAgICAgICAgdmFyIGFuc3dlcl9maXggPSBhbnN3ZXIucmVwbGFjZSgvXFwufCwvZywgJycpO1xuICAgICAgICB0cmlhbF9maXggPSB0cmlhbF9maXguc3BsaXQoJyAnKTtcbiAgICAgICAgYW5zd2VyX2ZpeCA9IGFuc3dlcl9maXguc3BsaXQoJyAnKTtcblxuICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLnJlbW92ZUNsYXNzKCdnbF9pbnB1dC1yZWQnKTtcbiAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5yZW1vdmVDbGFzcygnZ2xfaW5wdXQtcmVkJyk7XG5cbiAgICAgICAgdmFyIGNoZWNrID0gMDtcbiAgICAgICAgaWYgKHRyaWFsX2ZpeC5sZW5ndGggPj0gYW5zd2VyX2ZpeC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYWxfZml4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhbnN3ZXJfZml4LmluY2x1ZGVzKHRyaWFsX2ZpeFtpXSkpIGNoZWNrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuc3dlcl9maXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRyaWFsX2ZpeC5pbmNsdWRlcyhhbnN3ZXJfZml4W2ldKSkgY2hlY2srKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaGVja19wZXJjZW50ID0gTWF0aC5jZWlsKGFuc3dlcl9maXgubGVuZ3RoIC0gKDAuOSAqIGFuc3dlcl9maXgubGVuZ3RoKSk7XG5cbiAgICAgICAgaWYgKGNoZWNrID49IGNoZWNrX3BlcmNlbnQpIHtcbiAgICAgICAgICAgICQoZWxlbWVudCkuZmluZCgnLmdsX2lucHV0JykuYWRkQ2xhc3MoJ2dsX2lucHV0LXJlZCcpO1xuICAgICAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5hdHRyKCdkYXRhLWNoZWNrJywgJzAnKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoZWxlbWVudCkuZmluZCgnLmdsX2lucHV0JykuYWRkQ2xhc3MoJ2dsX2lucHV0LWdyZWVuJyk7XG4gICAgICAgICQoZWxlbWVudCkuZmluZCgnLmdsX2lucHV0JykuYXR0cignZGF0YS1jaGVjaycsICcxJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgaWYgKCQoZWxlbWVudCkuYXR0cignZGF0YS1lbnRyeS1ydWxlJykgPT0gJzMnKSB7XG4gICAgICAgIHZhciB0cmlhbCA9ICQoZWxlbWVudCkuZmluZCgnLnByb21wdC10ZXh0YXJlYScpLnZhbCgpO1xuICAgICAgICB2YXIgYW5zd2VyID0gJChlbGVtZW50KS5maW5kKCcuZW50cnktdGV4dGFyZWEnKS52YWwoKTtcblxuICAgICAgICB2YXIgdHJpYWxfZml4ID0gdHJpYWwucmVwbGFjZSgvXFwufCwvZywgJycpO1xuICAgICAgICB2YXIgYW5zd2VyX2ZpeCA9IGFuc3dlci5yZXBsYWNlKC9cXC58LC9nLCAnJyk7XG4gICAgICAgIHRyaWFsX2ZpeCA9IHRyaWFsX2ZpeC5zcGxpdCgnICcpO1xuICAgICAgICBhbnN3ZXJfZml4ID0gYW5zd2VyX2ZpeC5zcGxpdCgnICcpO1xuXG4gICAgICAgICQoZWxlbWVudCkuZmluZCgnLmdsX2lucHV0JykucmVtb3ZlQ2xhc3MoJ2dsX2lucHV0LXJlZCcpO1xuICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLnJlbW92ZUNsYXNzKCdnbF9pbnB1dC1yZWQnKTtcblxuICAgICAgICBpZiAodHJpYWxfZml4Lmxlbmd0aCAhPSBhbnN3ZXJfZml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5hZGRDbGFzcygnZ2xfaW5wdXQtcmVkJyk7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLmF0dHIoJ2RhdGEtY2hlY2snLCAnMCcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoZWNrID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbF9maXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghYW5zd2VyX2ZpeC5pbmNsdWRlcyh0cmlhbF9maXhbaV0pKSBjaGVjaysrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoZWNrID4gMCkge1xuICAgICAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5hZGRDbGFzcygnZ2xfaW5wdXQtcmVkJyk7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJy5nbF9pbnB1dCcpLmF0dHIoJ2RhdGEtY2hlY2snLCAnMCcpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5hZGRDbGFzcygnZ2xfaW5wdXQtZ3JlZW4nKTtcbiAgICAgICAgJChlbGVtZW50KS5maW5kKCcuZ2xfaW5wdXQnKS5hdHRyKCdkYXRhLWNoZWNrJywgJzEnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gIHZhciBtb250aE5hbWVzID0gW1xuICAgIFwiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIixcbiAgICBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIixcbiAgICBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIixcbiAgICBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIlxuICBdO1xuXG4gIHZhciBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgdmFyIG1vbnRoSW5kZXggPSBkYXRlLmdldE1vbnRoKCk7XG4gIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gIHJldHVybiBkYXkgKyAnICcgKyBtb250aE5hbWVzW21vbnRoSW5kZXhdICsgJyAnICsgeWVhcjtcbn1cblxubW9kdWxlLmV4cG9ydHMuYWRkQURheSA9IGZ1bmN0aW9uKGRhdGVfdG8pIHtcbiAgICB2YXIgZGF0ZV9vbGQgPSBuZXcgRGF0ZShkYXRlX3RvKTtcbiAgICB2YXIgeWVhciA9IGRhdGVfb2xkLmdldEZ1bGxZZWFyKCk7XG4gICAgdmFyIG1vbnRoID0gZGF0ZV9vbGQuZ2V0TW9udGgoKTtcbiAgICB2YXIgZGF5ID0gZGF0ZV9vbGQuZ2V0RGF0ZSgpO1xuICAgIGlmIChtb250aCA9PSAwKSB7XG4gICAgICAgIGlmIChkYXkgPT0gMzEpIHtcbiAgICAgICAgICAgIG1vbnRoKys7XG4gICAgICAgICAgICBkYXkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vbnRoID09IDEpIHtcbiAgICAgICAgaWYgKGRheSA9PSAyOCkge1xuICAgICAgICAgICAgbW9udGgrKztcbiAgICAgICAgICAgIGRheSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9udGggPT0gMikge1xuICAgICAgICBpZiAoZGF5ID09IDMxKSB7XG4gICAgICAgICAgICBtb250aCsrO1xuICAgICAgICAgICAgZGF5ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRheSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtb250aCA9PSAzKSB7XG4gICAgICAgIGlmIChkYXkgPT0gMzApIHtcbiAgICAgICAgICAgIG1vbnRoKys7XG4gICAgICAgICAgICBkYXkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vbnRoID09IDQpIHtcbiAgICAgICAgaWYgKGRheSA9PSAzMSkge1xuICAgICAgICAgICAgbW9udGgrKztcbiAgICAgICAgICAgIGRheSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9udGggPT0gNSkge1xuICAgICAgICBpZiAoZGF5ID09IDMwKSB7XG4gICAgICAgICAgICBtb250aCsrO1xuICAgICAgICAgICAgZGF5ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRheSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtb250aCA9PSA2KSB7XG4gICAgICAgIGlmIChkYXkgPT0gMzEpIHtcbiAgICAgICAgICAgIG1vbnRoKys7XG4gICAgICAgICAgICBkYXkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vbnRoID09IDcpIHtcbiAgICAgICAgaWYgKGRheSA9PSAzMSkge1xuICAgICAgICAgICAgbW9udGgrKztcbiAgICAgICAgICAgIGRheSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9udGggPT0gOCkge1xuICAgICAgICBpZiAoZGF5ID09IDMwKSB7XG4gICAgICAgICAgICBtb250aCsrO1xuICAgICAgICAgICAgZGF5ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRheSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtb250aCA9PSA5KSB7XG4gICAgICAgIGlmIChkYXkgPT0gMzEpIHtcbiAgICAgICAgICAgIG1vbnRoKys7XG4gICAgICAgICAgICBkYXkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vbnRoID09IDEwKSB7XG4gICAgICAgIGlmIChkYXkgPT0gMzApIHtcbiAgICAgICAgICAgIG1vbnRoKys7XG4gICAgICAgICAgICBkYXkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1vbnRoID09IDExKSB7XG4gICAgICAgIGlmIChkYXkgPT0gMzEpIHtcbiAgICAgICAgICAgIG1vbnRoKys7XG4gICAgICAgICAgICBkYXkgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSk7XG59O1xuIiwidmFyIGF1dG9zaXplID0gcmVxdWlyZSgnYXV0b3NpemUnKTtcbnZhciBlYXN5QXV0b2NvbXBsZXRlID0gcmVxdWlyZSgnZWFzeS1hdXRvY29tcGxldGUnKTtcbnZhciBQaWthZGF5ID0gcmVxdWlyZSgncGlrYWRheScpO1xuXG5pbXBvcnQgeyByZWNvdW50RW50cnlPcmRlciwgY3JlYXRlRW50cnksIGRlbGV0ZUxvYWRlZENhcmRzLCBjaGVja0Fuc3dlciwgZGVsZXRlTG9hZGVkRW50cmllcyB9IGZyb20gJy4vYXV4JztcbmltcG9ydCB7IF9nZXRfY2FyZCwgX2dldF9jYXJkX2xpc3QsIF9jcmVhdGVfbmV3X2NhcmQsIF9zYXZlX2NhcmRfbWV0YSwgX2RlbGV0ZV9jYXJkLCBfc2F2ZV90YWdzLCBfY2xlYW5fdXBfdGFnLCBfc2F2ZV9hbGxfZW50cmllcywgX3NhdmVfZW50cnksIF9kZWxldGVfZW50cnksIF9zYXZlX3Njb3JlIH0gZnJvbSAnLi9hcGknO1xuXG52YXIgaG9zdCA9ICdodHRwOi8vMC4wLjAuMDo4MDAwJztcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgd2luZG93LmNhbl9zYXZlID0gZmFsc2U7XG4gICAgd2luZG93LnF1ZXVlID0gZmFsc2U7XG5cbiAgICB3aW5kb3cudGFnc0luY2x1ZGVkID0gW107XG4gICAgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCA9IFtdO1xuICAgIHdpbmRvdy50YWdzRXhjbHVkZWQgPSBbXTtcbiAgICB3aW5kb3cub3JkZXIgPSAxO1xuXG4gICAgLypcbiAgICAgKiBTUEVDSUZJQyBTQ1JJUFRTIEZPUiAvZWRpdC9cbiAgICAgKi9cbiAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdlZGl0JykpIHtcbiAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcblxuICAgICAgICB3aW5kb3cuY2FyZF9pZCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKCcvZWRpdC8nLCAnJyk7XG4gICAgICAgIHdpbmRvdy5jYXJkX2lkID0gd2luZG93LmNhcmRfaWQucmVwbGFjZSgnLycsICcnKTtcbiAgICAgICAgX2dldF9jYXJkKCk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBTUEVDSUZJQyBTQ1JJUFRTIEZPUiAvbmV3LyBhbmQvb3IgL2VkaXQvXG4gICAgICovXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnbmV3JykgfHwgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCdlZGl0JykpIHtcbiAgICAgICAgJChcIiNzb3J0YWJsZVwiKS5zb3J0YWJsZSh7XG4gICAgICAgICAgICByZXZlcnQ6IHRydWUsXG4gICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlY291bnRFbnRyeU9yZGVyKCk7XG4gICAgICAgICAgICAgICAgX3NhdmVfYWxsX2VudHJpZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ21vdXNlZG93bicsICcuZW50cnknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdjdXJzb3InLCAnbW92ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2V1cCcsICcuZW50cnknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdjdXJzb3InLCAnZGVmYXVsdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmVudHJ5IC50ZXh0YXJlYScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5maW5kKCd0ZXh0YXJlYScpLmZvY3VzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCcnKTtcbiAgICAgICAgJCgnI2NoZWNrYm94LXByaXZhdGUnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAkKCcjY2hlY2tib3gtaGlkZS1jcmVhdG9yJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcblxuICAgICAgICAkKCcuY2FyZC1uYW1lX2lucHV0Jykub24oJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FyZF9pZCkgX3NhdmVfY2FyZF9tZXRhKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNjaGVja2JveC1wcml2YXRlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNhcmRfaWQpIF9zYXZlX2NhcmRfbWV0YSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjY2hlY2tib3gtaGlkZS1jcmVhdG9yJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNhcmRfaWQpIF9zYXZlX2NhcmRfbWV0YSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZ2xfdGFnLWluY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0YWdfbmFtZSA9ICQodGhpcykuaHRtbCgpO1xuICAgICAgICAgICAgd2luZG93LnRhZ3NJbmNsdWRlZC5zcGxpY2Uod2luZG93LnRhZ3NJbmNsdWRlZC5pbmRleE9mKCQodGhpcykuaHRtbCgpKSwgMSk7XG5cbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuY2FyZF9pZCkgX3NhdmVfY2FyZF9tZXRhKCk7XG4gICAgICAgICAgICBfY2xlYW5fdXBfdGFnKHRhZ19uYW1lKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS90YWdzLz9mb3JtYXQ9anNvbicsXG4gICAgICAgICAgICBnZXRWYWx1ZTogXCJ0YWdfbmFtZVwiLFxuICAgICAgICAgICAgbGlzdDoge1xuICAgICAgICAgICAgICAgIG1hdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2hvb3NlRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnRhZ3NJbmNsdWRlZC5pbmRleE9mKCQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4gY2xhc3M9XCJnbF90YWctaW5jbHVkZVwiPicgKyAkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgpICsgJzwvc3Bhbj4nKS5pbnNlcnRCZWZvcmUoJCgnI3RhZ3Mtc2VsZWN0b3InKS5jbG9zZXN0KCcuZWFzeS1hdXRvY29tcGxldGUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50YWdzSW5jbHVkZWQucHVzaCgkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhZ3Mtc2VsZWN0b3InKS52YWwoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NhdmVfdGFncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNhbl9zYXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhlbWU6IFwic3F1YXJlXCJcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBWYXJpb3VzIGhhbmRsZXJzIGZvciB0YWdzLXNlbGVjdG9yXG4gICAgICAgICQoJyN0YWdzLXNlbGVjdG9yJykub24oJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW50ZXJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy50YWdzSW5jbHVkZWQuaW5kZXhPZigkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgpKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4gY2xhc3M9XCJnbF90YWctaW5jbHVkZVwiPicgKyAkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgpICsgJzwvc3Bhbj4nKS5pbnNlcnRCZWZvcmUoJCgnI3RhZ3Mtc2VsZWN0b3InKS5jbG9zZXN0KCcuZWFzeS1hdXRvY29tcGxldGUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnRhZ3NJbmNsdWRlZC5wdXNoKCQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwKTtcblxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2FuX3NhdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfc2F2ZV90YWdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJhY2tzcGFjZVxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gOCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFnX25hbWUgPSAkKCcjdGFncy1zZWxlY3RvcicpLnBhcmVudCgpLnByZXYoKS5odG1sKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWdzLXNlbGVjdG9yJykucGFyZW50KCkucHJldigpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy50YWdzSW5jbHVkZWQucG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jYXJkX2lkKSBfc2F2ZV9jYXJkX21ldGEoKTtcbiAgICAgICAgICAgICAgICAgICAgX2NsZWFuX3VwX3RhZyh0YWdfbmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFNQRUNJRklDIFNDUklQVFMgRk9SIC9saXN0L1xuICAgICAqL1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoJ2xpc3QnKSkge1xuICAgICAgICB3aW5kb3cubW9kZSA9ICdsaXN0JztcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFNQRUNJRklDIFNDUklQVFMgRk9SIC9yZXZpc2UvXG4gICAgICovXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygncmV2aXNlJykpIHtcbiAgICAgICAgd2luZG93Lm1vZGUgPSAncmV2aXNlLXNldHRpbmdzJztcblxuICAgICAgICAkKCcucmV2aXNlLWdvLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93Lm1vZGUgPSAncmV2aXNlLXJ1bic7XG4gICAgICAgICAgICBfZ2V0X2NhcmRfbGlzdCh3aW5kb3cudGFnc0luY2x1ZGVkLCB3aW5kb3cudGFnc0V4Y2x1ZGVkLCB3aW5kb3cudGFnc0luY2x1ZGVkU3RyaWN0LCAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtdG8nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtdG8nKS52YWwoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5yZXZpc2Utc3VibWl0LWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykudGV4dCgpID09ICdFbmQnKSB7XG4gICAgICAgICAgICAgICAgX3NhdmVfc2NvcmUoJ2xhc3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3NhdmVfc2NvcmUoKTtcbiAgICAgICAgICAgIGRlbGV0ZUxvYWRlZEVudHJpZXMoKTtcbiAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgICAgIHdpbmRvdy5wYWdlKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdibHVyJywgJy5wcm9tcHQtdGV4dGFyZWEnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNoZWNrQW5zd2VyKCQodGhpcykucGFyZW50KCkucGFyZW50KCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNob3ctaGlkZGVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5wcm9tcHQtdGV4dGFyZWEnKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuZW50cnktdGV4dGFyZWEnKS5jc3MoJ2Rpc3BsYXknLCAnaW5pdGlhbCcpO1xuICAgICAgICAgICAgYXV0b3NpemUoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuZW50cnktdGV4dGFyZWEnKSk7XG4gICAgICAgICAgICBhdXRvc2l6ZS51cGRhdGUoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuZW50cnktdGV4dGFyZWEnKSk7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5nbF9pbnB1dCcpLmFkZENsYXNzKCdnbF9pbnB1dC1yZWQnKTtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmdsX2lucHV0JykuYXR0cignZGF0YS1jaGVjaycsICcwJyk7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5lbnRyeS1tZW51JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBTUEVDSUZJQyBTQ1JJUFRTIEZPUiAvbGlzdC8gQU5EL09SIC9yZXZpc2UvXG4gICAgICovXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygnbGlzdCcpIHx8IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygncmV2aXNlJykpIHtcbiAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcblxuICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgIHdpbmRvdy5zb3J0ID0gJ2VkaXRfZGF0ZV9kZXNjJztcbiAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuXG4gICAgICAgICQoJy5sb2FkLW1vcmUtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cucGFnZSsrO1xuICAgICAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtZnJvbScpLnZhbCgnJyk7XG4gICAgICAgICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgnJyk7XG4gICAgICAgICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgnJyk7XG4gICAgICAgICQoJyNkYXRlcGlja2VyLWVkaXQtdG8nKS52YWwoJycpO1xuXG4gICAgICAgIHZhciBwaWNrZXJfY3JlYXRlX2Zyb20gPSBuZXcgUGlrYWRheSh7IGZpZWxkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZXBpY2tlci1jcmVhdGUtZnJvbScpIH0pO1xuICAgICAgICB2YXIgcGlja2VyX2NyZWF0ZV90byA9IG5ldyBQaWthZGF5KHsgZmllbGQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlcGlja2VyLWNyZWF0ZS10bycpIH0pO1xuICAgICAgICB2YXIgcGlja2VyX2VkaXRfZnJvbSA9IG5ldyBQaWthZGF5KHsgZmllbGQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlcGlja2VyLWVkaXQtZnJvbScpIH0pO1xuICAgICAgICB2YXIgcGlja2VyX2VkaXRfdG8gPSBuZXcgUGlrYWRheSh7IGZpZWxkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZXBpY2tlci1lZGl0LXRvJykgfSk7XG5cbiAgICAgICAgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuICAgICAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtdG8nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuICAgICAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuICAgICAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LnBhZ2UgPSAxO1xuICAgICAgICAgICAgZGVsZXRlTG9hZGVkQ2FyZHMoKTtcbiAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICB1cmw6IGhvc3QgKyAnL2FwaS90YWdzLz9mb3JtYXQ9anNvbicsXG4gICAgICAgICAgICBnZXRWYWx1ZTogXCJ0YWdfbmFtZVwiLFxuICAgICAgICAgICAgbGlzdDoge1xuICAgICAgICAgICAgICAgIG1hdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2hvb3NlRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnRhZ3NJbmNsdWRlZC5pbmRleE9mKCQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4gY2xhc3M9XCJnbF90YWctaW5jbHVkZVwiPicgKyAkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgpICsgJzwvc3Bhbj4nKS5pbnNlcnRCZWZvcmUoJCgnI3RhZ3Mtc2VsZWN0b3InKS5jbG9zZXN0KCcuZWFzeS1hdXRvY29tcGxldGUnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50YWdzSW5jbHVkZWQucHVzaCgkKCcjdGFncy1zZWxlY3RvcicpLnZhbCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhZ3Mtc2VsZWN0b3InKS52YWwoJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIFx0ICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGVtZTogXCJzcXVhcmVcIlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFZhcmlvdXMgaGFuZGxlcnMgZm9yIHRhZ3Mtc2VsZWN0b3JcbiAgICAgICAgJCgnI3RhZ3Mtc2VsZWN0b3InKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBlbnRlclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnRhZ3NJbmNsdWRlZC5pbmRleE9mKCQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAkKCc8c3BhbiBjbGFzcz1cImdsX3RhZy1pbmNsdWRlXCI+JyArICQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCkgKyAnPC9zcGFuPicpLmluc2VydEJlZm9yZSgkKCcjdGFncy1zZWxlY3RvcicpLmNsb3Nlc3QoJy5lYXN5LWF1dG9jb21wbGV0ZScpKTtcblxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cudGFnc0luY2x1ZGVkLnB1c2goJCgnI3RhZ3Mtc2VsZWN0b3InKS52YWwoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0YWdzLXNlbGVjdG9yJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMTApO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTG9hZGVkQ2FyZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICBfZ2V0X2NhcmRfbGlzdCh3aW5kb3cudGFnc0luY2x1ZGVkLCB3aW5kb3cudGFnc0V4Y2x1ZGVkLCB3aW5kb3cudGFnc0luY2x1ZGVkU3RyaWN0LCAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtdG8nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtdG8nKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYmFja3NwYWNlXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWdzLXNlbGVjdG9yJykucGFyZW50KCkucHJldigpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy50YWdzSW5jbHVkZWQucG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuXG4gICAgICAgICAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5nbF90YWctaW5jbHVkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LnRhZ3NJbmNsdWRlZC5zcGxpY2Uod2luZG93LnRhZ3NJbmNsdWRlZC5pbmRleE9mKCQodGhpcykuaHRtbCgpKSwgMSk7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdnbF90YWctaW5jbHVkZScpO1xuXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdnbF90YWctaW5jbHVkZS1zdHJpY3QnKTtcbiAgICAgICAgICAgIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QucHVzaCgkKHRoaXMpLnRleHQoKSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5wYWdlID0gMTtcbiAgICAgICAgICAgIGRlbGV0ZUxvYWRlZENhcmRzKCk7XG5cbiAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmdsX3RhZy1pbmNsdWRlLXN0cmljdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdC5zcGxpY2Uod2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdC5pbmRleE9mKCQodGhpcykuaHRtbCgpKSwgMSk7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdnbF90YWctaW5jbHVkZS1zdHJpY3QnKTtcblxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZ2xfdGFnLWV4Y2x1ZGUnKTtcbiAgICAgICAgICAgIHdpbmRvdy50YWdzRXhjbHVkZWQucHVzaCgkKHRoaXMpLnRleHQoKSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5wYWdlID0gMTtcbiAgICAgICAgICAgIGRlbGV0ZUxvYWRlZENhcmRzKCk7XG5cbiAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmdsX3RhZy1leGNsdWRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB3aW5kb3cudGFnc0V4Y2x1ZGVkLnNwbGljZSh3aW5kb3cudGFnc0V4Y2x1ZGVkLmluZGV4T2YoJCh0aGlzKS5odG1sKCkpLCAxKTtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5wYWdlID0gMTtcbiAgICAgICAgICAgIGRlbGV0ZUxvYWRlZENhcmRzKCk7XG5cbiAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbGV0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX2RlbGV0ZV9jYXJkKCQodGhpcykuY2xvc2VzdCgnLmNhcmRfd3JwJykuYXR0cignZGF0YS1jYXJkLWlkJykpO1xuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuY2FyZF93cnAnKS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLnNvcnQtY3JlYXRlLW5ldy10by1vbGQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAkKCcuc29ydC1jcmVhdGUtbmV3LXRvLW9sZCcpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcuc29ydC1jcmVhdGUtb2xkLXRvLW5ldycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcuc29ydC1lZGl0LW5ldy10by1vbGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLnNvcnQtZWRpdC1vbGQtdG8tbmV3JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgd2luZG93LnBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zb3J0ID0gJ2NyZWF0ZV9kYXRlX2Rlc2MnO1xuXG4gICAgICAgICAgICAgICAgZGVsZXRlTG9hZGVkQ2FyZHMoKTtcbiAgICAgICAgICAgICAgICBfZ2V0X2NhcmRfbGlzdCh3aW5kb3cudGFnc0luY2x1ZGVkLCB3aW5kb3cudGFnc0V4Y2x1ZGVkLCB3aW5kb3cudGFnc0luY2x1ZGVkU3RyaWN0LCAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1jcmVhdGUtdG8nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtdG8nKS52YWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcuc29ydC1jcmVhdGUtb2xkLXRvLW5ldycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWNyZWF0ZS1uZXctdG8tb2xkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWNyZWF0ZS1vbGQtdG8tbmV3JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWVkaXQtbmV3LXRvLW9sZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcuc29ydC1lZGl0LW9sZC10by1uZXcnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgd2luZG93LnNvcnQgPSAnY3JlYXRlX2RhdGVfYXNjJztcblxuICAgICAgICAgICAgICAgIGRlbGV0ZUxvYWRlZENhcmRzKCk7XG4gICAgICAgICAgICAgICAgX2dldF9jYXJkX2xpc3Qod2luZG93LnRhZ3NJbmNsdWRlZCwgd2luZG93LnRhZ3NFeGNsdWRlZCwgd2luZG93LnRhZ3NJbmNsdWRlZFN0cmljdCwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItY3JlYXRlLXRvJykudmFsKCksICQoJyNkYXRlcGlja2VyLWVkaXQtZnJvbScpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LXRvJykudmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgJCgnLnNvcnQtZWRpdC1uZXctdG8tb2xkJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgJCgnLnNvcnQtY3JlYXRlLW5ldy10by1vbGQnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLnNvcnQtY3JlYXRlLW9sZC10by1uZXcnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCgnLnNvcnQtZWRpdC1uZXctdG8tb2xkJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWVkaXQtb2xkLXRvLW5ldycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIHdpbmRvdy5wYWdlID0gMTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc29ydCA9ICdlZGl0X2RhdGVfZGVzYyc7XG5cbiAgICAgICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuICAgICAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICQoJy5zb3J0LWVkaXQtb2xkLXRvLW5ldycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWNyZWF0ZS1uZXctdG8tb2xkJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWNyZWF0ZS1vbGQtdG8tbmV3JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICQoJy5zb3J0LWVkaXQtbmV3LXRvLW9sZCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcuc29ydC1lZGl0LW9sZC10by1uZXcnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cucGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgd2luZG93LnNvcnQgPSAnZWRpdF9kYXRlX2FzYyc7XG5cbiAgICAgICAgICAgICAgICBkZWxldGVMb2FkZWRDYXJkcygpO1xuICAgICAgICAgICAgICAgIF9nZXRfY2FyZF9saXN0KHdpbmRvdy50YWdzSW5jbHVkZWQsIHdpbmRvdy50YWdzRXhjbHVkZWQsIHdpbmRvdy50YWdzSW5jbHVkZWRTdHJpY3QsICQoJyNkYXRlcGlja2VyLWNyZWF0ZS1mcm9tJykudmFsKCksICQoJyNkYXRlcGlja2VyLWNyZWF0ZS10bycpLnZhbCgpLCAkKCcjZGF0ZXBpY2tlci1lZGl0LWZyb20nKS52YWwoKSwgJCgnI2RhdGVwaWNrZXItZWRpdC10bycpLnZhbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJCgnI3RhZ3Mtc2VsZWN0b3InKS5lYXN5QXV0b2NvbXBsZXRlKG9wdGlvbnMpO1xufSk7XG5cbi8qXG4gKiBDT01NT04gU0NSSVBUU1xuICovXG4vLyBDcmVhdGUgYSBuZXcgZW50cnkgb24gYnRuIGNsaWNrIChPcGVuIFRleHQgdHlwZSAxKVxuJCgnLm5ldy1lbnRyeS1wcm9tcHQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXdpbmRvdy5jYXJkX2lkKSB7XG4gICAgICAgIHdpbmRvdy5jYW5fc2F2ZSA9IHRydWU7XG4gICAgICAgIF9jcmVhdGVfbmV3X2NhcmQoMyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlRW50cnkoMywgJycsIHdpbmRvdy5vcmRlcik7XG4gICAgfVxufSk7XG5cbi8vIENyZWF0ZSBhIG5ldyBlbnRyeSBvbiBidG4gY2xpY2sgKEhpZGRlbiBUZXh0IHR5cGUgMilcbiQoJy5uZXctZW50cnktdGV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGlmICghd2luZG93LmNhcmRfaWQpIHtcbiAgICAgICAgd2luZG93LmNhbl9zYXZlID0gdHJ1ZTtcbiAgICAgICAgX2NyZWF0ZV9uZXdfY2FyZCgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjcmVhdGVFbnRyeSgxLCAnJywgd2luZG93Lm9yZGVyKTtcbiAgICB9XG59KTtcblxuLy8gSGFuZGxlciBvbiBEZWxldGUgYnRuIG9uIGVhY2ggZW50cnlcbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZW50cnktbWVudSAuZGVsZXRlJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsZW1lbnRfaWQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktaWQnKTtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgIHdpbmRvdy5vcmRlci0tO1xuICAgIHJlY291bnRFbnRyeU9yZGVyKCk7XG4gICAgX2RlbGV0ZV9lbnRyeShlbGVtZW50X2lkKTtcbiAgICBfc2F2ZV9hbGxfZW50cmllcygpO1xufSk7XG5cbi8vIEhhbmRsZSBlbnRyaWVzIHRleHRhcmVhIGNoYW5nZXNcbiQoZG9jdW1lbnQpLm9uKCdibHVyJywgJy5lbnRyeS10ZXh0YXJlYScsIGZ1bmN0aW9uKCkge1xuICAgIF9zYXZlX2VudHJ5KCQodGhpcykucGFyZW50KCkucGFyZW50KCkpO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZW50cnktbWVudSAuaGlkZGVuLWVudHJ5JywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2lzX3Zpc2libGUnKSkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpc19pbnZpc2libGUnKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaXNfdmlzaWJsZScpO1xuICAgICAgICB2YXIgaGFzX2hpbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnW25hbWU9XCJoaW50XCJdJykudmFsKCkgIT09ICcnKSBoYXNfaGludCA9IHRydWU7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy50eXBlLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX3RleHQnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycsICdlbnRyeSBoaWRkZW4tdGV4dCcpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcudHlwZS1lbnRyeScpLmhhc0NsYXNzKCdpc19jb2RlJykpICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignY2xhc3MnLCAnZW50cnkgaGlkZGVuLWNvZGUnKTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnR5cGUtZW50cnknKS5oYXNDbGFzcygnaXNfdGV4dCcpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScsICcyJyk7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy50eXBlLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX2NvZGUnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdkYXRhLWVudHJ5LXR5cGUnLCAnNScpO1xuICAgICAgICBpZiAoaGFzX2hpbnQpIHtcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignY2xhc3MnLCAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2NsYXNzJykgKyAnIG9wZW4taGludCcpO1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGludCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgICAgIH1cbiAgICAgICAgX3NhdmVfZW50cnkoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaXNfdmlzaWJsZScpO1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpc19pbnZpc2libGUnKTtcbiAgICAgICAgJCgnW25hbWU9XCJoaW50XCJdJykuYmx1cigpO1xuICAgICAgICB2YXIgaGFzX2hpbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnW25hbWU9XCJoaW50XCJdJykudmFsKCkgIT09ICcnKSBoYXNfaGludCA9IHRydWU7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy50eXBlLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX3RleHQnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycsICdlbnRyeSBvcGVuLXRleHQnKTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnR5cGUtZW50cnknKS5oYXNDbGFzcygnaXNfY29kZScpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2NsYXNzJywgJ2VudHJ5IG9wZW4tY29kZScpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcudHlwZS1lbnRyeScpLmhhc0NsYXNzKCdpc190ZXh0JykpICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignZGF0YS1lbnRyeS10eXBlJywgJzEnKTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLnR5cGUtZW50cnknKS5oYXNDbGFzcygnaXNfY29kZScpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScsICc0Jyk7XG4gICAgICAgIGlmIChoYXNfaGludCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmhpbnQnKS5oYXNDbGFzcygnbGNfc2hvdycpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaW50JykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAgICAgfVxuICAgICAgICBfc2F2ZV9lbnRyeSgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpKTtcbiAgICB9XG59KTtcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5lbnRyeS1tZW51IC50eXBlLWVudHJ5JywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2lzX3RleHQnKSkge1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpc19jb2RlJyk7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzX3RleHQnKTtcbiAgICAgICAgdmFyIGhhc19oaW50ID0gZmFsc2U7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmhhc0NsYXNzKCdvcGVuLWhpbnQnKSkgaGFzX2hpbnQgPSB0cnVlO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGlkZGVuLWVudHJ5JykubGVuZ3RoIDwgMSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycsICdlbnRyeSBwcm9tcHQtY29kZScpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGlkZGVuLWVudHJ5JykubGVuZ3RoIDwgMSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdkYXRhLWVudHJ5LXR5cGUnLCAnNicpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGlkZGVuLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX3Zpc2libGUnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycsICdlbnRyeSBvcGVuLWNvZGUnKTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuZmluZCgnLmhpZGRlbi1lbnRyeScpLmhhc0NsYXNzKCdpc19pbnZpc2libGUnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycsICdlbnRyeSBoaWRkZW4tY29kZScpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGlkZGVuLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX3Zpc2libGUnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdkYXRhLWVudHJ5LXR5cGUnLCAnNCcpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGlkZGVuLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX2ludmlzaWJsZScpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScsICc1Jyk7XG4gICAgICAgIGlmIChoYXNfaGludCkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycsICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignY2xhc3MnKSArICcgb3Blbi1oaW50Jyk7XG4gICAgICAgIF9zYXZlX2VudHJ5KCQodGhpcykucGFyZW50KCkucGFyZW50KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lzX3RleHQnKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaXNfY29kZScpO1xuICAgICAgICB2YXIgaGFzX2hpbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuaGFzQ2xhc3MoJ29wZW4taGludCcpKSBoYXNfaGludCA9IHRydWU7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaWRkZW4tZW50cnknKS5sZW5ndGggPCAxKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2NsYXNzJywgJ2VudHJ5IHByb21wdC10ZXh0Jyk7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaWRkZW4tZW50cnknKS5sZW5ndGggPCAxKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScsICczJyk7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaWRkZW4tZW50cnknKS5oYXNDbGFzcygnaXNfdmlzaWJsZScpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2NsYXNzJywgJ2VudHJ5IG9wZW4tdGV4dCcpO1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGlkZGVuLWVudHJ5JykuaGFzQ2xhc3MoJ2lzX2ludmlzaWJsZScpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2NsYXNzJywgJ2VudHJ5IGhpZGRlbi10ZXh0Jyk7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaWRkZW4tZW50cnknKS5oYXNDbGFzcygnaXNfdmlzaWJsZScpKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktdHlwZScsICcxJyk7XG4gICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaWRkZW4tZW50cnknKS5oYXNDbGFzcygnaXNfaW52aXNpYmxlJykpICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignZGF0YS1lbnRyeS10eXBlJywgJzInKTtcbiAgICAgICAgaWYgKGhhc19oaW50KSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2NsYXNzJywgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycpICsgJyBvcGVuLWhpbnQnKTtcbiAgICAgICAgX3NhdmVfZW50cnkoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKSk7XG4gICAgfVxufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZW50cnktbWVudSAucnVsZS1idG4nLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdkYXRhLWVudHJ5LXJ1bGUnKSA9PSAnMScpICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignZGF0YS1lbnRyeS1ydWxlJywgJzInKTtcbiAgICBlbHNlIGlmICgkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktcnVsZScpID09ICcyJykgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdkYXRhLWVudHJ5LXJ1bGUnLCAnMycpO1xuICAgIGVsc2UgaWYgKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuYXR0cignZGF0YS1lbnRyeS1ydWxlJykgPT0gJzMnKSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2RhdGEtZW50cnktcnVsZScsICcxJyk7XG4gICAgX3NhdmVfZW50cnkoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKSk7XG59KTtcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5oaW50LWJ0bicsIGZ1bmN0aW9uKCkge1xuICAgIGlmICghJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5oYXNDbGFzcygnb3Blbi1oaW50JykpICQodGhpcykucGFyZW50KCkucGFyZW50KCkuYWRkQ2xhc3MoJ29wZW4taGludCcpO1xuICAgIGVsc2UgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnb3Blbi1oaW50Jyk7XG4gICAgaWYgKCEkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaW50JykuaGFzQ2xhc3MoJ2xjX3Nob3cnKSkgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCcuaGludCcpLmFkZENsYXNzKCdsY19zaG93Jyk7XG4gICAgZWxzZSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5oaW50JykucmVtb3ZlQ2xhc3MoJ2xjX3Nob3cnKTtcbiAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJ1tuYW1lPVwiaGludFwiXScpLmZvY3VzKCk7XG59KTtcblxuLy8gSGFuZGxlIHRoZSBjaGFuZ2VzIGluIGhpbnRcbiQoZG9jdW1lbnQpLm9uKCdibHVyJywgJ1tuYW1lPVwiaGludFwiXScsIGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xuICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5oYXNDbGFzcygnb3Blbi1oaW50JykpICQodGhpcykucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ29wZW4taGludCcpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdsY19zaG93Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgX3NhdmVfZW50cnkoJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKSk7XG4gICAgfVxufSk7XG5cbi8vIHRhYiB0byB0YWIgd2hlbiBpbnNpZGUgYSB0ZXh0YXJlYVxuJChkb2N1bWVudCkuZGVsZWdhdGUoJy5lbnRyeS10ZXh0YXJlYScsICdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cbiAgICBpZiAoa2V5Q29kZSA9PSA5KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuXG4gICAgICAgIC8vIHNldCB0ZXh0YXJlYSB2YWx1ZSB0bzogdGV4dCBiZWZvcmUgY2FyZXQgKyB0YWIgKyB0ZXh0IGFmdGVyIGNhcmV0XG4gICAgICAgICQodGhpcykudmFsKCQodGhpcykudmFsKCkuc3Vic3RyaW5nKDAsIHN0YXJ0KSArIFwiXFx0XCIgKyAkKHRoaXMpLnZhbCgpLnN1YnN0cmluZyhlbmQpKTtcblxuICAgICAgICAvLyBwdXQgY2FyZXQgYXQgcmlnaHQgcG9zaXRpb24gYWdhaW5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyAxO1xuICAgIH1cbn0pO1xuXG4vLyBmb3JiaWQgdXNhZ2Ugb2YgRW50ZXIgYW5kIFRhYiB3aGlsZSB0eXBpbmcgdGhlIG5hbWUgb2YgYSBjYXJkXG4kKCcuY2FyZC1uYW1lX2lucHV0Jykub24oJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGUgfHwgZS53aGljaDtcblxuICAgIGlmIChrZXlDb2RlID09IDEzKSB7XG4gICAgICAgICQodGhpcykuYmx1cigpO1xuICAgIH1cblxuICAgIGlmIChrZXlDb2RlID09IDkpIHtcbiAgICAgICAgJCh0aGlzKS5ibHVyKCk7XG4gICAgfVxufSk7XG4iLCIvKiFcblx0QXV0b3NpemUgNC4wLjBcblx0bGljZW5zZTogTUlUXG5cdGh0dHA6Ly93d3cuamFja2xtb29yZS5jb20vYXV0b3NpemVcbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKFsnZXhwb3J0cycsICdtb2R1bGUnXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0ZmFjdG9yeShleHBvcnRzLCBtb2R1bGUpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBtb2QgPSB7XG5cdFx0XHRleHBvcnRzOiB7fVxuXHRcdH07XG5cdFx0ZmFjdG9yeShtb2QuZXhwb3J0cywgbW9kKTtcblx0XHRnbG9iYWwuYXV0b3NpemUgPSBtb2QuZXhwb3J0cztcblx0fVxufSkodGhpcywgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG1hcCA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGtleXMgPSBbXTtcblx0XHR2YXIgdmFsdWVzID0gW107XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG5cdFx0XHRcdHJldHVybiBrZXlzLmluZGV4T2Yoa2V5KSA+IC0xO1xuXHRcdFx0fSxcblx0XHRcdGdldDogZnVuY3Rpb24gZ2V0KGtleSkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWVzW2tleXMuaW5kZXhPZihrZXkpXTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG5cdFx0XHRcdGlmIChrZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcblx0XHRcdFx0XHRrZXlzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR2YWx1ZXMucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQnZGVsZXRlJzogZnVuY3Rpb24gX2RlbGV0ZShrZXkpIHtcblx0XHRcdFx0dmFyIGluZGV4ID0ga2V5cy5pbmRleE9mKGtleSk7XG5cdFx0XHRcdGlmIChpbmRleCA+IC0xKSB7XG5cdFx0XHRcdFx0a2V5cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdHZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSkoKTtcblxuXHR2YXIgY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG5cdFx0cmV0dXJuIG5ldyBFdmVudChuYW1lLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cdH07XG5cdHRyeSB7XG5cdFx0bmV3IEV2ZW50KCd0ZXN0Jyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcblx0XHRjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0XHRldnQuaW5pdEV2ZW50KG5hbWUsIHRydWUsIGZhbHNlKTtcblx0XHRcdHJldHVybiBldnQ7XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFzc2lnbih0YSkge1xuXHRcdGlmICghdGEgfHwgIXRhLm5vZGVOYW1lIHx8IHRhLm5vZGVOYW1lICE9PSAnVEVYVEFSRUEnIHx8IG1hcC5oYXModGEpKSByZXR1cm47XG5cblx0XHR2YXIgaGVpZ2h0T2Zmc2V0ID0gbnVsbDtcblx0XHR2YXIgY2xpZW50V2lkdGggPSB0YS5jbGllbnRXaWR0aDtcblx0XHR2YXIgY2FjaGVkSGVpZ2h0ID0gbnVsbDtcblxuXHRcdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0XHR2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCk7XG5cblx0XHRcdGlmIChzdHlsZS5yZXNpemUgPT09ICd2ZXJ0aWNhbCcpIHtcblx0XHRcdFx0dGEuc3R5bGUucmVzaXplID0gJ25vbmUnO1xuXHRcdFx0fSBlbHNlIGlmIChzdHlsZS5yZXNpemUgPT09ICdib3RoJykge1xuXHRcdFx0XHR0YS5zdHlsZS5yZXNpemUgPSAnaG9yaXpvbnRhbCc7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzdHlsZS5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcpIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gLShwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoZWlnaHRPZmZzZXQgPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKSArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gRml4IHdoZW4gYSB0ZXh0YXJlYSBpcyBub3Qgb24gZG9jdW1lbnQgYm9keSBhbmQgaGVpZ2h0T2Zmc2V0IGlzIE5vdCBhIE51bWJlclxuXHRcdFx0aWYgKGlzTmFOKGhlaWdodE9mZnNldCkpIHtcblx0XHRcdFx0aGVpZ2h0T2Zmc2V0ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY2hhbmdlT3ZlcmZsb3codmFsdWUpIHtcblx0XHRcdHtcblx0XHRcdFx0Ly8gQ2hyb21lL1NhZmFyaS1zcGVjaWZpYyBmaXg6XG5cdFx0XHRcdC8vIFdoZW4gdGhlIHRleHRhcmVhIHktb3ZlcmZsb3cgaXMgaGlkZGVuLCBDaHJvbWUvU2FmYXJpIGRvIG5vdCByZWZsb3cgdGhlIHRleHQgdG8gYWNjb3VudCBmb3IgdGhlIHNwYWNlXG5cdFx0XHRcdC8vIG1hZGUgYXZhaWxhYmxlIGJ5IHJlbW92aW5nIHRoZSBzY3JvbGxiYXIuIFRoZSBmb2xsb3dpbmcgZm9yY2VzIHRoZSBuZWNlc3NhcnkgdGV4dCByZWZsb3cuXG5cdFx0XHRcdHZhciB3aWR0aCA9IHRhLnN0eWxlLndpZHRoO1xuXHRcdFx0XHR0YS5zdHlsZS53aWR0aCA9ICcwcHgnO1xuXHRcdFx0XHQvLyBGb3JjZSByZWZsb3c6XG5cdFx0XHRcdC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cblx0XHRcdFx0dGEub2Zmc2V0V2lkdGg7XG5cdFx0XHRcdC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cdFx0XHRcdHRhLnN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHR9XG5cblx0XHRcdHRhLnN0eWxlLm92ZXJmbG93WSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldFBhcmVudE92ZXJmbG93cyhlbCkge1xuXHRcdFx0dmFyIGFyciA9IFtdO1xuXG5cdFx0XHR3aGlsZSAoZWwgJiYgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlIGluc3RhbmNlb2YgRWxlbWVudCkge1xuXHRcdFx0XHRpZiAoZWwucGFyZW50Tm9kZS5zY3JvbGxUb3ApIHtcblx0XHRcdFx0XHRhcnIucHVzaCh7XG5cdFx0XHRcdFx0XHRub2RlOiBlbC5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0c2Nyb2xsVG9wOiBlbC5wYXJlbnROb2RlLnNjcm9sbFRvcFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsID0gZWwucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGFycjtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZXNpemUoKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWxIZWlnaHQgPSB0YS5zdHlsZS5oZWlnaHQ7XG5cdFx0XHR2YXIgb3ZlcmZsb3dzID0gZ2V0UGFyZW50T3ZlcmZsb3dzKHRhKTtcblx0XHRcdHZhciBkb2NUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsgLy8gTmVlZGVkIGZvciBNb2JpbGUgSUUgKHRpY2tldCAjMjQwKVxuXG5cdFx0XHR0YS5zdHlsZS5oZWlnaHQgPSAnJztcblxuXHRcdFx0dmFyIGVuZEhlaWdodCA9IHRhLnNjcm9sbEhlaWdodCArIGhlaWdodE9mZnNldDtcblxuXHRcdFx0aWYgKHRhLnNjcm9sbEhlaWdodCA9PT0gMCkge1xuXHRcdFx0XHQvLyBJZiB0aGUgc2Nyb2xsSGVpZ2h0IGlzIDAsIHRoZW4gdGhlIGVsZW1lbnQgcHJvYmFibHkgaGFzIGRpc3BsYXk6bm9uZSBvciBpcyBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG5cdFx0XHRcdHRhLnN0eWxlLmhlaWdodCA9IG9yaWdpbmFsSGVpZ2h0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRhLnN0eWxlLmhlaWdodCA9IGVuZEhlaWdodCArICdweCc7XG5cblx0XHRcdC8vIHVzZWQgdG8gY2hlY2sgaWYgYW4gdXBkYXRlIGlzIGFjdHVhbGx5IG5lY2Vzc2FyeSBvbiB3aW5kb3cucmVzaXplXG5cdFx0XHRjbGllbnRXaWR0aCA9IHRhLmNsaWVudFdpZHRoO1xuXG5cdFx0XHQvLyBwcmV2ZW50cyBzY3JvbGwtcG9zaXRpb24ganVtcGluZ1xuXHRcdFx0b3ZlcmZsb3dzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLm5vZGUuc2Nyb2xsVG9wID0gZWwuc2Nyb2xsVG9wO1xuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChkb2NUb3ApIHtcblx0XHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IGRvY1RvcDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiB1cGRhdGUoKSB7XG5cdFx0XHRyZXNpemUoKTtcblxuXHRcdFx0dmFyIHN0eWxlSGVpZ2h0ID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHRhLnN0eWxlLmhlaWdodCkpO1xuXHRcdFx0dmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGEsIG51bGwpO1xuXG5cdFx0XHQvLyBVc2luZyBvZmZzZXRIZWlnaHQgYXMgYSByZXBsYWNlbWVudCBmb3IgY29tcHV0ZWQuaGVpZ2h0IGluIElFLCBiZWNhdXNlIElFIGRvZXMgbm90IGFjY291bnQgdXNlIG9mIGJvcmRlci1ib3hcblx0XHRcdHZhciBhY3R1YWxIZWlnaHQgPSBjb21wdXRlZC5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoY29tcHV0ZWQuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cblx0XHRcdC8vIFRoZSBhY3R1YWwgaGVpZ2h0IG5vdCBtYXRjaGluZyB0aGUgc3R5bGUgaGVpZ2h0IChzZXQgdmlhIHRoZSByZXNpemUgbWV0aG9kKSBpbmRpY2F0ZXMgdGhhdFxuXHRcdFx0Ly8gdGhlIG1heC1oZWlnaHQgaGFzIGJlZW4gZXhjZWVkZWQsIGluIHdoaWNoIGNhc2UgdGhlIG92ZXJmbG93IHNob3VsZCBiZSBhbGxvd2VkLlxuXHRcdFx0aWYgKGFjdHVhbEhlaWdodCAhPT0gc3R5bGVIZWlnaHQpIHtcblx0XHRcdFx0aWYgKGNvbXB1dGVkLm92ZXJmbG93WSA9PT0gJ2hpZGRlbicpIHtcblx0XHRcdFx0XHRjaGFuZ2VPdmVyZmxvdygnc2Nyb2xsJyk7XG5cdFx0XHRcdFx0cmVzaXplKCk7XG5cdFx0XHRcdFx0YWN0dWFsSGVpZ2h0ID0gY29tcHV0ZWQuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnID8gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhLCBudWxsKS5oZWlnaHQpKSA6IHRhLm9mZnNldEhlaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gTm9ybWFsbHkga2VlcCBvdmVyZmxvdyBzZXQgdG8gaGlkZGVuLCB0byBhdm9pZCBmbGFzaCBvZiBzY3JvbGxiYXIgYXMgdGhlIHRleHRhcmVhIGV4cGFuZHMuXG5cdFx0XHRcdGlmIChjb21wdXRlZC5vdmVyZmxvd1kgIT09ICdoaWRkZW4nKSB7XG5cdFx0XHRcdFx0Y2hhbmdlT3ZlcmZsb3coJ2hpZGRlbicpO1xuXHRcdFx0XHRcdHJlc2l6ZSgpO1xuXHRcdFx0XHRcdGFjdHVhbEhlaWdodCA9IGNvbXB1dGVkLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94JyA/IE1hdGgucm91bmQocGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YSwgbnVsbCkuaGVpZ2h0KSkgOiB0YS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNhY2hlZEhlaWdodCAhPT0gYWN0dWFsSGVpZ2h0KSB7XG5cdFx0XHRcdGNhY2hlZEhlaWdodCA9IGFjdHVhbEhlaWdodDtcblx0XHRcdFx0dmFyIGV2dCA9IGNyZWF0ZUV2ZW50KCdhdXRvc2l6ZTpyZXNpemVkJyk7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0dGEuZGlzcGF0Y2hFdmVudChldnQpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHQvLyBGaXJlZm94IHdpbGwgdGhyb3cgYW4gZXJyb3Igb24gZGlzcGF0Y2hFdmVudCBmb3IgYSBkZXRhY2hlZCBlbGVtZW50XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODg5Mzc2XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgcGFnZVJlc2l6ZSA9IGZ1bmN0aW9uIHBhZ2VSZXNpemUoKSB7XG5cdFx0XHRpZiAodGEuY2xpZW50V2lkdGggIT09IGNsaWVudFdpZHRoKSB7XG5cdFx0XHRcdHVwZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR2YXIgZGVzdHJveSA9IChmdW5jdGlvbiAoc3R5bGUpIHtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBwYWdlUmVzaXplLCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZSwgZmFsc2UpO1xuXHRcdFx0dGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHRcdHRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2F1dG9zaXplOmRlc3Ryb3knLCBkZXN0cm95LCBmYWxzZSk7XG5cdFx0XHR0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdhdXRvc2l6ZTp1cGRhdGUnLCB1cGRhdGUsIGZhbHNlKTtcblxuXHRcdFx0T2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHR0YS5zdHlsZVtrZXldID0gc3R5bGVba2V5XTtcblx0XHRcdH0pO1xuXG5cdFx0XHRtYXBbJ2RlbGV0ZSddKHRhKTtcblx0XHR9KS5iaW5kKHRhLCB7XG5cdFx0XHRoZWlnaHQ6IHRhLnN0eWxlLmhlaWdodCxcblx0XHRcdHJlc2l6ZTogdGEuc3R5bGUucmVzaXplLFxuXHRcdFx0b3ZlcmZsb3dZOiB0YS5zdHlsZS5vdmVyZmxvd1ksXG5cdFx0XHRvdmVyZmxvd1g6IHRhLnN0eWxlLm92ZXJmbG93WCxcblx0XHRcdHdvcmRXcmFwOiB0YS5zdHlsZS53b3JkV3JhcFxuXHRcdH0pO1xuXG5cdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6ZGVzdHJveScsIGRlc3Ryb3ksIGZhbHNlKTtcblxuXHRcdC8vIElFOSBkb2VzIG5vdCBmaXJlIG9ucHJvcGVydHljaGFuZ2Ugb3Igb25pbnB1dCBmb3IgZGVsZXRpb25zLFxuXHRcdC8vIHNvIGJpbmRpbmcgdG8gb25rZXl1cCB0byBjYXRjaCBtb3N0IG9mIHRob3NlIGV2ZW50cy5cblx0XHQvLyBUaGVyZSBpcyBubyB3YXkgdGhhdCBJIGtub3cgb2YgdG8gZGV0ZWN0IHNvbWV0aGluZyBsaWtlICdjdXQnIGluIElFOS5cblx0XHRpZiAoJ29ucHJvcGVydHljaGFuZ2UnIGluIHRhICYmICdvbmlucHV0JyBpbiB0YSkge1xuXHRcdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB1cGRhdGUsIGZhbHNlKTtcblx0XHR9XG5cblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcGFnZVJlc2l6ZSwgZmFsc2UpO1xuXHRcdHRhLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0dGEuYWRkRXZlbnRMaXN0ZW5lcignYXV0b3NpemU6dXBkYXRlJywgdXBkYXRlLCBmYWxzZSk7XG5cdFx0dGEuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7XG5cdFx0dGEuc3R5bGUud29yZFdyYXAgPSAnYnJlYWstd29yZCc7XG5cblx0XHRtYXAuc2V0KHRhLCB7XG5cdFx0XHRkZXN0cm95OiBkZXN0cm95LFxuXHRcdFx0dXBkYXRlOiB1cGRhdGVcblx0XHR9KTtcblxuXHRcdGluaXQoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlc3Ryb3kodGEpIHtcblx0XHR2YXIgbWV0aG9kcyA9IG1hcC5nZXQodGEpO1xuXHRcdGlmIChtZXRob2RzKSB7XG5cdFx0XHRtZXRob2RzLmRlc3Ryb3koKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB1cGRhdGUodGEpIHtcblx0XHR2YXIgbWV0aG9kcyA9IG1hcC5nZXQodGEpO1xuXHRcdGlmIChtZXRob2RzKSB7XG5cdFx0XHRtZXRob2RzLnVwZGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdHZhciBhdXRvc2l6ZSA9IG51bGw7XG5cblx0Ly8gRG8gbm90aGluZyBpbiBOb2RlLmpzIGVudmlyb25tZW50IGFuZCBJRTggKG9yIGxvd2VyKVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0YXV0b3NpemUgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLnVwZGF0ZSA9IGZ1bmN0aW9uIChlbCkge1xuXHRcdFx0cmV0dXJuIGVsO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0YXV0b3NpemUgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcblx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgZnVuY3Rpb24gKHgpIHtcblx0XHRcdFx0XHRyZXR1cm4gYXNzaWduKHgsIG9wdGlvbnMpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHRcdGF1dG9zaXplLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgZGVzdHJveSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZWw7XG5cdFx0fTtcblx0XHRhdXRvc2l6ZS51cGRhdGUgPSBmdW5jdGlvbiAoZWwpIHtcblx0XHRcdGlmIChlbCkge1xuXHRcdFx0XHRBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGVsLmxlbmd0aCA/IGVsIDogW2VsXSwgdXBkYXRlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlbDtcblx0XHR9O1xuXHR9XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBhdXRvc2l6ZTtcbn0pOyIsIi8qXHJcbiAqIGVhc3ktYXV0b2NvbXBsZXRlXHJcbiAqIGpRdWVyeSBwbHVnaW4gZm9yIGF1dG9jb21wbGV0aW9uXHJcbiAqIFxyXG4gKiBAYXV0aG9yIMWBdWthc3ogUGF3ZcWCY3phayAoaHR0cDovL2dpdGh1Yi5jb20vcGF3ZWxjemFrKVxyXG4gKiBAdmVyc2lvbiAxLjMuNVxyXG4gKiBDb3B5cmlnaHQgIExpY2Vuc2U6IFxyXG4gKi9cclxuXHJcbi8qXHJcbiAqIEVhc3lBdXRvY29tcGxldGUgLSBDb25maWd1cmF0aW9uIFxyXG4gKi9cclxudmFyIEVhc3lBdXRvY29tcGxldGUgPSAoZnVuY3Rpb24oc2NvcGUpe1xyXG5cclxuXHRzY29wZS5Db25maWd1cmF0aW9uID0gZnVuY3Rpb24gQ29uZmlndXJhdGlvbihvcHRpb25zKSB7XHJcblx0XHR2YXIgZGVmYXVsdHMgPSB7XHJcblx0XHRcdGRhdGE6IFwibGlzdC1yZXF1aXJlZFwiLFxyXG5cdFx0XHR1cmw6IFwibGlzdC1yZXF1aXJlZFwiLFxyXG5cdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXHJcblxyXG5cdFx0XHRsaXN0TG9jYXRpb246IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHhtbEVsZW1lbnROYW1lOiBcIlwiLFxyXG5cclxuXHRcdFx0Z2V0VmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGF1dG9jb21wbGV0ZU9mZjogdHJ1ZSxcclxuXHJcblx0XHRcdHBsYWNlaG9sZGVyOiBmYWxzZSxcclxuXHJcblx0XHRcdGFqYXhDYWxsYmFjazogZnVuY3Rpb24oKSB7fSxcclxuXHJcblx0XHRcdG1hdGNoUmVzcG9uc2VQcm9wZXJ0eTogZmFsc2UsXHJcblxyXG5cdFx0XHRsaXN0OiB7XHJcblx0XHRcdFx0c29ydDoge1xyXG5cdFx0XHRcdFx0ZW5hYmxlZDogZmFsc2UsXHJcblx0XHRcdFx0XHRtZXRob2Q6IGZ1bmN0aW9uKGEsIGIpIHtcclxuXHRcdFx0XHRcdFx0YSA9IGRlZmF1bHRzLmdldFZhbHVlKGEpO1xyXG5cdFx0XHRcdFx0XHRiID0gZGVmYXVsdHMuZ2V0VmFsdWUoYik7XHJcblx0XHRcdFx0XHRcdGlmIChhIDwgYikge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRpZiAoYSA+IGIpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gMTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHRtYXhOdW1iZXJPZkVsZW1lbnRzOiA2LFxyXG5cclxuXHRcdFx0XHRoaWRlT25FbXB0eVBocmFzZTogdHJ1ZSxcclxuXHJcblx0XHRcdFx0bWF0Y2g6IHtcclxuXHRcdFx0XHRcdGVuYWJsZWQ6IGZhbHNlLFxyXG5cdFx0XHRcdFx0Y2FzZVNlbnNpdGl2ZTogZmFsc2UsXHJcblx0XHRcdFx0XHRtZXRob2Q6IGZ1bmN0aW9uKGVsZW1lbnQsIHBocmFzZSkge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQuc2VhcmNoKHBocmFzZSkgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdHNob3dBbmltYXRpb246IHtcclxuXHRcdFx0XHRcdHR5cGU6IFwibm9ybWFsXCIsIC8vbm9ybWFsfHNsaWRlfGZhZGVcclxuXHRcdFx0XHRcdHRpbWU6IDQwMCxcclxuXHRcdFx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbigpIHt9XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0aGlkZUFuaW1hdGlvbjoge1xyXG5cdFx0XHRcdFx0dHlwZTogXCJub3JtYWxcIixcclxuXHRcdFx0XHRcdHRpbWU6IDQwMCxcclxuXHRcdFx0XHRcdGNhbGxiYWNrOiBmdW5jdGlvbigpIHt9XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0LyogRXZlbnRzICovXHJcblx0XHRcdFx0b25DbGlja0V2ZW50OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdG9uU2VsZWN0SXRlbUV2ZW50OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdG9uTG9hZEV2ZW50OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdG9uQ2hvb3NlRXZlbnQ6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRcdFx0b25LZXlFbnRlckV2ZW50OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdG9uTW91c2VPdmVyRXZlbnQ6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRcdFx0b25Nb3VzZU91dEV2ZW50OiBmdW5jdGlvbigpIHt9LFx0XHJcblx0XHRcdFx0b25TaG93TGlzdEV2ZW50OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdG9uSGlkZUxpc3RFdmVudDogZnVuY3Rpb24oKSB7fVxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0aGlnaGxpZ2h0UGhyYXNlOiB0cnVlLFxyXG5cclxuXHRcdFx0dGhlbWU6IFwiXCIsXHJcblxyXG5cdFx0XHRjc3NDbGFzc2VzOiBcIlwiLFxyXG5cclxuXHRcdFx0bWluQ2hhck51bWJlcjogMCxcclxuXHJcblx0XHRcdHJlcXVlc3REZWxheTogMCxcclxuXHJcblx0XHRcdGFkanVzdFdpZHRoOiB0cnVlLFxyXG5cclxuXHRcdFx0YWpheFNldHRpbmdzOiB7fSxcclxuXHJcblx0XHRcdHByZXBhcmVQb3N0RGF0YTogZnVuY3Rpb24oZGF0YSwgaW5wdXRQaHJhc2UpIHtyZXR1cm4gZGF0YTt9LFxyXG5cclxuXHRcdFx0bG9nZ2VyRW5hYmxlZDogdHJ1ZSxcclxuXHJcblx0XHRcdHRlbXBsYXRlOiBcIlwiLFxyXG5cclxuXHRcdFx0Y2F0ZWdvcmllc0Fzc2lnbmVkOiBmYWxzZSxcclxuXHJcblx0XHRcdGNhdGVnb3JpZXM6IFt7XHJcblx0XHRcdFx0bWF4TnVtYmVyT2ZFbGVtZW50czogNFxyXG5cdFx0XHR9XVxyXG5cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdHZhciBleHRlcm5hbE9iamVjdHMgPSBbXCJhamF4U2V0dGluZ3NcIiwgXCJ0ZW1wbGF0ZVwiXTtcclxuXHJcblx0XHR0aGlzLmdldCA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gZGVmYXVsdHNbcHJvcGVydHlOYW1lXTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5lcXVhbHMgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xyXG5cdFx0XHRpZiAoaXNBc3NpZ25lZChuYW1lKSkge1xyXG5cdFx0XHRcdGlmIChkZWZhdWx0c1tuYW1lXSA9PT0gdmFsdWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBcclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5jaGVja0RhdGFVcmxQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmIChkZWZhdWx0cy51cmwgPT09IFwibGlzdC1yZXF1aXJlZFwiICYmIGRlZmF1bHRzLmRhdGEgPT09IFwibGlzdC1yZXF1aXJlZFwiKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fTtcclxuXHRcdHRoaXMuY2hlY2tSZXF1aXJlZFByb3BlcnRpZXMgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0Zm9yICh2YXIgcHJvcGVydHlOYW1lIGluIGRlZmF1bHRzKSB7XHJcblx0XHRcdFx0aWYgKGRlZmF1bHRzW3Byb3BlcnR5TmFtZV0gPT09IFwicmVxdWlyZWRcIikge1xyXG5cdFx0XHRcdFx0bG9nZ2VyLmVycm9yKFwiT3B0aW9uIFwiICsgcHJvcGVydHlOYW1lICsgXCIgbXVzdCBiZSBkZWZpbmVkXCIpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5wcmludFByb3BlcnRpZXNUaGF0RG9lc250RXhpc3QgPSBmdW5jdGlvbihjb25zb2wsIG9wdGlvbnNUb0NoZWNrKSB7XHJcblx0XHRcdHByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdChjb25zb2wsIG9wdGlvbnNUb0NoZWNrKTtcclxuXHRcdH07XHJcblxyXG5cclxuXHRcdHByZXBhcmVEZWZhdWx0cygpO1xyXG5cclxuXHRcdG1lcmdlT3B0aW9ucygpO1xyXG5cclxuXHRcdGlmIChkZWZhdWx0cy5sb2dnZXJFbmFibGVkID09PSB0cnVlKSB7XHJcblx0XHRcdHByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdChjb25zb2xlLCBvcHRpb25zKTtcdFxyXG5cdFx0fVxyXG5cclxuXHRcdGFkZEFqYXhTZXR0aW5ncygpO1xyXG5cclxuXHRcdHByb2Nlc3NBZnRlck1lcmdlKCk7XHJcblx0XHRmdW5jdGlvbiBwcmVwYXJlRGVmYXVsdHMoKSB7XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy5kYXRhVHlwZSA9PT0gXCJ4bWxcIikge1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICghb3B0aW9ucy5nZXRWYWx1ZSkge1xyXG5cclxuXHRcdFx0XHRcdG9wdGlvbnMuZ2V0VmFsdWUgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAkKGVsZW1lbnQpLnRleHQoKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoIW9wdGlvbnMubGlzdCkge1xyXG5cclxuXHRcdFx0XHRcdG9wdGlvbnMubGlzdCA9IHt9O1xyXG5cdFx0XHRcdH0gXHJcblxyXG5cdFx0XHRcdGlmICghb3B0aW9ucy5saXN0LnNvcnQpIHtcclxuXHRcdFx0XHRcdG9wdGlvbnMubGlzdC5zb3J0ID0ge307XHJcblx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0b3B0aW9ucy5saXN0LnNvcnQubWV0aG9kID0gZnVuY3Rpb24oYSwgYikge1xyXG5cdFx0XHRcdFx0YSA9IG9wdGlvbnMuZ2V0VmFsdWUoYSk7XHJcblx0XHRcdFx0XHRiID0gb3B0aW9ucy5nZXRWYWx1ZShiKTtcclxuXHRcdFx0XHRcdGlmIChhIDwgYikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gLTE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoYSA+IGIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRpZiAoIW9wdGlvbnMubGlzdC5tYXRjaCkge1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5saXN0Lm1hdGNoID0ge307XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRvcHRpb25zLmxpc3QubWF0Y2gubWV0aG9kID0gZnVuY3Rpb24oZWxlbWVudCwgcGhyYXNlKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGVsZW1lbnQuc2VhcmNoKHBocmFzZSkgPiAtMSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAob3B0aW9ucy5jYXRlZ29yaWVzICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5jYXRlZ29yaWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuXHJcblx0XHRcdFx0dmFyIGNhdGVnb3JpZXMgPSBbXTtcclxuXHJcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9wdGlvbnMuY2F0ZWdvcmllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkgeyBcclxuXHJcblx0XHRcdFx0XHR2YXIgY2F0ZWdvcnkgPSBvcHRpb25zLmNhdGVnb3JpZXNbaV07XHJcblxyXG5cdFx0XHRcdFx0Zm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdHMuY2F0ZWdvcmllc1swXSkge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGNhdGVnb3J5W3Byb3BlcnR5XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnlbcHJvcGVydHldID0gZGVmYXVsdHMuY2F0ZWdvcmllc1swXVtwcm9wZXJ0eV07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0b3B0aW9ucy5jYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG1lcmdlT3B0aW9ucygpIHtcclxuXHJcblx0XHRcdGRlZmF1bHRzID0gbWVyZ2VPYmplY3RzKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhzb3VyY2UsIHRhcmdldCkge1xyXG5cdFx0XHRcdHZhciBtZXJnZWRPYmplY3QgPSBzb3VyY2UgfHwge307XHJcblxyXG5cdFx0XHRcdGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiBzb3VyY2UpIHtcclxuXHRcdFx0XHRcdGlmICh0YXJnZXRbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFtwcm9wZXJ0eU5hbWVdICE9PSBudWxsKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAodHlwZW9mIHRhcmdldFtwcm9wZXJ0eU5hbWVdICE9PSBcIm9iamVjdFwiIHx8IFxyXG5cdFx0XHRcdFx0XHRcdFx0dGFyZ2V0W3Byb3BlcnR5TmFtZV0gaW5zdGFuY2VvZiBBcnJheSkge1xyXG5cdFx0XHRcdFx0XHRcdG1lcmdlZE9iamVjdFtwcm9wZXJ0eU5hbWVdID0gdGFyZ2V0W3Byb3BlcnR5TmFtZV07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0bWVyZ2VPYmplY3RzKHNvdXJjZVtwcm9wZXJ0eU5hbWVdLCB0YXJnZXRbcHJvcGVydHlOYW1lXSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRcdC8qIElmIGRhdGEgaXMgYW4gb2JqZWN0ICovXHJcblx0XHRcdFx0aWYgKHRhcmdldC5kYXRhICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0LmRhdGEgIT09IG51bGwgJiYgdHlwZW9mIHRhcmdldC5kYXRhID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRcdFx0XHRtZXJnZWRPYmplY3QuZGF0YSA9IHRhcmdldC5kYXRhO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG1lcmdlZE9iamVjdDtcclxuXHRcdFx0fVxyXG5cdFx0fVx0XHJcblxyXG5cclxuXHRcdGZ1bmN0aW9uIHByb2Nlc3NBZnRlck1lcmdlKCkge1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGRlZmF1bHRzLnVybCAhPT0gXCJsaXN0LXJlcXVpcmVkXCIgJiYgdHlwZW9mIGRlZmF1bHRzLnVybCAhPT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0dmFyIGRlZmF1bHRVcmwgPSBkZWZhdWx0cy51cmw7XHJcblx0XHRcdFx0ZGVmYXVsdHMudXJsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGVmYXVsdFVybDtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoZGVmYXVsdHMuYWpheFNldHRpbmdzLnVybCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBkZWZhdWx0cy5hamF4U2V0dGluZ3MudXJsICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0XHR2YXIgZGVmYXVsdFVybCA9IGRlZmF1bHRzLmFqYXhTZXR0aW5ncy51cmw7XHJcblx0XHRcdFx0ZGVmYXVsdHMuYWpheFNldHRpbmdzLnVybCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRlZmF1bHRVcmw7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBkZWZhdWx0cy5saXN0TG9jYXRpb24gPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHR2YXIgZGVmYXVsdGxpc3RMb2NhdGlvbiA9IGRlZmF1bHRzLmxpc3RMb2NhdGlvbjtcclxuXHJcblx0XHRcdFx0aWYgKGRlZmF1bHRzLmRhdGFUeXBlLnRvVXBwZXJDYXNlKCkgPT09IFwiWE1MXCIpIHtcclxuXHRcdFx0XHRcdGRlZmF1bHRzLmxpc3RMb2NhdGlvbiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICQoZGF0YSkuZmluZChkZWZhdWx0bGlzdExvY2F0aW9uKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGRlZmF1bHRzLmxpc3RMb2NhdGlvbiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGRhdGFbZGVmYXVsdGxpc3RMb2NhdGlvbl07XHJcblx0XHRcdFx0XHR9O1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodHlwZW9mIGRlZmF1bHRzLmdldFZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0dmFyIGRlZmF1bHRzR2V0VmFsdWUgPSBkZWZhdWx0cy5nZXRWYWx1ZTtcclxuXHRcdFx0XHRkZWZhdWx0cy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50W2RlZmF1bHRzR2V0VmFsdWVdO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChvcHRpb25zLmNhdGVnb3JpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGRlZmF1bHRzLmNhdGVnb3JpZXNBc3NpZ25lZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWRkQWpheFNldHRpbmdzKCkge1xyXG5cclxuXHRcdFx0aWYgKG9wdGlvbnMuYWpheFNldHRpbmdzICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdGlvbnMuYWpheFNldHRpbmdzID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRcdFx0ZGVmYXVsdHMuYWpheFNldHRpbmdzID0gb3B0aW9ucy5hamF4U2V0dGluZ3M7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVmYXVsdHMuYWpheFNldHRpbmdzID0ge307XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBpc0Fzc2lnbmVkKG5hbWUpIHtcclxuXHRcdFx0aWYgKGRlZmF1bHRzW25hbWVdICE9PSB1bmRlZmluZWQgJiYgZGVmYXVsdHNbbmFtZV0gIT09IG51bGwpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGZ1bmN0aW9uIHByaW50UHJvcGVydGllc1RoYXREb2VzbnRFeGlzdChjb25zb2wsIG9wdGlvbnNUb0NoZWNrKSB7XHJcblx0XHRcdFxyXG5cdFx0XHRjaGVja1Byb3BlcnRpZXNJZkV4aXN0KGRlZmF1bHRzLCBvcHRpb25zVG9DaGVjayk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjaGVja1Byb3BlcnRpZXNJZkV4aXN0KHNvdXJjZSwgdGFyZ2V0KSB7XHJcblx0XHRcdFx0Zm9yKHZhciBwcm9wZXJ0eSBpbiB0YXJnZXQpIHtcclxuXHRcdFx0XHRcdGlmIChzb3VyY2VbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0Y29uc29sLmxvZyhcIlByb3BlcnR5ICdcIiArIHByb3BlcnR5ICsgXCInIGRvZXMgbm90IGV4aXN0IGluIEVhc3lBdXRvY29tcGxldGUgb3B0aW9ucyBBUEkuXCIpO1x0XHRcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHNvdXJjZVtwcm9wZXJ0eV0gPT09IFwib2JqZWN0XCIgJiYgJC5pbkFycmF5KHByb3BlcnR5LCBleHRlcm5hbE9iamVjdHMpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0XHRjaGVja1Byb3BlcnRpZXNJZkV4aXN0KHNvdXJjZVtwcm9wZXJ0eV0sIHRhcmdldFtwcm9wZXJ0eV0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHNjb3BlO1xyXG5cclxufSkoRWFzeUF1dG9jb21wbGV0ZSB8fCB7fSk7XHJcblxyXG5cclxuLypcclxuICogRWFzeUF1dG9jb21wbGV0ZSAtIExvZ2dlciBcclxuICovXHJcbnZhciBFYXN5QXV0b2NvbXBsZXRlID0gKGZ1bmN0aW9uKHNjb3BlKXtcclxuXHRcclxuXHRzY29wZS5Mb2dnZXIgPSBmdW5jdGlvbiBMb2dnZXIoKSB7XHJcblxyXG5cdFx0dGhpcy5lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJFUlJPUjogXCIgKyBtZXNzYWdlKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy53YXJuaW5nID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIldBUk5JTkc6IFwiICsgbWVzc2FnZSk7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHJldHVybiBzY29wZTtcclxuXHJcbn0pKEVhc3lBdXRvY29tcGxldGUgfHwge30pO1xyXG5cdFxyXG5cclxuLypcclxuICogRWFzeUF1dG9jb21wbGV0ZSAtIENvbnN0YW5zXHJcbiAqL1xyXG52YXIgRWFzeUF1dG9jb21wbGV0ZSA9IChmdW5jdGlvbihzY29wZSl7XHRcclxuXHRcclxuXHRzY29wZS5Db25zdGFucyA9IGZ1bmN0aW9uIENvbnN0YW5zKCkge1xyXG5cdFx0dmFyIGNvbnN0YW50cyA9IHtcclxuXHRcdFx0Q09OVEFJTkVSX0NMQVNTOiBcImVhc3ktYXV0b2NvbXBsZXRlLWNvbnRhaW5lclwiLFxyXG5cdFx0XHRDT05UQUlORVJfSUQ6IFwiZWFjLWNvbnRhaW5lci1cIixcclxuXHJcblx0XHRcdFdSQVBQRVJfQ1NTX0NMQVNTOiBcImVhc3ktYXV0b2NvbXBsZXRlXCJcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gY29uc3RhbnRzW3Byb3BlcnR5TmFtZV07XHJcblx0XHR9O1xyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gc2NvcGU7XHJcblxyXG59KShFYXN5QXV0b2NvbXBsZXRlIHx8IHt9KTtcclxuXHJcbi8qXHJcbiAqIEVhc3lBdXRvY29tcGxldGUgLSBMaXN0QnVpbGRlclNlcnZpY2UgXHJcbiAqXHJcbiAqIEBhdXRob3IgxYF1a2FzeiBQYXdlxYJjemFrIFxyXG4gKlxyXG4gKi9cclxudmFyIEVhc3lBdXRvY29tcGxldGUgPSAoZnVuY3Rpb24oc2NvcGUpIHtcclxuXHJcblx0c2NvcGUuTGlzdEJ1aWxkZXJTZXJ2aWNlID0gZnVuY3Rpb24gTGlzdEJ1aWxkZXJTZXJ2aWNlKGNvbmZpZ3VyYXRpb24sIHByb2NjZXNzUmVzcG9uc2VEYXRhKSB7XHJcblxyXG5cclxuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdFx0dmFyIGxpc3RCdWlsZGVyID0gW10sXHJcblx0XHRcdFx0YnVpbGRlciA9IHt9O1xyXG5cclxuXHRcdFx0YnVpbGRlci5kYXRhID0gY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0TG9jYXRpb25cIikoZGF0YSk7XHJcblx0XHRcdGJ1aWxkZXIuZ2V0VmFsdWUgPSBjb25maWd1cmF0aW9uLmdldChcImdldFZhbHVlXCIpO1xyXG5cdFx0XHRidWlsZGVyLm1heExpc3RTaXplID0gY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0XCIpLm1heE51bWJlck9mRWxlbWVudHM7XHJcblxyXG5cdFx0XHRcdFxyXG5cdFx0XHRsaXN0QnVpbGRlci5wdXNoKGJ1aWxkZXIpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGxpc3RCdWlsZGVyO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZUNhdGVnb3JpZXMgPSBmdW5jdGlvbihsaXN0QnVpbGRlciwgZGF0YSkge1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGNvbmZpZ3VyYXRpb24uZ2V0KFwiY2F0ZWdvcmllc0Fzc2lnbmVkXCIpKSB7XHJcblxyXG5cdFx0XHRcdGxpc3RCdWlsZGVyID0gW107XHJcblxyXG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjb25maWd1cmF0aW9uLmdldChcImNhdGVnb3JpZXNcIikubGVuZ3RoOyBpICs9IDEpIHtcclxuXHJcblx0XHRcdFx0XHR2YXIgYnVpbGRlciA9IGNvbnZlcnRUb0xpc3RCdWlsZGVyKGNvbmZpZ3VyYXRpb24uZ2V0KFwiY2F0ZWdvcmllc1wiKVtpXSwgZGF0YSk7XHJcblxyXG5cdFx0XHRcdFx0bGlzdEJ1aWxkZXIucHVzaChidWlsZGVyKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9IFxyXG5cclxuXHRcdFx0cmV0dXJuIGxpc3RCdWlsZGVyO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmNvbnZlcnRYbWwgPSBmdW5jdGlvbihsaXN0QnVpbGRlcikge1xyXG5cdFx0XHRpZihjb25maWd1cmF0aW9uLmdldChcImRhdGFUeXBlXCIpLnRvVXBwZXJDYXNlKCkgPT09IFwiWE1MXCIpIHtcclxuXHJcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3RCdWlsZGVyLmxlbmd0aDsgaSArPSAxKSB7XHJcblx0XHRcdFx0XHRsaXN0QnVpbGRlcltpXS5kYXRhID0gY29udmVydFhtbFRvTGlzdChsaXN0QnVpbGRlcltpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbGlzdEJ1aWxkZXI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMucHJvY2Vzc0RhdGEgPSBmdW5jdGlvbihsaXN0QnVpbGRlciwgaW5wdXRQaHJhc2UpIHtcclxuXHJcblx0XHRcdGZvcih2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3RCdWlsZGVyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSs9MSkge1xyXG5cdFx0XHRcdGxpc3RCdWlsZGVyW2ldLmRhdGEgPSBwcm9jY2Vzc1Jlc3BvbnNlRGF0YShjb25maWd1cmF0aW9uLCBsaXN0QnVpbGRlcltpXSwgaW5wdXRQaHJhc2UpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbGlzdEJ1aWxkZXI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuY2hlY2tJZkRhdGFFeGlzdHMgPSBmdW5jdGlvbihsaXN0QnVpbGRlcnMpIHtcclxuXHJcblx0XHRcdGZvcih2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3RCdWlsZGVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xyXG5cclxuXHRcdFx0XHRpZiAobGlzdEJ1aWxkZXJzW2ldLmRhdGEgIT09IHVuZGVmaW5lZCAmJiBsaXN0QnVpbGRlcnNbaV0uZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcblx0XHRcdFx0XHRpZiAobGlzdEJ1aWxkZXJzW2ldLmRhdGEubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHRmdW5jdGlvbiBjb252ZXJ0VG9MaXN0QnVpbGRlcihjYXRlZ29yeSwgZGF0YSkge1xyXG5cclxuXHRcdFx0dmFyIGJ1aWxkZXIgPSB7fTtcclxuXHJcblx0XHRcdGlmKGNvbmZpZ3VyYXRpb24uZ2V0KFwiZGF0YVR5cGVcIikudG9VcHBlckNhc2UoKSA9PT0gXCJYTUxcIikge1xyXG5cclxuXHRcdFx0XHRidWlsZGVyID0gY29udmVydFhtbFRvTGlzdEJ1aWxkZXIoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0YnVpbGRlciA9IGNvbnZlcnREYXRhVG9MaXN0QnVpbGRlcigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cclxuXHRcdFx0aWYgKGNhdGVnb3J5LmhlYWRlciAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0YnVpbGRlci5oZWFkZXIgPSBjYXRlZ29yeS5oZWFkZXI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjYXRlZ29yeS5tYXhOdW1iZXJPZkVsZW1lbnRzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRidWlsZGVyLm1heE51bWJlck9mRWxlbWVudHMgPSBjYXRlZ29yeS5tYXhOdW1iZXJPZkVsZW1lbnRzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0XCIpLm1heE51bWJlck9mRWxlbWVudHMgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuXHRcdFx0XHRidWlsZGVyLm1heExpc3RTaXplID0gY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0XCIpLm1heE51bWJlck9mRWxlbWVudHM7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjYXRlZ29yeS5nZXRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgY2F0ZWdvcnkuZ2V0VmFsdWUgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRcdHZhciBkZWZhdWx0c0dldFZhbHVlID0gY2F0ZWdvcnkuZ2V0VmFsdWU7XHJcblx0XHRcdFx0XHRidWlsZGVyLmdldFZhbHVlID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudFtkZWZhdWx0c0dldFZhbHVlXTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgY2F0ZWdvcnkuZ2V0VmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRcdFx0YnVpbGRlci5nZXRWYWx1ZSA9IGNhdGVnb3J5LmdldFZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YnVpbGRlci5nZXRWYWx1ZSA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwiZ2V0VmFsdWVcIik7XHRcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHJcblx0XHRcdHJldHVybiBidWlsZGVyO1xyXG5cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNvbnZlcnRYbWxUb0xpc3RCdWlsZGVyKCkge1xyXG5cclxuXHRcdFx0XHR2YXIgYnVpbGRlciA9IHt9LFxyXG5cdFx0XHRcdFx0bGlzdExvY2F0aW9uO1xyXG5cclxuXHRcdFx0XHRpZiAoY2F0ZWdvcnkueG1sRWxlbWVudE5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0YnVpbGRlci54bWxFbGVtZW50TmFtZSA9IGNhdGVnb3J5LnhtbEVsZW1lbnROYW1lO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGNhdGVnb3J5Lmxpc3RMb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG5cdFx0XHRcdFx0bGlzdExvY2F0aW9uID0gY2F0ZWdvcnkubGlzdExvY2F0aW9uO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoY29uZmlndXJhdGlvbi5nZXQoXCJsaXN0TG9jYXRpb25cIikgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuXHRcdFx0XHRcdGxpc3RMb2NhdGlvbiA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwibGlzdExvY2F0aW9uXCIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGxpc3RMb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIGxpc3RMb2NhdGlvbiA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0XHRidWlsZGVyLmRhdGEgPSAkKGRhdGEpLmZpbmQobGlzdExvY2F0aW9uKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGxpc3RMb2NhdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRidWlsZGVyLmRhdGEgPSBsaXN0TG9jYXRpb24oZGF0YSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRidWlsZGVyLmRhdGEgPSBkYXRhO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGJ1aWxkZXI7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjb252ZXJ0RGF0YVRvTGlzdEJ1aWxkZXIoKSB7XHJcblxyXG5cdFx0XHRcdHZhciBidWlsZGVyID0ge307XHJcblxyXG5cdFx0XHRcdGlmIChjYXRlZ29yeS5saXN0TG9jYXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG5cclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgY2F0ZWdvcnkubGlzdExvY2F0aW9uID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRcdGJ1aWxkZXIuZGF0YSA9IGRhdGFbY2F0ZWdvcnkubGlzdExvY2F0aW9uXTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNhdGVnb3J5Lmxpc3RMb2NhdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHRcdGJ1aWxkZXIuZGF0YSA9IGNhdGVnb3J5Lmxpc3RMb2NhdGlvbihkYXRhKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YnVpbGRlci5kYXRhID0gZGF0YTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBidWlsZGVyO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29udmVydFhtbFRvTGlzdChidWlsZGVyKSB7XHJcblx0XHRcdHZhciBzaW1wbGVMaXN0ID0gW107XHJcblxyXG5cdFx0XHRpZiAoYnVpbGRlci54bWxFbGVtZW50TmFtZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0YnVpbGRlci54bWxFbGVtZW50TmFtZSA9IGNvbmZpZ3VyYXRpb24uZ2V0KFwieG1sRWxlbWVudE5hbWVcIik7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHQkKGJ1aWxkZXIuZGF0YSkuZmluZChidWlsZGVyLnhtbEVsZW1lbnROYW1lKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNpbXBsZUxpc3QucHVzaCh0aGlzKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gc2ltcGxlTGlzdDtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHNjb3BlO1xyXG5cclxufSkoRWFzeUF1dG9jb21wbGV0ZSB8fCB7fSk7XHJcblxyXG5cclxuLypcclxuICogRWFzeUF1dG9jb21wbGV0ZSAtIERhdGEgcHJvY2Nlc3MgbW9kdWxlXHJcbiAqXHJcbiAqIFByb2Nlc3MgbGlzdCB0byBkaXNwbGF5OlxyXG4gKiAtIHNvcnQgXHJcbiAqIC0gZGVjcmVhc2UgbnVtYmVyIHRvIHNwZWNpZmljIG51bWJlclxyXG4gKiAtIHNob3cgb25seSBtYXRjaGluZyBsaXN0XHJcbiAqXHJcbiAqL1xyXG52YXIgRWFzeUF1dG9jb21wbGV0ZSA9IChmdW5jdGlvbihzY29wZSkge1xyXG5cclxuXHRzY29wZS5wcm9jY2VzcyA9IGZ1bmN0aW9uIHByb2NjZXNzRGF0YShjb25maWcsIGxpc3RCdWlsZGVyLCBwaHJhc2UpIHtcclxuXHJcblx0XHRzY29wZS5wcm9jY2Vzcy5tYXRjaCA9IG1hdGNoO1xyXG5cclxuXHRcdHZhciBsaXN0ID0gbGlzdEJ1aWxkZXIuZGF0YSxcclxuXHRcdFx0aW5wdXRQaHJhc2UgPSBwaHJhc2U7Ly9UT0RPIFJFRkFDVE9SXHJcblxyXG5cdFx0bGlzdCA9IGZpbmRNYXRjaChsaXN0LCBpbnB1dFBocmFzZSk7XHJcblx0XHRsaXN0ID0gcmVkdWNlRWxlbWVudHNJbkxpc3QobGlzdCk7XHJcblx0XHRsaXN0ID0gc29ydChsaXN0KTtcclxuXHJcblx0XHRyZXR1cm4gbGlzdDtcclxuXHJcblxyXG5cdFx0ZnVuY3Rpb24gZmluZE1hdGNoKGxpc3QsIHBocmFzZSkge1xyXG5cdFx0XHR2YXIgcHJlcGFyZWRMaXN0ID0gW10sXHJcblx0XHRcdFx0dmFsdWUgPSBcIlwiO1xyXG5cclxuXHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJsaXN0XCIpLm1hdGNoLmVuYWJsZWQpIHtcclxuXHJcblx0XHRcdFx0Zm9yKHZhciBpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xyXG5cclxuXHRcdFx0XHRcdHZhbHVlID0gY29uZmlnLmdldChcImdldFZhbHVlXCIpKGxpc3RbaV0pO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZiAobWF0Y2godmFsdWUsIHBocmFzZSkpIHtcclxuXHRcdFx0XHRcdFx0cHJlcGFyZWRMaXN0LnB1c2gobGlzdFtpXSk7XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHJlcGFyZWRMaXN0ID0gbGlzdDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHByZXBhcmVkTGlzdDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBtYXRjaCh2YWx1ZSwgcGhyYXNlKSB7XHJcblxyXG5cdFx0XHRpZiAoIWNvbmZpZy5nZXQoXCJsaXN0XCIpLm1hdGNoLmNhc2VTZW5zaXRpdmUpIHtcclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1x0XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHBocmFzZSA9IHBocmFzZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjb25maWcuZ2V0KFwibGlzdFwiKS5tYXRjaC5tZXRob2QodmFsdWUsIHBocmFzZSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWR1Y2VFbGVtZW50c0luTGlzdChsaXN0KSB7XHJcblx0XHRcdGlmIChsaXN0QnVpbGRlci5tYXhOdW1iZXJPZkVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiYgbGlzdC5sZW5ndGggPiBsaXN0QnVpbGRlci5tYXhOdW1iZXJPZkVsZW1lbnRzKSB7XHJcblx0XHRcdFx0bGlzdCA9IGxpc3Quc2xpY2UoMCwgbGlzdEJ1aWxkZXIubWF4TnVtYmVyT2ZFbGVtZW50cyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBsaXN0O1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHNvcnQobGlzdCkge1xyXG5cdFx0XHRpZiAoY29uZmlnLmdldChcImxpc3RcIikuc29ydC5lbmFibGVkKSB7XHJcblx0XHRcdFx0bGlzdC5zb3J0KGNvbmZpZy5nZXQoXCJsaXN0XCIpLnNvcnQubWV0aG9kKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGxpc3Q7XHJcblx0XHR9XHJcblx0XHRcclxuXHR9O1xyXG5cclxuXHJcblx0cmV0dXJuIHNjb3BlO1xyXG5cclxuXHJcbn0pKEVhc3lBdXRvY29tcGxldGUgfHwge30pO1xyXG5cclxuXHJcbi8qXHJcbiAqIEVhc3lBdXRvY29tcGxldGUgLSBUZW1wbGF0ZSBcclxuICpcclxuICogXHJcbiAqXHJcbiAqL1xyXG52YXIgRWFzeUF1dG9jb21wbGV0ZSA9IChmdW5jdGlvbihzY29wZSl7XHJcblxyXG5cdHNjb3BlLlRlbXBsYXRlID0gZnVuY3Rpb24gVGVtcGxhdGUob3B0aW9ucykge1xyXG5cclxuXHJcblx0XHR2YXIgZ2VuZXJpY1RlbXBsYXRlcyA9IHtcclxuXHRcdFx0YmFzaWM6IHtcclxuXHRcdFx0XHR0eXBlOiBcImJhc2ljXCIsXHJcblx0XHRcdFx0bWV0aG9kOiBmdW5jdGlvbihlbGVtZW50KSB7IHJldHVybiBlbGVtZW50OyB9LFxyXG5cdFx0XHRcdGNzc0NsYXNzOiBcIlwiXHJcblx0XHRcdH0sXHJcblx0XHRcdGRlc2NyaXB0aW9uOiB7XHJcblx0XHRcdFx0dHlwZTogXCJkZXNjcmlwdGlvblwiLFxyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IFwiZGVzY3JpcHRpb25cIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0bWV0aG9kOiBmdW5jdGlvbihlbGVtZW50KSB7XHRyZXR1cm4gZWxlbWVudCArIFwiIC0gZGVzY3JpcHRpb25cIjsgfSxcclxuXHRcdFx0XHRjc3NDbGFzczogXCJlYWMtZGVzY3JpcHRpb25cIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHRpY29uTGVmdDoge1xyXG5cdFx0XHRcdHR5cGU6IFwiaWNvbkxlZnRcIixcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdGljb246IFwiXCJcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG1ldGhvZDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnQ7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjc3NDbGFzczogXCJlYWMtaWNvbi1sZWZ0XCJcclxuXHRcdFx0fSxcclxuXHRcdFx0aWNvblJpZ2h0OiB7XHJcblx0XHRcdFx0dHlwZTogXCJpY29uUmlnaHRcIixcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdGljb25TcmM6IFwiXCJcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG1ldGhvZDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnQ7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRjc3NDbGFzczogXCJlYWMtaWNvbi1yaWdodFwiXHJcblx0XHRcdH0sXHJcblx0XHRcdGxpbmtzOiB7XHJcblx0XHRcdFx0dHlwZTogXCJsaW5rc1wiLFxyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bGluazogXCJcIlxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0bWV0aG9kOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudDtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGNzc0NsYXNzOiBcIlwiXHJcblx0XHRcdH0sXHJcblx0XHRcdGN1c3RvbToge1xyXG5cdFx0XHRcdHR5cGU6IFwiY3VzdG9tXCIsXHJcblx0XHRcdFx0bWV0aG9kOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0XHRcdGNzc0NsYXNzOiBcIlwiXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cclxuXHJcblx0XHQvKlxyXG5cdFx0ICogQ29udmVydHMgbWV0aG9kIHdpdGgge3t0ZXh0fX0gdG8gZnVuY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0Y29udmVydFRlbXBsYXRlVG9NZXRob2QgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xyXG5cclxuXHJcblx0XHRcdHZhciBfZmllbGRzID0gdGVtcGxhdGUuZmllbGRzLFxyXG5cdFx0XHRcdGJ1aWxkTWV0aG9kO1xyXG5cclxuXHRcdFx0aWYgKHRlbXBsYXRlLnR5cGUgPT09IFwiZGVzY3JpcHRpb25cIikge1xyXG5cclxuXHRcdFx0XHRidWlsZE1ldGhvZCA9IGdlbmVyaWNUZW1wbGF0ZXMuZGVzY3JpcHRpb24ubWV0aG9kOyBcclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiBfZmllbGRzLmRlc2NyaXB0aW9uID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudFZhbHVlICsgXCIgLSA8c3Bhbj5cIiArIGVsZW1lbnRbX2ZpZWxkcy5kZXNjcmlwdGlvbl0gKyBcIjwvc3Bhbj5cIjtcclxuXHRcdFx0XHRcdH07XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIF9maWVsZHMuZGVzY3JpcHRpb24gPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHRcdFx0YnVpbGRNZXRob2QgPSBmdW5jdGlvbihlbGVtZW50VmFsdWUsIGVsZW1lbnQpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnRWYWx1ZSArIFwiIC0gPHNwYW4+XCIgKyBfZmllbGRzLmRlc2NyaXB0aW9uKGVsZW1lbnQpICsgXCI8L3NwYW4+XCI7XHJcblx0XHRcdFx0XHR9O1x0XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gYnVpbGRNZXRob2Q7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0ZW1wbGF0ZS50eXBlID09PSBcImljb25SaWdodFwiKSB7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgX2ZpZWxkcy5pY29uU3JjID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudFZhbHVlICsgXCI8aW1nIGNsYXNzPSdlYWMtaWNvbicgc3JjPSdcIiArIGVsZW1lbnRbX2ZpZWxkcy5pY29uU3JjXSArIFwiJyAvPlwiIDtcclxuXHRcdFx0XHRcdH07XHRcdFx0XHRcdFxyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIF9maWVsZHMuaWNvblNyYyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbWVudFZhbHVlICsgXCI8aW1nIGNsYXNzPSdlYWMtaWNvbicgc3JjPSdcIiArIF9maWVsZHMuaWNvblNyYyhlbGVtZW50KSArIFwiJyAvPlwiIDtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gYnVpbGRNZXRob2Q7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRpZiAodGVtcGxhdGUudHlwZSA9PT0gXCJpY29uTGVmdFwiKSB7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgX2ZpZWxkcy5pY29uU3JjID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRidWlsZE1ldGhvZCA9IGZ1bmN0aW9uKGVsZW1lbnRWYWx1ZSwgZWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gXCI8aW1nIGNsYXNzPSdlYWMtaWNvbicgc3JjPSdcIiArIGVsZW1lbnRbX2ZpZWxkcy5pY29uU3JjXSArIFwiJyAvPlwiICsgZWxlbWVudFZhbHVlO1xyXG5cdFx0XHRcdFx0fTtcdFx0XHRcdFx0XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgX2ZpZWxkcy5pY29uU3JjID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0XHRcdGJ1aWxkTWV0aG9kID0gZnVuY3Rpb24oZWxlbWVudFZhbHVlLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBcIjxpbWcgY2xhc3M9J2VhYy1pY29uJyBzcmM9J1wiICsgX2ZpZWxkcy5pY29uU3JjKGVsZW1lbnQpICsgXCInIC8+XCIgKyBlbGVtZW50VmFsdWU7XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGJ1aWxkTWV0aG9kO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZih0ZW1wbGF0ZS50eXBlID09PSBcImxpbmtzXCIpIHtcclxuXHJcblx0XHRcdFx0aWYgKHR5cGVvZiBfZmllbGRzLmxpbmsgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRcdGJ1aWxkTWV0aG9kID0gZnVuY3Rpb24oZWxlbWVudFZhbHVlLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBcIjxhIGhyZWY9J1wiICsgZWxlbWVudFtfZmllbGRzLmxpbmtdICsgXCInID5cIiArIGVsZW1lbnRWYWx1ZSArIFwiPC9hPlwiO1xyXG5cdFx0XHRcdFx0fTtcdFx0XHRcdFx0XHJcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgX2ZpZWxkcy5saW5rID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdFx0XHRcdGJ1aWxkTWV0aG9kID0gZnVuY3Rpb24oZWxlbWVudFZhbHVlLCBlbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBcIjxhIGhyZWY9J1wiICsgX2ZpZWxkcy5saW5rKGVsZW1lbnQpICsgXCInID5cIiArIGVsZW1lbnRWYWx1ZSArIFwiPC9hPlwiO1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBidWlsZE1ldGhvZDtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdGlmICh0ZW1wbGF0ZS50eXBlID09PSBcImN1c3RvbVwiKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiB0ZW1wbGF0ZS5tZXRob2Q7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBnZW5lcmljVGVtcGxhdGVzLmJhc2ljLm1ldGhvZDtcclxuXHJcblx0XHR9LFxyXG5cclxuXHJcblx0XHRwcmVwYXJlQnVpbGRNZXRob2QgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRcdGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy50eXBlKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiBnZW5lcmljVGVtcGxhdGVzLmJhc2ljLm1ldGhvZDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKG9wdGlvbnMudHlwZSAmJiBnZW5lcmljVGVtcGxhdGVzW29wdGlvbnMudHlwZV0pIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIGNvbnZlcnRUZW1wbGF0ZVRvTWV0aG9kKG9wdGlvbnMpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZ2VuZXJpY1RlbXBsYXRlcy5iYXNpYy5tZXRob2Q7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdHRlbXBsYXRlQ2xhc3MgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblx0XHRcdHZhciBlbXB0eVN0cmluZ0Z1bmN0aW9uID0gZnVuY3Rpb24oKSB7cmV0dXJuIFwiXCI7fTtcclxuXHJcblx0XHRcdGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy50eXBlKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiBlbXB0eVN0cmluZ0Z1bmN0aW9uO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAob3B0aW9ucy50eXBlICYmIGdlbmVyaWNUZW1wbGF0ZXNbb3B0aW9ucy50eXBlXSkge1xyXG5cdFx0XHRcdHJldHVybiAoZnVuY3Rpb24gKCkgeyBcclxuXHRcdFx0XHRcdHZhciBfY3NzQ2xhc3MgPSBnZW5lcmljVGVtcGxhdGVzW29wdGlvbnMudHlwZV0uY3NzQ2xhc3M7XHJcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7IHJldHVybiBfY3NzQ2xhc3M7fTtcclxuXHRcdFx0XHR9KSgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBlbXB0eVN0cmluZ0Z1bmN0aW9uO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHR0aGlzLmdldFRlbXBsYXRlQ2xhc3MgPSB0ZW1wbGF0ZUNsYXNzKG9wdGlvbnMpO1xyXG5cclxuXHRcdHRoaXMuYnVpbGQgPSBwcmVwYXJlQnVpbGRNZXRob2Qob3B0aW9ucyk7XHJcblxyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gc2NvcGU7XHJcblxyXG59KShFYXN5QXV0b2NvbXBsZXRlIHx8IHt9KTtcclxuXHJcblxyXG4vKlxyXG4gKiBFYXN5QXV0b2NvbXBsZXRlIC0galF1ZXJ5IHBsdWdpbiBmb3IgYXV0b2NvbXBsZXRpb25cclxuICpcclxuICovXHJcbnZhciBFYXN5QXV0b2NvbXBsZXRlID0gKGZ1bmN0aW9uKHNjb3BlKSB7XHJcblxyXG5cdFxyXG5cdHNjb3BlLm1haW4gPSBmdW5jdGlvbiBDb3JlKCRpbnB1dCwgb3B0aW9ucykge1xyXG5cdFx0XHRcdFxyXG5cdFx0dmFyIG1vZHVsZSA9IHtcclxuXHRcdFx0XHRuYW1lOiBcIkVhc3lBdXRvY29tcGxldGVcIixcclxuXHRcdFx0XHRzaG9ydGN1dDogXCJlYWNcIlxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdHZhciBjb25zdHMgPSBuZXcgc2NvcGUuQ29uc3RhbnMoKSxcclxuXHRcdFx0Y29uZmlnID0gbmV3IHNjb3BlLkNvbmZpZ3VyYXRpb24ob3B0aW9ucyksXHJcblx0XHRcdGxvZ2dlciA9IG5ldyBzY29wZS5Mb2dnZXIoKSxcclxuXHRcdFx0dGVtcGxhdGUgPSBuZXcgc2NvcGUuVGVtcGxhdGUob3B0aW9ucy50ZW1wbGF0ZSksXHJcblx0XHRcdGxpc3RCdWlsZGVyU2VydmljZSA9IG5ldyBzY29wZS5MaXN0QnVpbGRlclNlcnZpY2UoY29uZmlnLCBzY29wZS5wcm9jY2VzcyksXHJcblx0XHRcdGNoZWNrUGFyYW0gPSBjb25maWcuZXF1YWxzLFxyXG5cclxuXHRcdFx0JGZpZWxkID0gJGlucHV0LCBcclxuXHRcdFx0JGNvbnRhaW5lciA9IFwiXCIsXHJcblx0XHRcdGVsZW1lbnRzTGlzdCA9IFtdLFxyXG5cdFx0XHRzZWxlY3RlZEVsZW1lbnQgPSAtMSxcclxuXHRcdFx0cmVxdWVzdERlbGF5VGltZW91dElkO1xyXG5cclxuXHRcdHNjb3BlLmNvbnN0cyA9IGNvbnN0cztcclxuXHJcblx0XHR0aGlzLmdldENvbnN0YW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gY29uc3RzO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmdldENvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIGNvbmZpZztcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nZXRDb250YWluZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICRjb250YWluZXI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuZ2V0U2VsZWN0ZWRJdGVtSW5kZXggPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHNlbGVjdGVkRWxlbWVudDtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGVsZW1lbnRzTGlzdDtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5nZXRJdGVtRGF0YSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcblxyXG5cdFx0XHRpZiAoZWxlbWVudHNMaXN0Lmxlbmd0aCA8IGluZGV4IHx8IGVsZW1lbnRzTGlzdFtpbmRleF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gZWxlbWVudHNMaXN0W2luZGV4XTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmdldFNlbGVjdGVkSXRlbURhdGEgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0SXRlbURhdGEoc2VsZWN0ZWRFbGVtZW50KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5idWlsZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRwcmVwYXJlRmllbGQoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGluaXQoKTtcclxuXHRcdH07XHJcblx0XHRmdW5jdGlvbiBpbml0KCkge1xyXG5cclxuXHRcdFx0aWYgKCRmaWVsZC5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRsb2dnZXIuZXJyb3IoXCJJbnB1dCBmaWVsZCBkb2Vzbid0IGV4aXN0LlwiKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghY29uZmlnLmNoZWNrRGF0YVVybFByb3BlcnRpZXMoKSkge1xyXG5cdFx0XHRcdGxvZ2dlci5lcnJvcihcIk9uZSBvZiBvcHRpb25zIHZhcmlhYmxlcyAnZGF0YScgb3IgJ3VybCcgbXVzdCBiZSBkZWZpbmVkLlwiKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghY29uZmlnLmNoZWNrUmVxdWlyZWRQcm9wZXJ0aWVzKCkpIHtcclxuXHRcdFx0XHRsb2dnZXIuZXJyb3IoXCJXaWxsIG5vdCB3b3JrIHdpdGhvdXQgbWVudGlvbmVkIHByb3BlcnRpZXMuXCIpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdHByZXBhcmVGaWVsZCgpO1xyXG5cdFx0XHRiaW5kRXZlbnRzKCk7XHRcclxuXHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBwcmVwYXJlRmllbGQoKSB7XHJcblxyXG5cdFx0XHRcdFxyXG5cdFx0XHRpZiAoJGZpZWxkLnBhcmVudCgpLmhhc0NsYXNzKGNvbnN0cy5nZXRWYWx1ZShcIldSQVBQRVJfQ1NTX0NMQVNTXCIpKSkge1xyXG5cdFx0XHRcdHJlbW92ZUNvbnRhaW5lcigpO1xyXG5cdFx0XHRcdHJlbW92ZVdyYXBwZXIoKTtcclxuXHRcdFx0fSBcclxuXHRcdFx0XHJcblx0XHRcdGNyZWF0ZVdyYXBwZXIoKTtcclxuXHRcdFx0Y3JlYXRlQ29udGFpbmVyKCk7XHRcclxuXHJcblx0XHRcdCRjb250YWluZXIgPSAkKFwiI1wiICsgZ2V0Q29udGFpbmVySWQoKSk7XHJcblx0XHRcdGlmIChjb25maWcuZ2V0KFwicGxhY2Vob2xkZXJcIikpIHtcclxuXHRcdFx0XHQkZmllbGQuYXR0cihcInBsYWNlaG9sZGVyXCIsIGNvbmZpZy5nZXQoXCJwbGFjZWhvbGRlclwiKSk7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjcmVhdGVXcmFwcGVyKCkge1xyXG5cdFx0XHRcdHZhciAkd3JhcHBlciA9ICQoXCI8ZGl2PlwiKSxcclxuXHRcdFx0XHRcdGNsYXNzZXMgPSBjb25zdHMuZ2V0VmFsdWUoXCJXUkFQUEVSX0NTU19DTEFTU1wiKTtcclxuXHJcblx0XHRcdFxyXG5cdFx0XHRcdGlmIChjb25maWcuZ2V0KFwidGhlbWVcIikgJiYgY29uZmlnLmdldChcInRoZW1lXCIpICE9PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRjbGFzc2VzICs9IFwiIGVhYy1cIiArIGNvbmZpZy5nZXQoXCJ0aGVtZVwiKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChjb25maWcuZ2V0KFwiY3NzQ2xhc3Nlc1wiKSAmJiBjb25maWcuZ2V0KFwiY3NzQ2xhc3Nlc1wiKSAhPT0gXCJcIikge1xyXG5cdFx0XHRcdFx0Y2xhc3NlcyArPSBcIiBcIiArIGNvbmZpZy5nZXQoXCJjc3NDbGFzc2VzXCIpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHRlbXBsYXRlLmdldFRlbXBsYXRlQ2xhc3MoKSAhPT0gXCJcIikge1xyXG5cdFx0XHRcdFx0Y2xhc3NlcyArPSBcIiBcIiArIHRlbXBsYXRlLmdldFRlbXBsYXRlQ2xhc3MoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdCR3cmFwcGVyXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoY2xhc3Nlcyk7XHJcblx0XHRcdFx0JGZpZWxkLndyYXAoJHdyYXBwZXIpO1xyXG5cclxuXHJcblx0XHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJhZGp1c3RXaWR0aFwiKSA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0YWRqdXN0V3JhcHBlcldpZHRoKCk7XHRcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBhZGp1c3RXcmFwcGVyV2lkdGgoKSB7XHJcblx0XHRcdFx0dmFyIGZpZWxkV2lkdGggPSAkZmllbGQub3V0ZXJXaWR0aCgpO1xyXG5cclxuXHRcdFx0XHQkZmllbGQucGFyZW50KCkuY3NzKFwid2lkdGhcIiwgZmllbGRXaWR0aCk7XHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gcmVtb3ZlV3JhcHBlcigpIHtcclxuXHRcdFx0XHQkZmllbGQudW53cmFwKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNyZWF0ZUNvbnRhaW5lcigpIHtcclxuXHRcdFx0XHR2YXIgJGVsZW1lbnRzX2NvbnRhaW5lciA9ICQoXCI8ZGl2PlwiKS5hZGRDbGFzcyhjb25zdHMuZ2V0VmFsdWUoXCJDT05UQUlORVJfQ0xBU1NcIikpO1xyXG5cclxuXHRcdFx0XHQkZWxlbWVudHNfY29udGFpbmVyXHJcblx0XHRcdFx0XHRcdC5hdHRyKFwiaWRcIiwgZ2V0Q29udGFpbmVySWQoKSlcclxuXHRcdFx0XHRcdFx0LnByZXBlbmQoJChcIjx1bD5cIikpO1xyXG5cclxuXHJcblx0XHRcdFx0KGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXJcclxuXHRcdFx0XHRcdFx0LyogTGlzdCBzaG93IGFuaW1hdGlvbiAqL1xyXG5cdFx0XHRcdFx0XHQub24oXCJzaG93LmVhY1wiLCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0c3dpdGNoKGNvbmZpZy5nZXQoXCJsaXN0XCIpLnNob3dBbmltYXRpb24udHlwZSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgXCJzbGlkZVwiOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgYW5pbWF0aW9uVGltZSA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLnNob3dBbmltYXRpb24udGltZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLnNob3dBbmltYXRpb24uY2FsbGJhY2s7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQkZWxlbWVudHNfY29udGFpbmVyLmZpbmQoXCJ1bFwiKS5zbGlkZURvd24oYW5pbWF0aW9uVGltZSwgY2FsbGJhY2spO1xyXG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSBcImZhZGVcIjpcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGFuaW1hdGlvblRpbWUgPSBjb25maWcuZ2V0KFwibGlzdFwiKS5zaG93QW5pbWF0aW9uLnRpbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBjb25maWcuZ2V0KFwibGlzdFwiKS5zaG93QW5pbWF0aW9uLmNhbGxiYWNrO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JGVsZW1lbnRzX2NvbnRhaW5lci5maW5kKFwidWxcIikuZmFkZUluKGFuaW1hdGlvblRpbWUpLCBjYWxsYmFjaztcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpLnNob3coKTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImxpc3RcIikub25TaG93TGlzdEV2ZW50KCk7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdC8qIExpc3QgaGlkZSBhbmltYXRpb24gKi9cclxuXHRcdFx0XHRcdFx0Lm9uKFwiaGlkZS5lYWNcIiwgZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHN3aXRjaChjb25maWcuZ2V0KFwibGlzdFwiKS5oaWRlQW5pbWF0aW9uLnR5cGUpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwic2xpZGVcIjpcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGFuaW1hdGlvblRpbWUgPSBjb25maWcuZ2V0KFwibGlzdFwiKS5oaWRlQW5pbWF0aW9uLnRpbWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBjb25maWcuZ2V0KFwibGlzdFwiKS5oaWRlQW5pbWF0aW9uLmNhbGxiYWNrO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0JGVsZW1lbnRzX2NvbnRhaW5lci5maW5kKFwidWxcIikuc2xpZGVVcChhbmltYXRpb25UaW1lLCBjYWxsYmFjayk7XHJcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjYXNlIFwiZmFkZVwiOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgYW5pbWF0aW9uVGltZSA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLmhpZGVBbmltYXRpb24udGltZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGNvbmZpZy5nZXQoXCJsaXN0XCIpLmhpZGVBbmltYXRpb24uY2FsbGJhY2s7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQkZWxlbWVudHNfY29udGFpbmVyLmZpbmQoXCJ1bFwiKS5mYWRlT3V0KGFuaW1hdGlvblRpbWUsIGNhbGxiYWNrKTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpLmhpZGUoKTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImxpc3RcIikub25IaWRlTGlzdEV2ZW50KCk7XHJcblxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHQub24oXCJzZWxlY3RFbGVtZW50LmVhY1wiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHQkZWxlbWVudHNfY29udGFpbmVyLmZpbmQoXCJ1bCBsaVwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG5cdFx0XHRcdFx0XHRcdCRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsIGxpXCIpLmVxKHNlbGVjdGVkRWxlbWVudCkuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImxpc3RcIikub25TZWxlY3RJdGVtRXZlbnQoKTtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0Lm9uKFwibG9hZEVsZW1lbnRzLmVhY1wiLCBmdW5jdGlvbihldmVudCwgbGlzdEJ1aWxkZXJzLCBwaHJhc2UpIHtcclxuXHRcdFx0XHJcblxyXG5cdFx0XHRcdFx0XHRcdHZhciAkaXRlbSA9IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0XHQkbGlzdENvbnRhaW5lciA9ICRlbGVtZW50c19jb250YWluZXIuZmluZChcInVsXCIpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQkbGlzdENvbnRhaW5lclxyXG5cdFx0XHRcdFx0XHRcdFx0LmVtcHR5KClcclxuXHRcdFx0XHRcdFx0XHRcdC5kZXRhY2goKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0ZWxlbWVudHNMaXN0ID0gW107XHJcblx0XHRcdFx0XHRcdFx0dmFyIGNvdW50ZXIgPSAwO1xyXG5cdFx0XHRcdFx0XHRcdGZvcih2YXIgYnVpbGRlckluZGV4ID0gMCwgbGlzdEJ1aWxkZXJzTGVuZ3RoID0gbGlzdEJ1aWxkZXJzLmxlbmd0aDsgYnVpbGRlckluZGV4IDwgbGlzdEJ1aWxkZXJzTGVuZ3RoOyBidWlsZGVySW5kZXggKz0gMSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHZhciBsaXN0RGF0YSA9IGxpc3RCdWlsZGVyc1tidWlsZGVySW5kZXhdLmRhdGE7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGxpc3REYXRhLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAobGlzdEJ1aWxkZXJzW2J1aWxkZXJJbmRleF0uaGVhZGVyICE9PSB1bmRlZmluZWQgJiYgbGlzdEJ1aWxkZXJzW2J1aWxkZXJJbmRleF0uaGVhZGVyLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JGxpc3RDb250YWluZXIuYXBwZW5kKFwiPGRpdiBjbGFzcz0nZWFjLWNhdGVnb3J5JyA+XCIgKyBsaXN0QnVpbGRlcnNbYnVpbGRlckluZGV4XS5oZWFkZXIgKyBcIjwvZGl2PlwiKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwLCBsaXN0RGF0YUxlbmd0aCA9IGxpc3REYXRhLmxlbmd0aDsgaSA8IGxpc3REYXRhTGVuZ3RoICYmIGNvdW50ZXIgPCBsaXN0QnVpbGRlcnNbYnVpbGRlckluZGV4XS5tYXhMaXN0U2l6ZTsgaSArPSAxKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCRpdGVtID0gJChcIjxsaT48ZGl2IGNsYXNzPSdlYWMtaXRlbSc+PC9kaXY+PC9saT5cIik7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBqID0gaSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGl0ZW1Db3VudGVyID0gY291bnRlcixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRzVmFsdWUgPSBsaXN0QnVpbGRlcnNbYnVpbGRlckluZGV4XS5nZXRWYWx1ZShsaXN0RGF0YVtqXSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRpdGVtLmZpbmQoXCIgPiBkaXZcIilcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0JGZpZWxkLnZhbChlbGVtZW50c1ZhbHVlKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50ID0gaXRlbUNvdW50ZXI7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdEVsZW1lbnQoaXRlbUNvdW50ZXIpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImxpc3RcIikub25DbGlja0V2ZW50KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbmZpZy5nZXQoXCJsaXN0XCIpLm9uQ2hvb3NlRXZlbnQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQubW91c2VvdmVyKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50ID0gaXRlbUNvdW50ZXI7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNlbGVjdEVsZW1lbnQoaXRlbUNvdW50ZXIpO1x0XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbk1vdXNlT3ZlckV2ZW50KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lm1vdXNlb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbk1vdXNlT3V0RXZlbnQoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuaHRtbCh0ZW1wbGF0ZS5idWlsZChoaWdobGlnaHQoZWxlbWVudHNWYWx1ZSwgcGhyYXNlKSwgbGlzdERhdGFbal0pKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSkoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdCRsaXN0Q29udGFpbmVyLmFwcGVuZCgkaXRlbSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsZW1lbnRzTGlzdC5wdXNoKGxpc3REYXRhW2ldKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y291bnRlciArPSAxO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0JGVsZW1lbnRzX2NvbnRhaW5lci5hcHBlbmQoJGxpc3RDb250YWluZXIpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbkxvYWRFdmVudCgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fSkoKTtcclxuXHJcblx0XHRcdFx0JGZpZWxkLmFmdGVyKCRlbGVtZW50c19jb250YWluZXIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZW1vdmVDb250YWluZXIoKSB7XHJcblx0XHRcdFx0JGZpZWxkLm5leHQoXCIuXCIgKyBjb25zdHMuZ2V0VmFsdWUoXCJDT05UQUlORVJfQ0xBU1NcIikpLnJlbW92ZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBoaWdobGlnaHQoc3RyaW5nLCBwaHJhc2UpIHtcclxuXHJcblx0XHRcdFx0aWYoY29uZmlnLmdldChcImhpZ2hsaWdodFBocmFzZVwiKSAmJiBwaHJhc2UgIT09IFwiXCIpIHtcclxuXHRcdFx0XHRcdHJldHVybiBoaWdobGlnaHRQaHJhc2Uoc3RyaW5nLCBwaHJhc2UpO1x0XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBzdHJpbmc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHtcclxuXHRcdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKTtcclxuIFx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGhpZ2hsaWdodFBocmFzZShzdHJpbmcsIHBocmFzZSkge1xyXG5cdFx0XHRcdHZhciBlc2NhcGVkUGhyYXNlID0gZXNjYXBlUmVnRXhwKHBocmFzZSk7XHJcblx0XHRcdFx0cmV0dXJuIChzdHJpbmcgKyBcIlwiKS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXCIgKyBlc2NhcGVkUGhyYXNlICsgXCIpXCIsIFwiZ2lcIikgLCBcIjxiPiQxPC9iPlwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHJcblxyXG5cdFx0fVxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q29udGFpbmVySWQoKSB7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgZWxlbWVudElkID0gJGZpZWxkLmF0dHIoXCJpZFwiKTtcclxuXHJcblx0XHRcdGVsZW1lbnRJZCA9IGNvbnN0cy5nZXRWYWx1ZShcIkNPTlRBSU5FUl9JRFwiKSArIGVsZW1lbnRJZDtcclxuXHJcblx0XHRcdHJldHVybiBlbGVtZW50SWQ7XHJcblx0XHR9XHJcblx0XHRmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xyXG5cclxuXHRcdFx0YmluZEFsbEV2ZW50cygpO1xyXG5cdFx0XHRcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGJpbmRBbGxFdmVudHMoKSB7XHJcblx0XHRcdFx0aWYgKGNoZWNrUGFyYW0oXCJhdXRvY29tcGxldGVPZmZcIiwgdHJ1ZSkpIHtcclxuXHRcdFx0XHRcdHJlbW92ZUF1dG9jb21wbGV0ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YmluZEZvY3VzT3V0KCk7XHJcblx0XHRcdFx0YmluZEtleXVwKCk7XHJcblx0XHRcdFx0YmluZEtleWRvd24oKTtcclxuXHRcdFx0XHRiaW5kS2V5cHJlc3MoKTtcclxuXHRcdFx0XHRiaW5kRm9jdXMoKTtcclxuXHRcdFx0XHRiaW5kQmx1cigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBiaW5kRm9jdXNPdXQoKSB7XHJcblx0XHRcdFx0JGZpZWxkLmZvY3Vzb3V0KGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHRcdFx0XHR2YXIgZmllbGRWYWx1ZSA9ICRmaWVsZC52YWwoKSxcclxuXHRcdFx0XHRcdFx0cGhyYXNlO1xyXG5cclxuXHRcdFx0XHRcdGlmICghY29uZmlnLmdldChcImxpc3RcIikubWF0Y2guY2FzZVNlbnNpdGl2ZSkge1xyXG5cdFx0XHRcdFx0XHRmaWVsZFZhbHVlID0gZmllbGRWYWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50c0xpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcclxuXHJcblx0XHRcdFx0XHRcdHBocmFzZSA9IGNvbmZpZy5nZXQoXCJnZXRWYWx1ZVwiKShlbGVtZW50c0xpc3RbaV0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoIWNvbmZpZy5nZXQoXCJsaXN0XCIpLm1hdGNoLmNhc2VTZW5zaXRpdmUpIHtcclxuXHRcdFx0XHRcdFx0XHRwaHJhc2UgPSBwaHJhc2UudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHBocmFzZSA9PT0gZmllbGRWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkRWxlbWVudCA9IGk7XHJcblx0XHRcdFx0XHRcdFx0c2VsZWN0RWxlbWVudChzZWxlY3RlZEVsZW1lbnQpO1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBiaW5kS2V5dXAoKSB7XHJcblx0XHRcdFx0JGZpZWxkXHJcblx0XHRcdFx0Lm9mZihcImtleXVwXCIpXHJcblx0XHRcdFx0LmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRcdFx0c3dpdGNoKGV2ZW50LmtleUNvZGUpIHtcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgMjc6XHJcblxyXG5cdFx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcclxuXHRcdFx0XHRcdFx0XHRsb3NlRmllbGRGb2N1cygpO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgMzg6XHJcblxyXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmKGVsZW1lbnRzTGlzdC5sZW5ndGggPiAwICYmIHNlbGVjdGVkRWxlbWVudCA+IDApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RlZEVsZW1lbnQgLT0gMTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKGNvbmZpZy5nZXQoXCJnZXRWYWx1ZVwiKShlbGVtZW50c0xpc3Rbc2VsZWN0ZWRFbGVtZW50XSkpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHNlbGVjdEVsZW1lbnQoc2VsZWN0ZWRFbGVtZW50KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fVx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGNhc2UgNDA6XHJcblxyXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmKGVsZW1lbnRzTGlzdC5sZW5ndGggPiAwICYmIHNlbGVjdGVkRWxlbWVudCA8IGVsZW1lbnRzTGlzdC5sZW5ndGggLSAxKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50ICs9IDE7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0JGZpZWxkLnZhbChjb25maWcuZ2V0KFwiZ2V0VmFsdWVcIikoZWxlbWVudHNMaXN0W3NlbGVjdGVkRWxlbWVudF0pKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRzZWxlY3RFbGVtZW50KHNlbGVjdGVkRWxlbWVudCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChldmVudC5rZXlDb2RlID4gNDAgfHwgZXZlbnQua2V5Q29kZSA9PT0gOCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHZhciBpbnB1dFBocmFzZSA9ICRmaWVsZC52YWwoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIShjb25maWcuZ2V0KFwibGlzdFwiKS5oaWRlT25FbXB0eVBocmFzZSA9PT0gdHJ1ZSAmJiBldmVudC5rZXlDb2RlID09PSA4ICYmIGlucHV0UGhyYXNlID09PSBcIlwiKSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJyZXF1ZXN0RGVsYXlcIikgPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlcXVlc3REZWxheVRpbWVvdXRJZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQocmVxdWVzdERlbGF5VGltZW91dElkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlcXVlc3REZWxheVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBsb2FkRGF0YShpbnB1dFBocmFzZSk7fSwgY29uZmlnLmdldChcInJlcXVlc3REZWxheVwiKSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bG9hZERhdGEoaW5wdXRQaHJhc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aGlkZUNvbnRhaW5lcigpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGxvYWREYXRhKGlucHV0UGhyYXNlKSB7XHJcblxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGlucHV0UGhyYXNlLmxlbmd0aCA8IGNvbmZpZy5nZXQoXCJtaW5DaGFyTnVtYmVyXCIpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGNvbmZpZy5nZXQoXCJkYXRhXCIpICE9PSBcImxpc3QtcmVxdWlyZWRcIikge1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgZGF0YSA9IGNvbmZpZy5nZXQoXCJkYXRhXCIpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR2YXIgbGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLmluaXQoZGF0YSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGxpc3RCdWlsZGVycyA9IGxpc3RCdWlsZGVyU2VydmljZS51cGRhdGVDYXRlZ29yaWVzKGxpc3RCdWlsZGVycywgZGF0YSk7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0bGlzdEJ1aWxkZXJzID0gbGlzdEJ1aWxkZXJTZXJ2aWNlLnByb2Nlc3NEYXRhKGxpc3RCdWlsZGVycywgaW5wdXRQaHJhc2UpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRsb2FkRWxlbWVudHMobGlzdEJ1aWxkZXJzLCBpbnB1dFBocmFzZSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICgkZmllbGQucGFyZW50KCkuZmluZChcImxpXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNob3dDb250YWluZXIoKTtcdFxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRoaWRlQ29udGFpbmVyKCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0dmFyIHNldHRpbmdzID0gY3JlYXRlQWpheFNldHRpbmdzKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoc2V0dGluZ3MudXJsID09PSB1bmRlZmluZWQgfHwgc2V0dGluZ3MudXJsID09PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdFx0c2V0dGluZ3MudXJsID0gY29uZmlnLmdldChcInVybFwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHNldHRpbmdzLmRhdGFUeXBlID09PSB1bmRlZmluZWQgfHwgc2V0dGluZ3MuZGF0YVR5cGUgPT09IFwiXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5kYXRhVHlwZSA9IGNvbmZpZy5nZXQoXCJkYXRhVHlwZVwiKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdGlmIChzZXR0aW5ncy51cmwgIT09IHVuZGVmaW5lZCAmJiBzZXR0aW5ncy51cmwgIT09IFwibGlzdC1yZXF1aXJlZFwiKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLnVybCA9IHNldHRpbmdzLnVybChpbnB1dFBocmFzZSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLmRhdGEgPSBjb25maWcuZ2V0KFwicHJlcGFyZVBvc3REYXRhXCIpKHNldHRpbmdzLmRhdGEsIGlucHV0UGhyYXNlKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0JC5hamF4KHNldHRpbmdzKSBcclxuXHRcdFx0XHRcdFx0XHRcdC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBsaXN0QnVpbGRlcnMgPSBsaXN0QnVpbGRlclNlcnZpY2UuaW5pdChkYXRhKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3RCdWlsZGVycyA9IGxpc3RCdWlsZGVyU2VydmljZS51cGRhdGVDYXRlZ29yaWVzKGxpc3RCdWlsZGVycywgZGF0YSk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0QnVpbGRlcnMgPSBsaXN0QnVpbGRlclNlcnZpY2UuY29udmVydFhtbChsaXN0QnVpbGRlcnMpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hlY2tJbnB1dFBocmFzZU1hdGNoUmVzcG9uc2UoaW5wdXRQaHJhc2UsIGRhdGEpKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGxpc3RCdWlsZGVycyA9IGxpc3RCdWlsZGVyU2VydmljZS5wcm9jZXNzRGF0YShsaXN0QnVpbGRlcnMsIGlucHV0UGhyYXNlKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bG9hZEVsZW1lbnRzKGxpc3RCdWlsZGVycywgaW5wdXRQaHJhc2UpO1x0XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGxpc3RCdWlsZGVyU2VydmljZS5jaGVja0lmRGF0YUV4aXN0cyhsaXN0QnVpbGRlcnMpICYmICRmaWVsZC5wYXJlbnQoKS5maW5kKFwibGlcIikubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNob3dDb250YWluZXIoKTtcdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uZmlnLmdldChcImFqYXhDYWxsYmFja1wiKSgpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHQuZmFpbChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bG9nZ2VyLndhcm5pbmcoXCJGYWlsIHRvIGxvYWQgcmVzcG9uc2UgZGF0YVwiKTtcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0XHQuYWx3YXlzKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcclxuXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZUFqYXhTZXR0aW5ncygpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0dmFyIHNldHRpbmdzID0ge30sXHJcblx0XHRcdFx0XHRcdFx0XHRhamF4U2V0dGluZ3MgPSBjb25maWcuZ2V0KFwiYWpheFNldHRpbmdzXCIpIHx8IHt9O1xyXG5cclxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBzZXQgaW4gYWpheFNldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZXR0aW5nc1tzZXRdID0gYWpheFNldHRpbmdzW3NldF07XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc2V0dGluZ3M7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGZ1bmN0aW9uIGNoZWNrSW5wdXRQaHJhc2VNYXRjaFJlc3BvbnNlKGlucHV0UGhyYXNlLCBkYXRhKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChjb25maWcuZ2V0KFwibWF0Y2hSZXNwb25zZVByb3BlcnR5XCIpICE9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBjb25maWcuZ2V0KFwibWF0Y2hSZXNwb25zZVByb3BlcnR5XCIpID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoZGF0YVtjb25maWcuZ2V0KFwibWF0Y2hSZXNwb25zZVByb3BlcnR5XCIpXSA9PT0gaW5wdXRQaHJhc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgY29uZmlnLmdldChcIm1hdGNoUmVzcG9uc2VQcm9wZXJ0eVwiKSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoY29uZmlnLmdldChcIm1hdGNoUmVzcG9uc2VQcm9wZXJ0eVwiKShkYXRhKSA9PT0gaW5wdXRQaHJhc2UpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGJpbmRLZXlkb3duKCkge1xyXG5cdFx0XHRcdCRmaWVsZFxyXG5cdFx0XHRcdFx0Lm9uKFwia2V5ZG93blwiLCBmdW5jdGlvbihldnQpIHtcclxuXHQgICAgICAgIFx0XHQgICAgZXZ0ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuXHQgICAgICAgIFx0XHQgICAgdmFyIGtleUNvZGUgPSBldnQua2V5Q29kZTtcclxuXHQgICAgICAgIFx0XHQgICAgaWYgKGtleUNvZGUgPT09IDM4KSB7XHJcblx0ICAgICAgICBcdFx0ICAgICAgICBzdXBwcmVzc0tleXByZXNzID0gdHJ1ZTsgXHJcblx0ICAgICAgICBcdFx0ICAgICAgICByZXR1cm4gZmFsc2U7XHJcblx0ICAgICAgICBcdFx0ICAgIH1cclxuXHRcdCAgICAgICAgXHR9KVxyXG5cdFx0XHRcdFx0LmtleWRvd24oZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChldmVudC5rZXlDb2RlID09PSAxMyAmJiBzZWxlY3RlZEVsZW1lbnQgPiAtMSkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQkZmllbGQudmFsKGNvbmZpZy5nZXQoXCJnZXRWYWx1ZVwiKShlbGVtZW50c0xpc3Rbc2VsZWN0ZWRFbGVtZW50XSkpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbktleUVudGVyRXZlbnQoKTtcclxuXHRcdFx0XHRcdFx0XHRjb25maWcuZ2V0KFwibGlzdFwiKS5vbkNob29zZUV2ZW50KCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHNlbGVjdGVkRWxlbWVudCA9IC0xO1xyXG5cdFx0XHRcdFx0XHRcdGhpZGVDb250YWluZXIoKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGJpbmRLZXlwcmVzcygpIHtcclxuXHRcdFx0XHQkZmllbGRcclxuXHRcdFx0XHQub2ZmKFwia2V5cHJlc3NcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGJpbmRGb2N1cygpIHtcclxuXHRcdFx0XHQkZmllbGQuZm9jdXMoZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCRmaWVsZC52YWwoKSAhPT0gXCJcIiAmJiBlbGVtZW50c0xpc3QubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0c2VsZWN0ZWRFbGVtZW50ID0gLTE7XHJcblx0XHRcdFx0XHRcdHNob3dDb250YWluZXIoKTtcdFxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gYmluZEJsdXIoKSB7XHJcblx0XHRcdFx0JGZpZWxkLmJsdXIoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHNlbGVjdGVkRWxlbWVudCA9IC0xO1xyXG5cdFx0XHRcdFx0XHRoaWRlQ29udGFpbmVyKCk7XHJcblx0XHRcdFx0XHR9LCAyNTApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiByZW1vdmVBdXRvY29tcGxldGUoKSB7XHJcblx0XHRcdFx0JGZpZWxkLmF0dHIoXCJhdXRvY29tcGxldGVcIixcIm9mZlwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93Q29udGFpbmVyKCkge1xyXG5cdFx0XHQkY29udGFpbmVyLnRyaWdnZXIoXCJzaG93LmVhY1wiKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoaWRlQ29udGFpbmVyKCkge1xyXG5cdFx0XHQkY29udGFpbmVyLnRyaWdnZXIoXCJoaWRlLmVhY1wiKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzZWxlY3RFbGVtZW50KGluZGV4KSB7XHJcblx0XHRcdFxyXG5cdFx0XHQkY29udGFpbmVyLnRyaWdnZXIoXCJzZWxlY3RFbGVtZW50LmVhY1wiLCBpbmRleCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbG9hZEVsZW1lbnRzKGxpc3QsIHBocmFzZSkge1xyXG5cdFx0XHQkY29udGFpbmVyLnRyaWdnZXIoXCJsb2FkRWxlbWVudHMuZWFjXCIsIFtsaXN0LCBwaHJhc2VdKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBsb3NlRmllbGRGb2N1cygpIHtcclxuXHRcdFx0JGZpZWxkLnRyaWdnZXIoXCJibHVyXCIpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0fTtcclxuXHRzY29wZS5lYWNIYW5kbGVzID0gW107XHJcblxyXG5cdHNjb3BlLmdldEhhbmRsZSA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRyZXR1cm4gc2NvcGUuZWFjSGFuZGxlc1tpZF07XHJcblx0fTtcclxuXHJcblx0c2NvcGUuaW5wdXRIYXNJZCA9IGZ1bmN0aW9uKGlucHV0KSB7XHJcblxyXG5cdFx0aWYoJChpbnB1dCkuYXR0cihcImlkXCIpICE9PSB1bmRlZmluZWQgJiYgJChpbnB1dCkuYXR0cihcImlkXCIpLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHNjb3BlLmFzc2lnblJhbmRvbUlkID0gZnVuY3Rpb24oaW5wdXQpIHtcclxuXHJcblx0XHR2YXIgZmllbGRJZCA9IFwiXCI7XHJcblxyXG5cdFx0ZG8ge1xyXG5cdFx0XHRmaWVsZElkID0gXCJlYWMtXCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XHRcdFxyXG5cdFx0fSB3aGlsZSAoJChcIiNcIiArIGZpZWxkSWQpLmxlbmd0aCAhPT0gMCk7XHJcblx0XHRcclxuXHRcdGVsZW1lbnRJZCA9IHNjb3BlLmNvbnN0cy5nZXRWYWx1ZShcIkNPTlRBSU5FUl9JRFwiKSArIGZpZWxkSWQ7XHJcblxyXG5cdFx0JChpbnB1dCkuYXR0cihcImlkXCIsIGZpZWxkSWQpO1xyXG4gXHJcblx0fTtcclxuXHJcblx0c2NvcGUuc2V0SGFuZGxlID0gZnVuY3Rpb24oaGFuZGxlLCBpZCkge1xyXG5cdFx0c2NvcGUuZWFjSGFuZGxlc1tpZF0gPSBoYW5kbGU7XHJcblx0fTtcclxuXHJcblxyXG5cdHJldHVybiBzY29wZTtcclxuXHJcbn0pKEVhc3lBdXRvY29tcGxldGUgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKCQpIHtcclxuXHJcblx0JC5mbi5lYXN5QXV0b2NvbXBsZXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkdGhpcyA9ICQodGhpcyksXHJcblx0XHRcdFx0ZWFjSGFuZGxlID0gbmV3IEVhc3lBdXRvY29tcGxldGUubWFpbigkdGhpcywgb3B0aW9ucyk7XHJcblxyXG5cdFx0XHRpZiAoIUVhc3lBdXRvY29tcGxldGUuaW5wdXRIYXNJZCgkdGhpcykpIHtcclxuXHRcdFx0XHRFYXN5QXV0b2NvbXBsZXRlLmFzc2lnblJhbmRvbUlkKCR0aGlzKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWFjSGFuZGxlLmluaXQoKTtcclxuXHJcblx0XHRcdEVhc3lBdXRvY29tcGxldGUuc2V0SGFuZGxlKGVhY0hhbmRsZSwgJHRoaXMuYXR0cihcImlkXCIpKTtcclxuXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQkLmZuLmdldFNlbGVjdGVkSXRlbUluZGV4ID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0dmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuXHJcblx0XHRpZiAoaW5wdXRJZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBFYXN5QXV0b2NvbXBsZXRlLmdldEhhbmRsZShpbnB1dElkKS5nZXRTZWxlY3RlZEl0ZW1JbmRleCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAtMTtcclxuXHR9O1xyXG5cclxuXHQkLmZuLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdHZhciBpbnB1dElkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XHJcblxyXG5cdFx0aWYgKGlucHV0SWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gRWFzeUF1dG9jb21wbGV0ZS5nZXRIYW5kbGUoaW5wdXRJZCkuZ2V0SXRlbXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fTtcclxuXHJcblx0JC5mbi5nZXRJdGVtRGF0YSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcblxyXG5cdFx0dmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuXHJcblx0XHRpZiAoaW5wdXRJZCAhPT0gdW5kZWZpbmVkICYmIGluZGV4ID4gLTEpIHtcclxuXHRcdFx0cmV0dXJuIEVhc3lBdXRvY29tcGxldGUuZ2V0SGFuZGxlKGlucHV0SWQpLmdldEl0ZW1EYXRhKGluZGV4KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fTtcclxuXHJcblx0JC5mbi5nZXRTZWxlY3RlZEl0ZW1EYXRhID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0dmFyIGlucHV0SWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcclxuXHJcblx0XHRpZiAoaW5wdXRJZCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiBFYXN5QXV0b2NvbXBsZXRlLmdldEhhbmRsZShpbnB1dElkKS5nZXRTZWxlY3RlZEl0ZW1EYXRhKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH07XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMjAuMVxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgaG9va0NhbGxiYWNrO1xuXG5mdW5jdGlvbiBob29rcyAoKSB7XG4gICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG4vLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuLy8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG5mdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA9PT0gMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGs7XG4gICAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCA9PT0gdm9pZCAwO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE51bWJlcl0nO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cblxuZnVuY3Rpb24gbWFwKGFyciwgZm4pIHtcbiAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICByZXMucHVzaChmbihhcnJbaV0sIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgaSkpIHtcbiAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgfVxuXG4gICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQYXJzaW5nRmxhZ3MoKSB7XG4gICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgIHJldHVybiB7XG4gICAgICAgIGVtcHR5ICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG4gICAgICAgIG92ZXJmbG93ICAgICAgICA6IC0yLFxuICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcbiAgICAgICAgaW52YWxpZE1vbnRoICAgIDogbnVsbCxcbiAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuICAgICAgICBpc28gICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgIG1lcmlkaWVtICAgICAgICA6IG51bGwsXG4gICAgICAgIHJmYzI4MjIgICAgICAgICA6IGZhbHNlLFxuICAgICAgICB3ZWVrZGF5TWlzbWF0Y2ggOiBmYWxzZVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcbiAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgIWZsYWdzLndlZWtkYXlNaXNtYXRjaCAmJlxuICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbW9tZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbnZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLlxuICAgIC8vIFRPRE86IFJlbW92ZSBcIm9yZGluYWxQYXJzZVwiIGZhbGxiYWNrIGluIG5leHQgbWFqb3IgcmVsZWFzZS5cbiAgICB0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICh0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlLnNvdXJjZSB8fCB0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlKSArXG4gICAgICAgICAgICAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxudmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcbiAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcbiAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICBzYW1lRWxzZSA6ICdMJ1xufTtcblxuZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fY2FsZW5kYXJba2V5XSB8fCB0aGlzLl9jYWxlbmRhclsnc2FtZUVsc2UnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xufVxuXG52YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcbiAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG59O1xuXG5mdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xufVxuXG52YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbmZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG59XG5cbnZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG52YXIgZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG5mdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG59XG5cbnZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgc3MgOiAnJWQgc2Vjb25kcycsXG4gICAgbSAgOiAnYSBtaW51dGUnLFxuICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgIGggIDogJ2FuIGhvdXInLFxuICAgIGhoIDogJyVkIGhvdXJzJyxcbiAgICBkICA6ICdhIGRheScsXG4gICAgZGQgOiAnJWQgZGF5cycsXG4gICAgTSAgOiAnYSBtb250aCcsXG4gICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICB5ICA6ICdhIHllYXInLFxuICAgIHl5IDogJyVkIHllYXJzJ1xufTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbn1cblxuZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbn1cblxudmFyIGFsaWFzZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgIHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbn1cblxudmFyIHByaW9yaXRpZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgdmFyIHVuaXRzID0gW107XG4gICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgIH1cbiAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pdHM7XG59XG5cbmZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICByZXR1cm4gKHNpZ24gPyAoZm9yY2VTaWduID8gJysnIDogJycpIDogJy0nKSArXG4gICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xufVxuXG52YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cbnZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG52YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cbnZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXG4vLyB0b2tlbjogICAgJ00nXG4vLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4vLyBvcmRpbmFsOiAgJ01vJ1xuLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG5mdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgfVxuICAgIGlmIChwYWRkZWQpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9yZGluYWwpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcbn1cblxuZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICcnLCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBpc0Z1bmN0aW9uKGFycmF5W2ldKSA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuXG4vLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbmZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xufVxuXG5mdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICB2YXIgaSA9IDU7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgfVxuXG4gICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGkgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuXG52YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxudmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxudmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxudmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbnZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbnZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG52YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbnZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG52YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cbnZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbnZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxudmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbnZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbnZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbi8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xudmFyIG1hdGNoV29yZCA9IC9bMC05XXswLDI1Nn1bJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkYwN1xcdUZGMTAtXFx1RkZFRl17MSwyNTZ9fFtcXHUwNjAwLVxcdTA2RkZcXC9dezEsMjU2fShcXHMqP1tcXHUwNjAwLVxcdTA2RkZdezEsMjU2fSl7MSwyfS9pO1xuXG5cbnZhciByZWdleGVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcbn1cblxuLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xufVxuXG52YXIgdG9rZW5zID0ge307XG5cbmZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgIH1cbn1cblxudmFyIFlFQVIgPSAwO1xudmFyIE1PTlRIID0gMTtcbnZhciBEQVRFID0gMjtcbnZhciBIT1VSID0gMztcbnZhciBNSU5VVEUgPSA0O1xudmFyIFNFQ09ORCA9IDU7XG52YXIgTUlMTElTRUNPTkQgPSA2O1xudmFyIFdFRUsgPSA3O1xudmFyIFdFRUtEQVkgPSA4O1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbn1cblxuZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICBpZiAobW9tLmlzVmFsaWQoKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgIGlmICh1bml0ID09PSAnRnVsbFllYXInICYmIGlzTGVhcFllYXIobW9tLnllYXIoKSkgJiYgbW9tLm1vbnRoKCkgPT09IDEgJiYgbW9tLmRhdGUoKSA9PT0gMjkpIHtcbiAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSwgbW9tLm1vbnRoKCksIGRheXNJbk1vbnRoKHZhbHVlLCBtb20ubW9udGgoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBtb2QobiwgeCkge1xuICAgIHJldHVybiAoKG4gJSB4KSArIHgpICUgeDtcbn1cblxudmFyIGluZGV4T2Y7XG5cbmlmIChBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuICAgIGluZGV4T2YgPSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZjtcbn0gZWxzZSB7XG4gICAgaW5kZXhPZiA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIC8vIEkga25vd1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBvKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgaWYgKGlzTmFOKHllYXIpIHx8IGlzTmFOKG1vbnRoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICB2YXIgbW9kTW9udGggPSBtb2QobW9udGgsIDEyKTtcbiAgICB5ZWFyICs9IChtb250aCAtIG1vZE1vbnRoKSAvIDEyO1xuICAgIHJldHVybiBtb2RNb250aCA9PT0gMSA/IChpc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCkgOiAoMzEgLSBtb2RNb250aCAlIDcgJSAyKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG4vLyBMT0NBTEVTXG5cbnZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xudmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHMgOlxuICAgICAgICAgICAgdGhpcy5fbW9udGhzWydzdGFuZGFsb25lJ107XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydCA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFsnc3RhbmRhbG9uZSddO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcbiAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRbTU9OVEhTX0lOX0ZPUk1BVC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSBtb250aE5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHVzZWRcbiAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyArK2kpIHtcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlLmNhbGwodGhpcywgbW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlclxuICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdHJpY3QgJiYgIXRoaXMuX21vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTU0nICYmIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX21vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gc2V0TW9udGggKG1vbSwgdmFsdWUpIHtcbiAgICB2YXIgZGF5T2ZNb250aDtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyAnTW9udGgnXSh2YWx1ZSwgZGF5T2ZNb250aCk7XG4gICAgcmV0dXJuIG1vbTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0TW9udGggKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBnZXQodGhpcywgJ01vbnRoJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXlzSW5Nb250aCAoKSB7XG4gICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xufVxuXG52YXIgZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiBtb250aHNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1JlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBkZWZhdWx0TW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlTW9udGhzUGFyc2UgKCkge1xuICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksIG1vbTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgICAgIGxvbmdQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAvLyBjYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMTgxMzQ4XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cbiAgICAvLyB0aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgZGF0ZS5zZXRVVENGdWxsWWVhcih5KTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG59XG5cbi8vIHN0YXJ0LW9mLWZpcnN0LXdlZWsgLSBzdGFydC1vZi15ZWFyXG5mdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgLy8gZmlyc3Qtd2VlayBkYXkgLS0gd2hpY2ggamFudWFyeSBpcyBhbHdheXMgaW4gdGhlIGZpcnN0IHdlZWsgKDQgZm9yIGlzbywgMSBmb3Igb3RoZXIpXG4gICAgICAgIGZ3ZCA9IDcgKyBkb3cgLSBkb3ksXG4gICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgZndkbHcgPSAoNyArIGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgZndkKS5nZXRVVENEYXkoKSAtIGRvdykgJSA3O1xuXG4gICAgcmV0dXJuIC1md2RsdyArIGZ3ZCAtIDE7XG59XG5cbi8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgcmVzV2VlaywgcmVzWWVhcjtcblxuICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICByZXNXZWVrID0gd2VlaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWVrOiByZXNXZWVrLFxuICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIHdlZWtPZmZzZXROZXh0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIgKyAxLCBkb3csIGRveSk7XG4gICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG5hZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG59O1xuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbmFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxuXG4gICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgfVxuICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG59XG5cbi8vIExPQ0FMRVNcblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fd2Vla2RheXMpID8gdGhpcy5fd2Vla2RheXMgOlxuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNbJ3N0YW5kYWxvbmUnXTtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fd2Vla2RheXMpID8gdGhpcy5fd2Vla2RheXNbbS5kYXkoKV0gOlxuICAgICAgICB0aGlzLl93ZWVrZGF5c1t0aGlzLl93ZWVrZGF5cy5pc0Zvcm1hdC50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5kYXkoKV07XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCA9ICdTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXQnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG4gICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluID0gJ1N1X01vX1R1X1dlX1RoX0ZyX1NhJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c01pbjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlICh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlJDEuY2FsbCh0aGlzLCB3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcblxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGRkJyAmJiB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZCcgJiYgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fd2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpbnB1dCA9IHBhcnNlV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRheTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldExvY2FsZURheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWtkYXkgOiB0aGlzLmFkZChpbnB1dCAtIHdlZWtkYXksICdkJyk7XG59XG5cbmZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG5cbiAgICAvLyBiZWhhdmVzIHRoZSBzYW1lIGFzIG1vbWVudCNkYXkgZXhjZXB0XG4gICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcbiAgICAvLyBhcyBhIHNldHRlciwgc3VuZGF5IHNob3VsZCBiZWxvbmcgdG8gdGhlIHByZXZpb3VzIHdlZWsuXG5cbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgd2Vla2RheSA9IHBhcnNlSXNvV2Vla2RheShpbnB1dCwgdGhpcy5sb2NhbGVEYXRhKCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkodGhpcy5kYXkoKSAlIDcgPyB3ZWVrZGF5IDogd2Vla2RheSAtIDcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSgpIHx8IDc7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNNaW5SZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c01pblJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSBkZWZhdWx0V2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gY29tcHV0ZVdlZWtkYXlzUGFyc2UgKCkge1xuICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLCBtb20sIG1pbnAsIHNob3J0cCwgbG9uZ3A7XG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBtaW5wID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICBsb25ncCA9IHRoaXMud2Vla2RheXMobW9tLCAnJyk7XG4gICAgICAgIG1pblBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICBtaW5QaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBtaXhlZFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cbiAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmZ1bmN0aW9uIGhGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xufVxuXG5mdW5jdGlvbiBrRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XG59XG5cbmFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuYWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuYWRkRm9ybWF0VG9rZW4oJ2snLCBbJ2trJywgMl0sIDAsIGtGb3JtYXQpO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbn0pO1xuXG5mdW5jdGlvbiBtZXJpZGllbSAodG9rZW4sIGxvd2VyY2FzZSkge1xuICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpO1xuICAgIH0pO1xufVxuXG5tZXJpZGllbSgnYScsIHRydWUpO1xubWVyaWRpZW0oJ0EnLCBmYWxzZSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnaG91cicsIDEzKTtcblxuLy8gUEFSU0lOR1xuXG5mdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcbn1cblxuYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbmFkZFJlZ2V4VG9rZW4oJ0EnLCAgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdIJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdrJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2hoJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbigna2snLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5hZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG5hZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbmFkZFBhcnNlVG9rZW4oWydrJywgJ2trJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBrSW5wdXQgPSB0b0ludChpbnB1dCk7XG4gICAgYXJyYXlbSE9VUl0gPSBrSW5wdXQgPT09IDI0ID8gMCA6IGtJbnB1dDtcbn0pO1xuYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xufSk7XG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcbiAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XG4gICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgIH1cbn1cblxuXG4vLyBNT01FTlRTXG5cbi8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuLy8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgaGUgd2FudHMuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4vLyB0aGlzIHJ1bGUuXG52YXIgZ2V0U2V0SG91ciA9IG1ha2VHZXRTZXQoJ0hvdXJzJywgdHJ1ZSk7XG5cbi8vIG1vbnRoc1xuLy8gd2Vla1xuLy8gd2Vla2RheXNcbi8vIG1lcmlkaWVtXG52YXIgYmFzZUNvbmZpZyA9IHtcbiAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcbiAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSxcbiAgICByZWxhdGl2ZVRpbWU6IGRlZmF1bHRSZWxhdGl2ZVRpbWUsXG5cbiAgICBtb250aHM6IGRlZmF1bHRMb2NhbGVNb250aHMsXG4gICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblxuICAgIHdlZWs6IGRlZmF1bHRMb2NhbGVXZWVrLFxuXG4gICAgd2Vla2RheXM6IGRlZmF1bHRMb2NhbGVXZWVrZGF5cyxcbiAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuICAgIHdlZWtkYXlzU2hvcnQ6IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LFxuXG4gICAgbWVyaWRpZW1QYXJzZTogZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2Vcbn07XG5cbi8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcbnZhciBsb2NhbGVzID0ge307XG52YXIgbG9jYWxlRmFtaWxpZXMgPSB7fTtcbnZhciBnbG9iYWxMb2NhbGU7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUxvY2FsZShrZXkpIHtcbiAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG59XG5cbi8vIHBpY2sgdGhlIGxvY2FsZSBmcm9tIHRoZSBhcnJheVxuLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbi8vIHN1YnN0cmluZyBmcm9tIG1vc3Qgc3BlY2lmaWMgdG8gbGVhc3QsIGJ1dCBtb3ZlIHRvIHRoZSBuZXh0IGFycmF5IGl0ZW0gaWYgaXQncyBhIG1vcmUgc3BlY2lmaWMgdmFyaWFudCB0aGFuIHRoZSBjdXJyZW50IHJvb3RcbmZ1bmN0aW9uIGNob29zZUxvY2FsZShuYW1lcykge1xuICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblxuICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHNwbGl0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2ldKS5zcGxpdCgnLScpO1xuICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xuICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XG4gICAgICAgIG5leHQgPSBuZXh0ID8gbmV4dC5zcGxpdCgnLScpIDogbnVsbDtcbiAgICAgICAgd2hpbGUgKGogPiAwKSB7XG4gICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XG4gICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0ICYmIG5leHQubGVuZ3RoID49IGogJiYgY29tcGFyZUFycmF5cyhzcGxpdCwgbmV4dCwgdHJ1ZSkgPj0gaiAtIDEpIHtcbiAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBqLS07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgdmFyIG9sZExvY2FsZSA9IG51bGw7XG4gICAgLy8gVE9ETzogRmluZCBhIGJldHRlciB3YXkgdG8gcmVnaXN0ZXIgYW5kIGxvYWQgYWxsIHRoZSBsb2NhbGVzIGluIE5vZGVcbiAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSAmJlxuICAgICAgICAgICAgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbGRMb2NhbGUgPSBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgICAgICAgICB2YXIgYWxpYXNlZFJlcXVpcmUgPSByZXF1aXJlO1xuICAgICAgICAgICAgYWxpYXNlZFJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4vLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuLy8gbG9jYWxlIGtleS5cbmZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG4gICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxvY2FsZSwgdG1wTG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAvLyBNRVJHRVxuICAgICAgICB0bXBMb2NhbGUgPSBsb2FkTG9jYWxlKG5hbWUpO1xuICAgICAgICBpZiAodG1wTG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IHRtcExvY2FsZS5fY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIHJldHVybnMgbG9jYWxlIGRhdGFcbmZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcblxuICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSBba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgIHJldHVybiBrZXlzKGxvY2FsZXMpO1xufVxuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93IChtKSB7XG4gICAgdmFyIG92ZXJmbG93O1xuICAgIHZhciBhID0gbS5fYTtcblxuICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcbiAgICAgICAgb3ZlcmZsb3cgPVxuICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgYVtEQVRFXSAgICAgICAgPCAxIHx8IGFbREFURV0gICAgICAgID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pID8gREFURSA6XG4gICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgIGFbU0VDT05EXSAgICAgIDwgMCB8fCBhW1NFQ09ORF0gICAgICA+IDU5ICA/IFNFQ09ORCA6XG4gICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG4gICAgICAgICAgICAtMTtcblxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJiAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSkpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gREFURTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtzICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla2RheSAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFS0RBWTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9IG92ZXJmbG93O1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vLyBQaWNrIHRoZSBmaXJzdCBkZWZpbmVkIG9mIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXG5mdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3RcbiAgICB2YXIgbm93VmFsdWUgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSwgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpXTtcbiAgICB9XG4gICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xufVxuXG4vLyBjb252ZXJ0IGFuIGFycmF5IHRvIGEgZGF0ZS5cbi8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4vLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cbi8vIFt5ZWFyLCBtb250aCwgZGF5ICwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kXVxuZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIGV4cGVjdGVkV2Vla2RheSwgeWVhclRvVXNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyICE9IG51bGwpIHtcbiAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpIHx8IGNvbmZpZy5fZGF5T2ZZZWFyID09PSAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG4gICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgIH1cblxuICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgfVxuXG4gICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcbiAgICBleHBlY3RlZFdlZWtkYXkgPSBjb25maWcuX3VzZVVUQyA/IGNvbmZpZy5fZC5nZXRVVENEYXkoKSA6IGNvbmZpZy5fZC5nZXREYXkoKTtcblxuICAgIC8vIEFwcGx5IHRpbWV6b25lIG9mZnNldCBmcm9tIGlucHV0LiBUaGUgYWN0dWFsIHV0Y09mZnNldCBjYW4gYmUgY2hhbmdlZFxuICAgIC8vIHdpdGggcGFyc2Vab25lLlxuICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAyNDtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBmb3IgbWlzbWF0Y2hpbmcgZGF5IG9mIHdlZWtcbiAgICBpZiAoY29uZmlnLl93ICYmIHR5cGVvZiBjb25maWcuX3cuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uZmlnLl93LmQgIT09IGV4cGVjdGVkV2Vla2RheSkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gaXNvIDg2MDEgcmVnZXhcbi8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxudmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG52YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbnZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG52YXIgaXNvRGF0ZXMgPSBbXG4gICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG4gICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cbl07XG5cbi8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbnZhciBpc29UaW1lcyA9IFtcbiAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIJywgL1xcZFxcZC9dXG5dO1xuXG52YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgdmFyIGksIGwsXG4gICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcbiAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xudmFyIHJmYzI4MjIgPSAvXig/OihNb258VHVlfFdlZHxUaHV8RnJpfFNhdHxTdW4pLD9cXHMpPyhcXGR7MSwyfSlcXHMoSmFufEZlYnxNYXJ8QXByfE1heXxKdW58SnVsfEF1Z3xTZXB8T2N0fE5vdnxEZWMpXFxzKFxcZHsyLDR9KVxccyhcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKT9cXHMoPzooVVR8R01UfFtFQ01QXVtTRF1UKXwoW1p6XSl8KFsrLV1cXGR7NH0pKSQvO1xuXG5mdW5jdGlvbiBleHRyYWN0RnJvbVJGQzI4MjJTdHJpbmdzKHllYXJTdHIsIG1vbnRoU3RyLCBkYXlTdHIsIGhvdXJTdHIsIG1pbnV0ZVN0ciwgc2Vjb25kU3RyKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgdW50cnVuY2F0ZVllYXIoeWVhclN0ciksXG4gICAgICAgIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydC5pbmRleE9mKG1vbnRoU3RyKSxcbiAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgIHBhcnNlSW50KGhvdXJTdHIsIDEwKSxcbiAgICAgICAgcGFyc2VJbnQobWludXRlU3RyLCAxMClcbiAgICBdO1xuXG4gICAgaWYgKHNlY29uZFN0cikge1xuICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzZWNvbmRTdHIsIDEwKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhclN0cikge1xuICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoeWVhclN0ciwgMTApO1xuICAgIGlmICh5ZWFyIDw9IDQ5KSB7XG4gICAgICAgIHJldHVybiAyMDAwICsgeWVhcjtcbiAgICB9IGVsc2UgaWYgKHllYXIgPD0gOTk5KSB7XG4gICAgICAgIHJldHVybiAxOTAwICsgeWVhcjtcbiAgICB9XG4gICAgcmV0dXJuIHllYXI7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHMpIHtcbiAgICAvLyBSZW1vdmUgY29tbWVudHMgYW5kIGZvbGRpbmcgd2hpdGVzcGFjZSBhbmQgcmVwbGFjZSBtdWx0aXBsZS1zcGFjZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuICAgIHJldHVybiBzLnJlcGxhY2UoL1xcKFteKV0qXFwpfFtcXG5cXHRdL2csICcgJykucmVwbGFjZSgvKFxcc1xccyspL2csICcgJykudHJpbSgpO1xufVxuXG5mdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgIGlmICh3ZWVrZGF5U3RyKSB7XG4gICAgICAgIC8vIFRPRE86IFJlcGxhY2UgdGhlIHZhbmlsbGEgSlMgRGF0ZSBvYmplY3Qgd2l0aCBhbiBpbmRlcGVudGVudCBkYXktb2Ytd2VlayBjaGVjay5cbiAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICB3ZWVrZGF5QWN0dWFsID0gbmV3IERhdGUocGFyc2VkSW5wdXRbMF0sIHBhcnNlZElucHV0WzFdLCBwYXJzZWRJbnB1dFsyXSkuZ2V0RGF5KCk7XG4gICAgICAgIGlmICh3ZWVrZGF5UHJvdmlkZWQgIT09IHdlZWtkYXlBY3R1YWwpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIG9ic09mZnNldHMgPSB7XG4gICAgVVQ6IDAsXG4gICAgR01UOiAwLFxuICAgIEVEVDogLTQgKiA2MCxcbiAgICBFU1Q6IC01ICogNjAsXG4gICAgQ0RUOiAtNSAqIDYwLFxuICAgIENTVDogLTYgKiA2MCxcbiAgICBNRFQ6IC02ICogNjAsXG4gICAgTVNUOiAtNyAqIDYwLFxuICAgIFBEVDogLTcgKiA2MCxcbiAgICBQU1Q6IC04ICogNjBcbn07XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU9mZnNldChvYnNPZmZzZXQsIG1pbGl0YXJ5T2Zmc2V0LCBudW1PZmZzZXQpIHtcbiAgICBpZiAob2JzT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgfSBlbHNlIGlmIChtaWxpdGFyeU9mZnNldCkge1xuICAgICAgICAvLyB0aGUgb25seSBhbGxvd2VkIG1pbGl0YXJ5IHR6IGlzIFpcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGhtID0gcGFyc2VJbnQobnVtT2Zmc2V0LCAxMCk7XG4gICAgICAgIHZhciBtID0gaG0gJSAxMDAsIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgcmV0dXJuIGggKiA2MCArIG07XG4gICAgfVxufVxuXG4vLyBkYXRlIGFuZCB0aW1lIGZyb20gcmVmIDI4MjIgZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tUkZDMjgyMihjb25maWcpIHtcbiAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHZhciBwYXJzZWRBcnJheSA9IGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MobWF0Y2hbNF0sIG1hdGNoWzNdLCBtYXRjaFsyXSwgbWF0Y2hbNV0sIG1hdGNoWzZdLCBtYXRjaFs3XSk7XG4gICAgICAgIGlmICghY2hlY2tXZWVrZGF5KG1hdGNoWzFdLCBwYXJzZWRBcnJheSwgY29uZmlnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnLl9hID0gcGFyc2VkQXJyYXk7XG4gICAgICAgIGNvbmZpZy5fdHptID0gY2FsY3VsYXRlT2Zmc2V0KG1hdGNoWzhdLCBtYXRjaFs5XSwgbWF0Y2hbMTBdKTtcblxuICAgICAgICBjb25maWcuX2QgPSBjcmVhdGVVVENEYXRlLmFwcGx5KG51bGwsIGNvbmZpZy5fYSk7XG4gICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucmZjMjgyMiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhjb25maWcpIHtcbiAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cbiAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbVJGQzI4MjIoY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaW5hbCBhdHRlbXB0LCB1c2UgSW5wdXQgRmFsbGJhY2tcbiAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xufVxuXG5ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBSRkMyODIyIG9yIElTTyBmb3JtYXQuIG1vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlKCksICcgK1xuICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICdkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcbiAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgIH1cbik7XG5cbi8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBJU08gc3RhbmRhcmRcbmhvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbi8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXG5ob29rcy5SRkNfMjgyMiA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLlJGQ18yODIyKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uZmlnLl9hID0gW107XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblxuICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAvLyAgICAgICAgICdyZWdleCcsIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSk7XG4gICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAvLyBoYW5kbGUgbWVyaWRpZW1cbiAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG59XG5cblxuZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgdmFyIGlzUG07XG5cbiAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbiAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcbiAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcbiAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgYmVzdE1vbWVudCxcblxuICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgaSxcbiAgICAgICAgY3VycmVudFNjb3JlO1xuXG4gICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWQodGVtcENvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuICAgIH0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgaWYgKHJlcy5fbmV4dERheSkge1xuICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cbiAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHtudWxsSW5wdXQ6IHRydWV9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gIGVsc2Uge1xuICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShob29rcy5ub3coKSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9iaiwgMTApO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICBjLl9sID0gbG9jYWxlO1xuICAgIGMuX2kgPSBpbnB1dDtcbiAgICBjLl9mID0gZm9ybWF0O1xuICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblxuICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbCAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xufVxuXG52YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbnZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbi8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbi8vXG4vLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4vLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgdmFyIHJlcywgaTtcbiAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICB9XG4gICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcbiAgICB9XG4gICAgcmVzID0gbW9tZW50c1swXTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbmZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xufVxuXG5mdW5jdGlvbiBtYXggKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xufVxuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xufTtcblxudmFyIG9yZGVyaW5nID0gWyd5ZWFyJywgJ3F1YXJ0ZXInLCAnbW9udGgnLCAnd2VlaycsICdkYXknLCAnaG91cicsICdtaW51dGUnLCAnc2Vjb25kJywgJ21pbGxpc2Vjb25kJ107XG5cbmZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG0pIHtcbiAgICAgICAgaWYgKCEoaW5kZXhPZi5jYWxsKG9yZGVyaW5nLCBrZXkpICE9PSAtMSAmJiAobVtrZXldID09IG51bGwgfHwgIWlzTmFOKG1ba2V5XSkpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHVuaXRIYXNEZWNpbWFsID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlcmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAobVtvcmRlcmluZ1tpXV0pIHtcbiAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gb25seSBhbGxvdyBub24taW50ZWdlcnMgZm9yIHNtYWxsZXN0IHVuaXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgdW5pdEhhc0RlY2ltYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQkMSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW52YWxpZCQxKCkge1xuICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbihOYU4pO1xufVxuXG5mdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgbm9ybWFsaXplZElucHV0ID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoZHVyYXRpb24pLFxuICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG4gICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgbW9udGhzID0gbm9ybWFsaXplZElucHV0Lm1vbnRoIHx8IDAsXG4gICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgMCxcbiAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgaG91cnMgPSBub3JtYWxpemVkSW5wdXQuaG91ciB8fCAwLFxuICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICBtaWxsaXNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQubWlsbGlzZWNvbmQgfHwgMDtcblxuICAgIHRoaXMuX2lzVmFsaWQgPSBpc0R1cmF0aW9uVmFsaWQobm9ybWFsaXplZElucHV0KTtcblxuICAgIC8vIHJlcHJlc2VudGF0aW9uIGZvciBkYXRlQWRkUmVtb3ZlXG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgIG1pbnV0ZXMgKiA2ZTQgKyAvLyAxMDAwICogNjBcbiAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG4gICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgLy8gZGF5IHdoZW4gd29ya2luZyBhcm91bmQgRFNULCB3ZSBuZWVkIHRvIHN0b3JlIHRoZW0gc2VwYXJhdGVseVxuICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG4gICAgICAgIHdlZWtzICogNztcbiAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRvIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG4gICAgLy8gaXQgc2VwYXJhdGVseS5cbiAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICtcbiAgICAgICAgcXVhcnRlcnMgKiAzICtcbiAgICAgICAgeWVhcnMgKiAxMjtcblxuICAgIHRoaXMuX2RhdGEgPSB7fTtcblxuICAgIHRoaXMuX2xvY2FsZSA9IGdldExvY2FsZSgpO1xuXG4gICAgdGhpcy5fYnViYmxlKCk7XG59XG5cbmZ1bmN0aW9uIGlzRHVyYXRpb24gKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbn1cblxuZnVuY3Rpb24gYWJzUm91bmQgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKC0xICogbnVtYmVyKSAqIC0xO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgfVxufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikge1xuICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICB2YXIgc2lnbiA9ICcrJztcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICBzaWduID0gJy0nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgfSk7XG59XG5cbm9mZnNldCgnWicsICc6Jyk7XG5vZmZzZXQoJ1paJywgJycpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUGFyc2VUb2tlbihbJ1onLCAnWlonXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyB0aW1lem9uZSBjaHVua2VyXG4vLyAnKzEwOjAwJyA+IFsnMTAnLCAgJzAwJ11cbi8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxudmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG5mdW5jdGlvbiBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoZXIsIHN0cmluZykge1xuICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cbiAgICBpZiAobWF0Y2hlcyA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgY2h1bmsgICA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXSB8fCBbXTtcbiAgICB2YXIgcGFydHMgICA9IChjaHVuayArICcnKS5tYXRjaChjaHVua09mZnNldCkgfHwgWyctJywgMCwgMF07XG4gICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgcmV0dXJuIG1pbnV0ZXMgPT09IDAgP1xuICAgICAgMCA6XG4gICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xufVxuXG4vLyBSZXR1cm4gYSBtb21lbnQgZnJvbSBpbnB1dCwgdGhhdCBpcyBsb2NhbC91dGMvem9uZSBlcXVpdmFsZW50IHRvIG1vZGVsLlxuZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgIHZhciByZXMsIGRpZmY7XG4gICAgaWYgKG1vZGVsLl9pc1VUQykge1xuICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICBkaWZmID0gKGlzTW9tZW50KGlucHV0KSB8fCBpc0RhdGUoaW5wdXQpID8gaW5wdXQudmFsdWVPZigpIDogY3JlYXRlTG9jYWwoaW5wdXQpLnZhbHVlT2YoKSkgLSByZXMudmFsdWVPZigpO1xuICAgICAgICAvLyBVc2UgbG93LWxldmVsIGFwaSwgYmVjYXVzZSB0aGlzIGZuIGlzIGxvdy1sZXZlbCBhcGkuXG4gICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHJlcywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERhdGVPZmZzZXQgKG0pIHtcbiAgICAvLyBPbiBGaXJlZm94LjI0IERhdGUjZ2V0VGltZXpvbmVPZmZzZXQgcmV0dXJucyBhIGZsb2F0aW5nIHBvaW50LlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNSkgKiAxNTtcbn1cblxuLy8gSE9PS1NcblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuLy8gSXQgaXMgaW50ZW5kZWQgdG8ga2VlcCB0aGUgb2Zmc2V0IGluIHN5bmMgd2l0aCB0aGUgdGltZXpvbmUuXG5ob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gTU9NRU5UU1xuXG4vLyBrZWVwTG9jYWxUaW1lID0gdHJ1ZSBtZWFucyBvbmx5IGNoYW5nZSB0aGUgdGltZXpvbmUsIHdpdGhvdXRcbi8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4vLyA1OjMxOjI2ICswMjAwIEl0IGlzIHBvc3NpYmxlIHRoYXQgNTozMToyNiBkb2Vzbid0IGV4aXN0IHdpdGggb2Zmc2V0XG4vLyArMDIwMCwgc28gd2UgYWRqdXN0IHRoZSB0aW1lIGFzIG5lZWRlZCwgdG8gYmUgdmFsaWQuXG4vL1xuLy8gS2VlcGluZyB0aGUgdGltZSBhY3R1YWxseSBhZGRzL3N1YnRyYWN0cyAob25lIGhvdXIpXG4vLyBmcm9tIHRoZSBhY3R1YWwgcmVwcmVzZW50ZWQgdGltZS4gVGhhdCBpcyB3aHkgd2UgY2FsbCB1cGRhdGVPZmZzZXRcbi8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbi8vIF9jaGFuZ2VJblByb2dyZXNzID09IHRydWUgY2FzZSwgdGhlbiB3ZSBoYXZlIHRvIGFkanVzdCwgYmVjYXVzZVxuLy8gdGhlcmUgaXMgbm8gc3VjaCB0aW1lIGluIHRoZSBnaXZlbiB0aW1lem9uZS5cbmZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUsIGtlZXBNaW51dGVzKSB7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICBsb2NhbEFkanVzdDtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNiAmJiAha2VlcE1pbnV0ZXMpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5faSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHRab25lID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaE9mZnNldCwgdGhpcy5faSk7XG4gICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCh0Wm9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlucHV0ID0gaW5wdXQgPyBjcmVhdGVMb2NhbChpbnB1dCkudXRjT2Zmc2V0KCkgOiAwO1xuXG4gICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQgKCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5faXNEU1RTaGlmdGVkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgIH1cblxuICAgIHZhciBjID0ge307XG5cbiAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgIGMgPSBwcmVwYXJlQ29uZmlnKGMpO1xuXG4gICAgaWYgKGMuX2EpIHtcbiAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gdGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgIGNvbXBhcmVBcnJheXMoYy5fYSwgb3RoZXIudG9BcnJheSgpKSA+IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbn1cblxuZnVuY3Rpb24gaXNMb2NhbCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0YyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG59XG5cbi8vIEFTUC5ORVQganNvbiBkYXRlIGZvcm1hdCByZWdleFxudmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtfFxcKyk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbi8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4vLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4vLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG52YXIgaXNvUmVnZXggPSAvXigtfFxcKyk/UCg/OihbLStdP1swLTksLl0qKVkpPyg/OihbLStdP1swLTksLl0qKU0pPyg/OihbLStdP1swLTksLl0qKVcpPyg/OihbLStdP1swLTksLl0qKUQpPyg/OlQoPzooWy0rXT9bMC05LC5dKilIKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHJldCxcbiAgICAgICAgZGlmZlJlcztcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAobWF0Y2hbMV0gPT09ICcrJykgPyAxIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuICAgICAgICAgICAgTSA6IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcbiAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICBkIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuICAgICAgICAgICAgaCA6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcbiAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICBzIDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJiAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pKSB7XG4gICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShjcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgY3JlYXRlTG9jYWwoZHVyYXRpb24udG8pKTtcblxuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5NID0gZGlmZlJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSAmJiBoYXNPd25Qcm9wKGlucHV0LCAnX2xvY2FsZScpKSB7XG4gICAgICAgIHJldC5fbG9jYWxlID0gaW5wdXQuX2xvY2FsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuXG5jcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcbmNyZWF0ZUR1cmF0aW9uLmludmFsaWQgPSBjcmVhdGVJbnZhbGlkJDE7XG5cbmZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcbiAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xufVxuXG5mdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cbiAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcbiAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgIC0tcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzO1xuICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgfVxuXG4gICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzLFxuICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgaWYgKG1vbnRocykge1xuICAgICAgICBzZXRNb250aChtb20sIGdldChtb20sICdNb250aCcpICsgbW9udGhzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAoZGF5cykge1xuICAgICAgICBzZXQkMShtb20sICdEYXRlJywgZ2V0KG1vbSwgJ0RhdGUnKSArIGRheXMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQobW9tLCBkYXlzIHx8IG1vbnRocyk7XG4gICAgfVxufVxuXG52YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG52YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbmZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcbn1cblxuZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG4gICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblxuICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG4gICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcbiAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgIGlucHV0TXM7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgdmFyIHRoYXQsXG4gICAgICAgIHpvbmVEZWx0YSxcbiAgICAgICAgZGVsdGEsIG91dHB1dDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAxMjsgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vbnRoJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpOyBicmVhaztcbiAgICAgICAgY2FzZSAncXVhcnRlcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDM7IGJyZWFrO1xuICAgICAgICBjYXNlICdzZWNvbmQnOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMWUzOyBicmVhazsgLy8gMTAwMFxuICAgICAgICBjYXNlICdtaW51dGUnOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gNmU0OyBicmVhazsgLy8gMTAwMCAqIDYwXG4gICAgICAgIGNhc2UgJ2hvdXInOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gMzZlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgIGNhc2UgJ2RheSc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA4NjRlNTsgYnJlYWs7IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3RcbiAgICAgICAgY2FzZSAnd2Vlayc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICBkZWZhdWx0OiBvdXRwdXQgPSB0aGlzIC0gdGhhdDtcbiAgICB9XG5cbiAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG59XG5cbmZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xuICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgfVxuXG4gICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xufVxuXG5ob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcbmhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbmZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG59XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nKGtlZXBPZmZzZXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdXRjID0ga2VlcE9mZnNldCAhPT0gdHJ1ZTtcbiAgICB2YXIgbSA9IHV0YyA/IHRoaXMuY2xvbmUoKS51dGMoKSA6IHRoaXM7XG4gICAgaWYgKG0ueWVhcigpIDwgMCB8fCBtLnllYXIoKSA+IDk5OTkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCB1dGMgPyAnWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyA6ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJyk7XG4gICAgfVxuICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICBpZiAodXRjKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuX2QudmFsdWVPZigpKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1onLCBmb3JtYXRNb21lbnQobSwgJ1onKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdE1vbWVudChtLCB1dGMgPyAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScgOiAnWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuICpcbiAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gKi9cbmZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICB9XG4gICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICB2YXIgem9uZSA9ICcnO1xuICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcbiAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgIHpvbmUgPSAnWic7XG4gICAgfVxuICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgIHZhciB5ZWFyID0gKDAgPD0gdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG4vLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4vLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5mdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxudmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xufVxuXG5mdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgIH1cblxuICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICB9XG4gICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgIH1cblxuICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cbiAgICBpZiAodW5pdHMgPT09ICdkYXRlJykge1xuICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xufVxuXG5mdW5jdGlvbiB1bml4ICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKSAvIDEwMDApO1xufVxuXG5mdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkJDIgKCkge1xuICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbn1cblxuZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgfTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbn1cblxuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla3NUYXJnZXQ7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcbiAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbmFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbi8vIFBSSU9ST0lUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgLy8gVE9ETzogUmVtb3ZlIFwib3JkaW5hbFBhcnNlXCIgZmFsbGJhY2sgaW4gbmV4dCBtYWpvciByZWxlYXNlLlxuICAgIHJldHVybiBpc1N0cmljdCA/XG4gICAgICAobG9jYWxlLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlIHx8IGxvY2FsZS5fb3JkaW5hbFBhcnNlKSA6XG4gICAgICBsb2NhbGUuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50O1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydEJywgJ0REJ10sIERBVEUpO1xuYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdKTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5hZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG59KTtcblxuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cbnZhciB0b2tlbjtcbmZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xufVxuXG5mb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG59XG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xufVxuXG52YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG5wcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcbnByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbnByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG5wcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5wcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xucHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG5wcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5wcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5wcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xucHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcbnByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xucHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG5wcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5wcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xucHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG5wcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcbnByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbnByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG5wcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMjtcbnByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbnByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xucHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xucHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5wcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbnByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xucHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5wcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG5wcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xucHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xucHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbnByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xucHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbnByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbnByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xucHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbnByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbnByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcbnByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXG4vLyBZZWFyXG5wcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcbnByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuXG4vLyBXZWVrIFllYXJcbnByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG5wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4vLyBRdWFydGVyXG5wcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4vLyBNb250aFxucHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbnByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cbi8vIFdlZWtcbnByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbnByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbnByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4vLyBEYXlcbnByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xucHJvdG8uZGF5ICAgICAgICA9IHByb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG5wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xucHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbnByb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbi8vIEhvdXJcbnByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbi8vIE1pbnV0ZVxucHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuLy8gU2Vjb25kXG5wcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4vLyBNaWxsaXNlY29uZFxucHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuLy8gT2Zmc2V0XG5wcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcbnByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5wcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5wcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xucHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbnByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG5wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xucHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbnByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbi8vIFRpbWV6b25lXG5wcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xucHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblxuLy8gRGVwcmVjYXRpb25zXG5wcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5wcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcbnByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xucHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xucHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblxuZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbn1cblxuZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG52YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbnByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG5wcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xucHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbnByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbnByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbnByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcbnByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4vLyBNb250aFxucHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5wcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xucHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcbnByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbnByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXG4vLyBXZWVrXG5wcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xucHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xucHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXG4vLyBEYXkgb2YgV2Vla1xucHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcbnByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG5wcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5wcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbnByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbnByb3RvJDEud2Vla2RheXNNaW5SZWdleCAgICA9ICAgICAgICB3ZWVrZGF5c01pblJlZ2V4O1xuXG4vLyBIb3Vyc1xucHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbnByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG4gICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8vICgpXG4vLyAoNSlcbi8vIChmbXQsIDUpXG4vLyAoZm10KVxuLy8gKHRydWUpXG4vLyAodHJ1ZSwgNSlcbi8vICh0cnVlLCBmbXQsIDUpXG4vLyAodHJ1ZSwgZm10KVxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbn1cblxuZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcbiAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiAvXFxkezEsMn0odGh8c3R8bmR8cmQpLyxcbiAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwLFxuICAgICAgICAgICAgb3V0cHV0ID0gKHRvSW50KG51bWJlciAlIDEwMCAvIDEwKSA9PT0gMSkgPyAndGgnIDpcbiAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgKGIgPT09IDIpID8gJ25kJyA6XG4gICAgICAgICAgICAoYiA9PT0gMykgPyAncmQnIDogJ3RoJztcbiAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICB9XG59KTtcblxuLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuaG9va3MubGFuZ0RhdGEgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZURhdGEgaW5zdGVhZC4nLCBnZXRMb2NhbGUpO1xuXG52YXIgbWF0aEFicyA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiBhYnMgKCkge1xuICAgIHZhciBkYXRhICAgICAgICAgICA9IHRoaXMuX2RhdGE7XG5cbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICB0aGlzLl9tb250aHMgICAgICAgPSBtYXRoQWJzKHRoaXMuX21vbnRocyk7XG5cbiAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgZGF0YS5taW51dGVzICAgICAgID0gbWF0aEFicyhkYXRhLm1pbnV0ZXMpO1xuICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgZGF0YS55ZWFycyAgICAgICAgID0gbWF0aEFicyhkYXRhLnllYXJzKTtcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdCQxIChkdXJhdGlvbiwgaW5wdXQsIHZhbHVlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgb3RoZXIgPSBjcmVhdGVEdXJhdGlvbihpbnB1dCwgdmFsdWUpO1xuXG4gICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgIGR1cmF0aW9uLl9kYXlzICAgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX2RheXM7XG4gICAgZHVyYXRpb24uX21vbnRocyAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fbW9udGhzO1xuXG4gICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgYWRkKDEsICdzJykgb3IgYWRkKGR1cmF0aW9uKVxuZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgMSk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG5mdW5jdGlvbiBzdWJ0cmFjdCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIC0xKTtcbn1cblxuZnVuY3Rpb24gYWJzQ2VpbCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBidWJibGUgKCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgdmFyIGRheXMgICAgICAgICA9IHRoaXMuX2RheXM7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IHRoaXMuX21vbnRocztcbiAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICB2YXIgc2Vjb25kcywgbWludXRlcywgaG91cnMsIHllYXJzLCBtb250aHNGcm9tRGF5cztcblxuICAgIC8vIGlmIHdlIGhhdmUgYSBtaXggb2YgcG9zaXRpdmUgYW5kIG5lZ2F0aXZlIHZhbHVlcywgYnViYmxlIGRvd24gZmlyc3RcbiAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICBpZiAoISgobWlsbGlzZWNvbmRzID49IDAgJiYgZGF5cyA+PSAwICYmIG1vbnRocyA+PSAwKSB8fFxuICAgICAgICAgICAgKG1pbGxpc2Vjb25kcyA8PSAwICYmIGRheXMgPD0gMCAmJiBtb250aHMgPD0gMCkpKSB7XG4gICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgZGF5cyA9IDA7XG4gICAgICAgIG1vbnRocyA9IDA7XG4gICAgfVxuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGJ1YmJsZXMgdXAgdmFsdWVzLCBzZWUgdGhlIHRlc3RzIGZvclxuICAgIC8vIGV4YW1wbGVzIG9mIHdoYXQgdGhhdCBtZWFucy5cbiAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICBzZWNvbmRzICAgICAgICAgICA9IGFic0Zsb29yKG1pbGxpc2Vjb25kcyAvIDEwMDApO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgID0gc2Vjb25kcyAlIDYwO1xuXG4gICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGRhdGEubWludXRlcyAgICAgID0gbWludXRlcyAlIDYwO1xuXG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgIGRheXMgKz0gYWJzRmxvb3IoaG91cnMgLyAyNCk7XG5cbiAgICAvLyBjb252ZXJ0IGRheXMgdG8gbW9udGhzXG4gICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgIG1vbnRocyArPSBtb250aHNGcm9tRGF5cztcbiAgICBkYXlzIC09IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRoc0Zyb21EYXlzKSk7XG5cbiAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgeWVhcnMgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG4gICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgIGRhdGEubW9udGhzID0gbW9udGhzO1xuICAgIGRhdGEueWVhcnMgID0geWVhcnM7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZGF5c1RvTW9udGhzIChkYXlzKSB7XG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgIC8vIDQwMCB5ZWFycyBoYXZlIDEyIG1vbnRocyA9PT0gNDgwMFxuICAgIHJldHVybiBkYXlzICogNDgwMCAvIDE0NjA5Nztcbn1cblxuZnVuY3Rpb24gbW9udGhzVG9EYXlzIChtb250aHMpIHtcbiAgICAvLyB0aGUgcmV2ZXJzZSBvZiBkYXlzVG9Nb250aHNcbiAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbn1cblxuZnVuY3Rpb24gYXMgKHVuaXRzKSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICB2YXIgZGF5cztcbiAgICB2YXIgbW9udGhzO1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG4gICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICB9O1xufVxuXG52YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG52YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbnZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xudmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG52YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbnZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xudmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG52YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuZnVuY3Rpb24gY2xvbmUkMSAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBnZXQkMiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzW3VuaXRzICsgJ3MnXSgpIDogTmFOO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xuICAgIH07XG59XG5cbnZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbnZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG52YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xudmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG52YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xudmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xudmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbmZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbn1cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciB0aHJlc2hvbGRzID0ge1xuICAgIHNzOiA0NCwgICAgICAgICAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcbiAgICBzIDogNDUsICAgICAgICAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICBtIDogNDUsICAgICAgICAgLy8gbWludXRlcyB0byBob3VyXG4gICAgaCA6IDIyLCAgICAgICAgIC8vIGhvdXJzIHRvIGRheVxuICAgIGQgOiAyNiwgICAgICAgICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgTSA6IDExICAgICAgICAgIC8vIG1vbnRocyB0byB5ZWFyXG59O1xuXG4vLyBoZWxwZXIgZnVuY3Rpb24gZm9yIG1vbWVudC5mbi5mcm9tLCBtb21lbnQuZm4uZnJvbU5vdywgYW5kIG1vbWVudC5kdXJhdGlvbi5mbi5odW1hbml6ZVxuZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcbn1cblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lJDEgKHBvc05lZ0R1cmF0aW9uLCB3aXRob3V0U3VmZml4LCBsb2NhbGUpIHtcbiAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG4gICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgdmFyIG1pbnV0ZXMgID0gcm91bmQoZHVyYXRpb24uYXMoJ20nKSk7XG4gICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG4gICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgdmFyIG1vbnRocyAgID0gcm91bmQoZHVyYXRpb24uYXMoJ00nKSk7XG4gICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cbiAgICB2YXIgYSA9IHNlY29uZHMgPD0gdGhyZXNob2xkcy5zcyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgIHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgICAmJiBbJ3NzJywgc2Vjb25kc10gfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gICAmJiBbJ21tJywgbWludXRlc10gfHxcbiAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggICAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgICAmJiBbJ2QnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgICAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gICAmJiBbJ01NJywgbW9udGhzXSAgfHxcbiAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgIH1cbiAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICBpZiAodGhyZXNob2xkID09PSAncycpIHtcbiAgICAgICAgdGhyZXNob2xkcy5zcyA9IGxpbWl0IC0gMTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGh1bWFuaXplICh3aXRoU3VmZml4KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiBzaWduKHgpIHtcbiAgICByZXR1cm4gKCh4ID4gMCkgLSAoeCA8IDApKSB8fCAreDtcbn1cblxuZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcbiAgICAvLyBmb3IgSVNPIHN0cmluZ3Mgd2UgZG8gbm90IHVzZSB0aGUgbm9ybWFsIGJ1YmJsaW5nIHJ1bGVzOlxuICAgIC8vICAqIG1pbGxpc2Vjb25kcyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgaG91cnNcbiAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgLy8gICogbW9udGhzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSB5ZWFyc1xuICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGVyZSBpcyBubyBjb250ZXh0LWZyZWUgY29udmVyc2lvbiBiZXR3ZWVuIGhvdXJzIGFuZCBkYXlzXG4gICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgLy8gYW5kIGFsc28gbm90IGJldHdlZW4gZGF5cyBhbmQgbW9udGhzICgyOC0zMSBkYXlzIHBlciBtb250aClcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG4gICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgbWludXRlcyAlPSA2MDtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgIHZhciBZID0geWVhcnM7XG4gICAgdmFyIE0gPSBtb250aHM7XG4gICAgdmFyIEQgPSBkYXlzO1xuICAgIHZhciBoID0gaG91cnM7XG4gICAgdmFyIG0gPSBtaW51dGVzO1xuICAgIHZhciBzID0gc2Vjb25kcyA/IHNlY29uZHMudG9GaXhlZCgzKS5yZXBsYWNlKC9cXC4/MCskLywgJycpIDogJyc7XG4gICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBhcyBDIydzIChOb2RhKSBhbmQgcHl0aG9uIChpc29kYXRlKS4uLlxuICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgIHJldHVybiAnUDBEJztcbiAgICB9XG5cbiAgICB2YXIgdG90YWxTaWduID0gdG90YWwgPCAwID8gJy0nIDogJyc7XG4gICAgdmFyIHltU2lnbiA9IHNpZ24odGhpcy5fbW9udGhzKSAhPT0gc2lnbih0b3RhbCkgPyAnLScgOiAnJztcbiAgICB2YXIgZGF5c1NpZ24gPSBzaWduKHRoaXMuX2RheXMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuICAgIHZhciBobXNTaWduID0gc2lnbih0aGlzLl9taWxsaXNlY29uZHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuXG4gICAgcmV0dXJuIHRvdGFsU2lnbiArICdQJyArXG4gICAgICAgIChZID8geW1TaWduICsgWSArICdZJyA6ICcnKSArXG4gICAgICAgIChNID8geW1TaWduICsgTSArICdNJyA6ICcnKSArXG4gICAgICAgIChEID8gZGF5c1NpZ24gKyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAoaCA/IGhtc1NpZ24gKyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgKG0gPyBobXNTaWduICsgbSArICdNJyA6ICcnKSArXG4gICAgICAgIChzID8gaG1zU2lnbiArIHMgKyAnUycgOiAnJyk7XG59XG5cbnZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5wcm90byQyLmlzVmFsaWQgICAgICAgID0gaXNWYWxpZCQxO1xucHJvdG8kMi5hYnMgICAgICAgICAgICA9IGFicztcbnByb3RvJDIuYWRkICAgICAgICAgICAgPSBhZGQkMTtcbnByb3RvJDIuc3VidHJhY3QgICAgICAgPSBzdWJ0cmFjdCQxO1xucHJvdG8kMi5hcyAgICAgICAgICAgICA9IGFzO1xucHJvdG8kMi5hc01pbGxpc2Vjb25kcyA9IGFzTWlsbGlzZWNvbmRzO1xucHJvdG8kMi5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcbnByb3RvJDIuYXNNaW51dGVzICAgICAgPSBhc01pbnV0ZXM7XG5wcm90byQyLmFzSG91cnMgICAgICAgID0gYXNIb3VycztcbnByb3RvJDIuYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG5wcm90byQyLmFzV2Vla3MgICAgICAgID0gYXNXZWVrcztcbnByb3RvJDIuYXNNb250aHMgICAgICAgPSBhc01vbnRocztcbnByb3RvJDIuYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xucHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcbnByb3RvJDIuX2J1YmJsZSAgICAgICAgPSBidWJibGU7XG5wcm90byQyLmNsb25lICAgICAgICAgID0gY2xvbmUkMTtcbnByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xucHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xucHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5wcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xucHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xucHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xucHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5wcm90byQyLmxhbmcgPSBsYW5nO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xufSk7XG5hZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuaG9va3MudmVyc2lvbiA9ICcyLjIwLjEnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbmhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbmhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbmhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbmhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbmhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5ob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgID0gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmc7XG5ob29rcy5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQgPSBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5ob29rcy5jYWxlbmRhckZvcm1hdCAgICAgICAgPSBnZXRDYWxlbmRhckZvcm1hdDtcbmhvb2tzLnByb3RvdHlwZSAgICAgICAgICAgICA9IHByb3RvO1xuXG4vLyBjdXJyZW50bHkgSFRNTDUgaW5wdXQgdHlwZSBvbmx5IHN1cHBvcnRzIDI0LWhvdXIgZm9ybWF0c1xuaG9va3MuSFRNTDVfRk1UID0ge1xuICAgIERBVEVUSU1FX0xPQ0FMOiAnWVlZWS1NTS1ERFRISDptbScsICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiAvPlxuICAgIERBVEVUSU1FX0xPQ0FMX1NFQ09ORFM6ICdZWVlZLU1NLUREVEhIOm1tOnNzJywgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiBzdGVwPVwiMVwiIC8+XG4gICAgREFURVRJTUVfTE9DQUxfTVM6ICdZWVlZLU1NLUREVEhIOm1tOnNzLlNTUycsICAgLy8gPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIHN0ZXA9XCIwLjAwMVwiIC8+XG4gICAgREFURTogJ1lZWVktTU0tREQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5cbiAgICBUSU1FOiAnSEg6bW0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiAvPlxuICAgIFRJTUVfU0VDT05EUzogJ0hIOm1tOnNzJywgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwidGltZVwiIHN0ZXA9XCIxXCIgLz5cbiAgICBUSU1FX01TOiAnSEg6bW06c3MuU1NTJywgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgIFdFRUs6ICdZWVlZLVtXXVdXJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwid2Vla1wiIC8+XG4gICAgTU9OVEg6ICdZWVlZLU1NJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJtb250aFwiIC8+XG59O1xuXG5yZXR1cm4gaG9va3M7XG5cbn0pKSk7XG4iLCIvKiFcbiAqIFBpa2FkYXlcbiAqXG4gKiBDb3B5cmlnaHQgwqkgMjAxNCBEYXZpZCBCdXNoZWxsIHwgQlNEICYgTUlUIGxpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vZGJ1c2hlbGwvUGlrYWRheVxuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSlcbntcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbW9tZW50O1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gQ29tbW9uSlMgbW9kdWxlXG4gICAgICAgIC8vIExvYWQgbW9tZW50LmpzIGFzIGFuIG9wdGlvbmFsIGRlcGVuZGVuY3lcbiAgICAgICAgdHJ5IHsgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7IH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShtb21lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uIChyZXEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExvYWQgbW9tZW50LmpzIGFzIGFuIG9wdGlvbmFsIGRlcGVuZGVuY3lcbiAgICAgICAgICAgIHZhciBpZCA9ICdtb21lbnQnO1xuICAgICAgICAgICAgdHJ5IHsgbW9tZW50ID0gcmVxKGlkKTsgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KG1vbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuUGlrYWRheSA9IGZhY3Rvcnkocm9vdC5tb21lbnQpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKG1vbWVudClcbntcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBmZWF0dXJlIGRldGVjdGlvbiBhbmQgaGVscGVyIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIHZhciBoYXNNb21lbnQgPSB0eXBlb2YgbW9tZW50ID09PSAnZnVuY3Rpb24nLFxuXG4gICAgaGFzRXZlbnRMaXN0ZW5lcnMgPSAhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLFxuXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG5cbiAgICBzdG8gPSB3aW5kb3cuc2V0VGltZW91dCxcblxuICAgIGFkZEV2ZW50ID0gZnVuY3Rpb24oZWwsIGUsIGNhbGxiYWNrLCBjYXB0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKGhhc0V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGNhbGxiYWNrLCAhIWNhcHR1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudCA9IGZ1bmN0aW9uKGVsLCBlLCBjYWxsYmFjaywgY2FwdHVyZSlcbiAgICB7XG4gICAgICAgIGlmIChoYXNFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBjYWxsYmFjaywgISFjYXB0dXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdHJpbSA9IGZ1bmN0aW9uKHN0cilcbiAgICB7XG4gICAgICAgIHJldHVybiBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywnJyk7XG4gICAgfSxcblxuICAgIGhhc0NsYXNzID0gZnVuY3Rpb24oZWwsIGNuKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY24gKyAnICcpICE9PSAtMTtcbiAgICB9LFxuXG4gICAgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY24pXG4gICAge1xuICAgICAgICBpZiAoIWhhc0NsYXNzKGVsLCBjbikpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IChlbC5jbGFzc05hbWUgPT09ICcnKSA/IGNuIDogZWwuY2xhc3NOYW1lICsgJyAnICsgY247XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY24pXG4gICAge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSB0cmltKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoJyAnICsgY24gKyAnICcsICcgJykpO1xuICAgIH0sXG5cbiAgICBpc0FycmF5ID0gZnVuY3Rpb24ob2JqKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgvQXJyYXkvKS50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKTtcbiAgICB9LFxuXG4gICAgaXNEYXRlID0gZnVuY3Rpb24ob2JqKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgvRGF0ZS8pLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpICYmICFpc05hTihvYmouZ2V0VGltZSgpKTtcbiAgICB9LFxuXG4gICAgaXNXZWVrZW5kID0gZnVuY3Rpb24oZGF0ZSlcbiAgICB7XG4gICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICAgICAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcbiAgICB9LFxuXG4gICAgaXNMZWFwWWVhciA9IGZ1bmN0aW9uKHllYXIpXG4gICAge1xuICAgICAgICAvLyBzb2x1dGlvbiBieSBNYXR0aSBWaXJra3VuZW46IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4ODE5NTFcbiAgICAgICAgcmV0dXJuIHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9LFxuXG4gICAgZ2V0RGF5c0luTW9udGggPSBmdW5jdGlvbih5ZWFyLCBtb250aClcbiAgICB7XG4gICAgICAgIHJldHVybiBbMzEsIGlzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bbW9udGhdO1xuICAgIH0sXG5cbiAgICBzZXRUb1N0YXJ0T2ZEYXkgPSBmdW5jdGlvbihkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKGlzRGF0ZShkYXRlKSkgZGF0ZS5zZXRIb3VycygwLDAsMCwwKTtcbiAgICB9LFxuXG4gICAgY29tcGFyZURhdGVzID0gZnVuY3Rpb24oYSxiKVxuICAgIHtcbiAgICAgICAgLy8gd2VhayBkYXRlIGNvbXBhcmlzb24gKHVzZSBzZXRUb1N0YXJ0T2ZEYXkoZGF0ZSkgdG8gZW5zdXJlIGNvcnJlY3QgcmVzdWx0KVxuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xuICAgIH0sXG5cbiAgICBleHRlbmQgPSBmdW5jdGlvbih0bywgZnJvbSwgb3ZlcndyaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3AsIGhhc1Byb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBmcm9tKSB7XG4gICAgICAgICAgICBoYXNQcm9wID0gdG9bcHJvcF0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChoYXNQcm9wICYmIHR5cGVvZiBmcm9tW3Byb3BdID09PSAnb2JqZWN0JyAmJiBmcm9tW3Byb3BdICE9PSBudWxsICYmIGZyb21bcHJvcF0ubm9kZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUoZnJvbVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSBuZXcgRGF0ZShmcm9tW3Byb3BdLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShmcm9tW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGZyb21bcHJvcF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGV4dGVuZCh7fSwgZnJvbVtwcm9wXSwgb3ZlcndyaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJ3cml0ZSB8fCAhaGFzUHJvcCkge1xuICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG87XG4gICAgfSxcblxuICAgIGZpcmVFdmVudCA9IGZ1bmN0aW9uKGVsLCBldmVudE5hbWUsIGRhdGEpXG4gICAge1xuICAgICAgICB2YXIgZXY7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG4gICAgICAgICAgICBldi5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICBldiA9IGV4dGVuZChldiwgZGF0YSk7XG4gICAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuICAgICAgICAgICAgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICAgICAgZXYgPSBleHRlbmQoZXYsIGRhdGEpO1xuICAgICAgICAgICAgZWwuZmlyZUV2ZW50KCdvbicgKyBldmVudE5hbWUsIGV2KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGp1c3RDYWxlbmRhciA9IGZ1bmN0aW9uKGNhbGVuZGFyKSB7XG4gICAgICAgIGlmIChjYWxlbmRhci5tb250aCA8IDApIHtcbiAgICAgICAgICAgIGNhbGVuZGFyLnllYXIgLT0gTWF0aC5jZWlsKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKS8xMik7XG4gICAgICAgICAgICBjYWxlbmRhci5tb250aCArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsZW5kYXIubW9udGggPiAxMSkge1xuICAgICAgICAgICAgY2FsZW5kYXIueWVhciArPSBNYXRoLmZsb29yKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKS8xMik7XG4gICAgICAgICAgICBjYWxlbmRhci5tb250aCAtPSAxMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsZW5kYXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlZmF1bHRzIGFuZCBsb2NhbGlzYXRpb25cbiAgICAgKi9cbiAgICBkZWZhdWx0cyA9IHtcblxuICAgICAgICAvLyBiaW5kIHRoZSBwaWNrZXIgdG8gYSBmb3JtIGZpZWxkXG4gICAgICAgIGZpZWxkOiBudWxsLFxuXG4gICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2hvdy9oaWRlIHRoZSBwaWNrZXIgb24gYGZpZWxkYCBmb2N1cyAoZGVmYXVsdCBgdHJ1ZWAgaWYgYGZpZWxkYCBpcyBzZXQpXG4gICAgICAgIGJvdW5kOiB1bmRlZmluZWQsXG5cbiAgICAgICAgLy8gcG9zaXRpb24gb2YgdGhlIGRhdGVwaWNrZXIsIHJlbGF0aXZlIHRvIHRoZSBmaWVsZCAoZGVmYXVsdCB0byBib3R0b20gJiBsZWZ0KVxuICAgICAgICAvLyAoJ2JvdHRvbScgJiAnbGVmdCcga2V5d29yZHMgYXJlIG5vdCB1c2VkLCAndG9wJyAmICdyaWdodCcgYXJlIG1vZGlmaWVyIG9uIHRoZSBib3R0b20vbGVmdCBwb3NpdGlvbilcbiAgICAgICAgcG9zaXRpb246ICdib3R0b20gbGVmdCcsXG5cbiAgICAgICAgLy8gYXV0b21hdGljYWxseSBmaXQgaW4gdGhlIHZpZXdwb3J0IGV2ZW4gaWYgaXQgbWVhbnMgcmVwb3NpdGlvbmluZyBmcm9tIHRoZSBwb3NpdGlvbiBvcHRpb25cbiAgICAgICAgcmVwb3NpdGlvbjogdHJ1ZSxcblxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBvdXRwdXQgZm9ybWF0IGZvciBgLnRvU3RyaW5nKClgIGFuZCBgZmllbGRgIHZhbHVlXG4gICAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuXG4gICAgICAgIC8vIHRoZSB0b1N0cmluZyBmdW5jdGlvbiB3aGljaCBnZXRzIHBhc3NlZCBhIGN1cnJlbnQgZGF0ZSBvYmplY3QgYW5kIGZvcm1hdFxuICAgICAgICAvLyBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICAgICAgICB0b1N0cmluZzogbnVsbCxcblxuICAgICAgICAvLyB1c2VkIHRvIGNyZWF0ZSBkYXRlIG9iamVjdCBmcm9tIGN1cnJlbnQgaW5wdXQgc3RyaW5nXG4gICAgICAgIHBhcnNlOiBudWxsLFxuXG4gICAgICAgIC8vIHRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZFxuICAgICAgICBkZWZhdWx0RGF0ZTogbnVsbCxcblxuICAgICAgICAvLyBtYWtlIHRoZSBgZGVmYXVsdERhdGVgIHRoZSBpbml0aWFsIHNlbGVjdGVkIHZhbHVlXG4gICAgICAgIHNldERlZmF1bHREYXRlOiBmYWxzZSxcblxuICAgICAgICAvLyBmaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKVxuICAgICAgICBmaXJzdERheTogMCxcblxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBmbGFnIGZvciBtb21lbnQncyBzdHJpY3QgZGF0ZSBwYXJzaW5nXG4gICAgICAgIGZvcm1hdFN0cmljdDogZmFsc2UsXG5cbiAgICAgICAgLy8gdGhlIG1pbmltdW0vZWFybGllc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICBtaW5EYXRlOiBudWxsLFxuICAgICAgICAvLyB0aGUgbWF4aW11bS9sYXRlc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICBtYXhEYXRlOiBudWxsLFxuXG4gICAgICAgIC8vIG51bWJlciBvZiB5ZWFycyBlaXRoZXIgc2lkZSwgb3IgYXJyYXkgb2YgdXBwZXIvbG93ZXIgcmFuZ2VcbiAgICAgICAgeWVhclJhbmdlOiAxMCxcblxuICAgICAgICAvLyBzaG93IHdlZWsgbnVtYmVycyBhdCBoZWFkIG9mIHJvd1xuICAgICAgICBzaG93V2Vla051bWJlcjogZmFsc2UsXG5cbiAgICAgICAgLy8gV2VlayBwaWNrZXIgbW9kZVxuICAgICAgICBwaWNrV2hvbGVXZWVrOiBmYWxzZSxcblxuICAgICAgICAvLyB1c2VkIGludGVybmFsbHkgKGRvbid0IGNvbmZpZyBvdXRzaWRlKVxuICAgICAgICBtaW5ZZWFyOiAwLFxuICAgICAgICBtYXhZZWFyOiA5OTk5LFxuICAgICAgICBtaW5Nb250aDogdW5kZWZpbmVkLFxuICAgICAgICBtYXhNb250aDogdW5kZWZpbmVkLFxuXG4gICAgICAgIHN0YXJ0UmFuZ2U6IG51bGwsXG4gICAgICAgIGVuZFJhbmdlOiBudWxsLFxuXG4gICAgICAgIGlzUlRMOiBmYWxzZSxcblxuICAgICAgICAvLyBBZGRpdGlvbmFsIHRleHQgdG8gYXBwZW5kIHRvIHRoZSB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICAgICAgICB5ZWFyU3VmZml4OiAnJyxcblxuICAgICAgICAvLyBSZW5kZXIgdGhlIG1vbnRoIGFmdGVyIHllYXIgaW4gdGhlIGNhbGVuZGFyIHRpdGxlXG4gICAgICAgIHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsXG5cbiAgICAgICAgLy8gUmVuZGVyIGRheXMgb2YgdGhlIGNhbGVuZGFyIGdyaWQgdGhhdCBmYWxsIGluIHRoZSBuZXh0IG9yIHByZXZpb3VzIG1vbnRoXG4gICAgICAgIHNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgICAgIC8vIEFsbG93cyB1c2VyIHRvIHNlbGVjdCBkYXlzIHRoYXQgZmFsbCBpbiB0aGUgbmV4dCBvciBwcmV2aW91cyBtb250aFxuICAgICAgICBlbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgICAgIC8vIGhvdyBtYW55IG1vbnRocyBhcmUgdmlzaWJsZVxuICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcblxuICAgICAgICAvLyB3aGVuIG51bWJlck9mTW9udGhzIGlzIHVzZWQsIHRoaXMgd2lsbCBoZWxwIHlvdSB0byBjaG9vc2Ugd2hlcmUgdGhlIG1haW4gY2FsZW5kYXIgd2lsbCBiZSAoZGVmYXVsdCBgbGVmdGAsIGNhbiBiZSBzZXQgdG8gYHJpZ2h0YClcbiAgICAgICAgLy8gb25seSB1c2VkIGZvciB0aGUgZmlyc3QgZGlzcGxheSBvciB3aGVuIGEgc2VsZWN0ZWQgZGF0ZSBpcyBub3QgdmlzaWJsZVxuICAgICAgICBtYWluQ2FsZW5kYXI6ICdsZWZ0JyxcblxuICAgICAgICAvLyBTcGVjaWZ5IGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBjYWxlbmRhciBpblxuICAgICAgICBjb250YWluZXI6IHVuZGVmaW5lZCxcblxuICAgICAgICAvLyBCbHVyIGZpZWxkIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZFxuICAgICAgICBibHVyRmllbGRPblNlbGVjdCA6IHRydWUsXG5cbiAgICAgICAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgcHJldmlvdXNNb250aCA6ICdQcmV2aW91cyBNb250aCcsXG4gICAgICAgICAgICBuZXh0TW9udGggICAgIDogJ05leHQgTW9udGgnLFxuICAgICAgICAgICAgbW9udGhzICAgICAgICA6IFsnSmFudWFyeScsJ0ZlYnJ1YXJ5JywnTWFyY2gnLCdBcHJpbCcsJ01heScsJ0p1bmUnLCdKdWx5JywnQXVndXN0JywnU2VwdGVtYmVyJywnT2N0b2JlcicsJ05vdmVtYmVyJywnRGVjZW1iZXInXSxcbiAgICAgICAgICAgIHdlZWtkYXlzICAgICAgOiBbJ1N1bmRheScsJ01vbmRheScsJ1R1ZXNkYXknLCdXZWRuZXNkYXknLCdUaHVyc2RheScsJ0ZyaWRheScsJ1NhdHVyZGF5J10sXG4gICAgICAgICAgICB3ZWVrZGF5c1Nob3J0IDogWydTdW4nLCdNb24nLCdUdWUnLCdXZWQnLCdUaHUnLCdGcmknLCdTYXQnXVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRoZW1lIENsYXNzbmFtZVxuICAgICAgICB0aGVtZTogbnVsbCxcblxuICAgICAgICAvLyBldmVudHMgYXJyYXlcbiAgICAgICAgZXZlbnRzOiBbXSxcblxuICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBvblNlbGVjdDogbnVsbCxcbiAgICAgICAgb25PcGVuOiBudWxsLFxuICAgICAgICBvbkNsb3NlOiBudWxsLFxuICAgICAgICBvbkRyYXc6IG51bGwsXG5cbiAgICAgICAgLy8gRW5hYmxlIGtleWJvYXJkIGlucHV0XG4gICAgICAgIGtleWJvYXJkSW5wdXQ6IHRydWVcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiB0ZW1wbGF0aW5nIGZ1bmN0aW9ucyB0byBhYnN0cmFjdCBIVE1MIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIHJlbmRlckRheU5hbWUgPSBmdW5jdGlvbihvcHRzLCBkYXksIGFiYnIpXG4gICAge1xuICAgICAgICBkYXkgKz0gb3B0cy5maXJzdERheTtcbiAgICAgICAgd2hpbGUgKGRheSA+PSA3KSB7XG4gICAgICAgICAgICBkYXkgLT0gNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c1Nob3J0W2RheV0gOiBvcHRzLmkxOG4ud2Vla2RheXNbZGF5XTtcbiAgICB9LFxuXG4gICAgcmVuZGVyRGF5ID0gZnVuY3Rpb24ob3B0cylcbiAgICB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgdmFyIGFyaWFTZWxlY3RlZCA9ICdmYWxzZSc7XG4gICAgICAgIGlmIChvcHRzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaCgnaXMtb3V0c2lkZS1jdXJyZW50LW1vbnRoJyk7XG5cbiAgICAgICAgICAgICAgICBpZighb3B0cy5lbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cImlzLWVtcHR5XCI+PC90ZD4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzVG9kYXkpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy10b2RheScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgYXJpYVNlbGVjdGVkID0gJ3RydWUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmhhc0V2ZW50KSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaGFzLWV2ZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNJblJhbmdlKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtaW5yYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXN0YXJ0cmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0VuZFJhbmdlKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtZW5kcmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzx0ZCBkYXRhLWRheT1cIicgKyBvcHRzLmRheSArICdcIiBjbGFzcz1cIicgKyBhcnIuam9pbignICcpICsgJ1wiIGFyaWEtc2VsZWN0ZWQ9XCInICsgYXJpYVNlbGVjdGVkICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInBpa2EtYnV0dG9uIHBpa2EtZGF5XCIgdHlwZT1cImJ1dHRvblwiICcgK1xuICAgICAgICAgICAgICAgICAgICAnZGF0YS1waWthLXllYXI9XCInICsgb3B0cy55ZWFyICsgJ1wiIGRhdGEtcGlrYS1tb250aD1cIicgKyBvcHRzLm1vbnRoICsgJ1wiIGRhdGEtcGlrYS1kYXk9XCInICsgb3B0cy5kYXkgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmRheSArXG4gICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICc8L3RkPic7XG4gICAgfSxcblxuICAgIHJlbmRlcldlZWsgPSBmdW5jdGlvbiAoZCwgbSwgeSkge1xuICAgICAgICAvLyBMaWZ0ZWQgZnJvbSBodHRwOi8vamF2YXNjcmlwdC5hYm91dC5jb20vbGlicmFyeS9ibHdlZWt5ZWFyLmh0bSwgbGlnaHRseSBtb2RpZmllZC5cbiAgICAgICAgdmFyIG9uZWphbiA9IG5ldyBEYXRlKHksIDAsIDEpLFxuICAgICAgICAgICAgd2Vla051bSA9IE1hdGguY2VpbCgoKChuZXcgRGF0ZSh5LCBtLCBkKSAtIG9uZWphbikgLyA4NjQwMDAwMCkgKyBvbmVqYW4uZ2V0RGF5KCkrMSkvNyk7XG4gICAgICAgIHJldHVybiAnPHRkIGNsYXNzPVwicGlrYS13ZWVrXCI+JyArIHdlZWtOdW0gKyAnPC90ZD4nO1xuICAgIH0sXG5cbiAgICByZW5kZXJSb3cgPSBmdW5jdGlvbihkYXlzLCBpc1JUTCwgcGlja1dob2xlV2VlaywgaXNSb3dTZWxlY3RlZClcbiAgICB7XG4gICAgICAgIHJldHVybiAnPHRyIGNsYXNzPVwicGlrYS1yb3cnICsgKHBpY2tXaG9sZVdlZWsgPyAnIHBpY2std2hvbGUtd2VlaycgOiAnJykgKyAoaXNSb3dTZWxlY3RlZCA/ICcgaXMtc2VsZWN0ZWQnIDogJycpICsgJ1wiPicgKyAoaXNSVEwgPyBkYXlzLnJldmVyc2UoKSA6IGRheXMpLmpvaW4oJycpICsgJzwvdHI+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyQm9keSA9IGZ1bmN0aW9uKHJvd3MpXG4gICAge1xuICAgICAgICByZXR1cm4gJzx0Ym9keT4nICsgcm93cy5qb2luKCcnKSArICc8L3Rib2R5Pic7XG4gICAgfSxcblxuICAgIHJlbmRlckhlYWQgPSBmdW5jdGlvbihvcHRzKVxuICAgIHtcbiAgICAgICAgdmFyIGksIGFyciA9IFtdO1xuICAgICAgICBpZiAob3B0cy5zaG93V2Vla051bWJlcikge1xuICAgICAgICAgICAgYXJyLnB1c2goJzx0aD48L3RoPicpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8dGggc2NvcGU9XCJjb2xcIj48YWJiciB0aXRsZT1cIicgKyByZW5kZXJEYXlOYW1lKG9wdHMsIGkpICsgJ1wiPicgKyByZW5kZXJEYXlOYW1lKG9wdHMsIGksIHRydWUpICsgJzwvYWJicj48L3RoPicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyVGl0bGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgYywgeWVhciwgbW9udGgsIHJlZlllYXIsIHJhbmRJZClcbiAgICB7XG4gICAgICAgIHZhciBpLCBqLCBhcnIsXG4gICAgICAgICAgICBvcHRzID0gaW5zdGFuY2UuX28sXG4gICAgICAgICAgICBpc01pblllYXIgPSB5ZWFyID09PSBvcHRzLm1pblllYXIsXG4gICAgICAgICAgICBpc01heFllYXIgPSB5ZWFyID09PSBvcHRzLm1heFllYXIsXG4gICAgICAgICAgICBodG1sID0gJzxkaXYgaWQ9XCInICsgcmFuZElkICsgJ1wiIGNsYXNzPVwicGlrYS10aXRsZVwiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+JyxcbiAgICAgICAgICAgIG1vbnRoSHRtbCxcbiAgICAgICAgICAgIHllYXJIdG1sLFxuICAgICAgICAgICAgcHJldiA9IHRydWUsXG4gICAgICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGFyciA9IFtdLCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArICh5ZWFyID09PSByZWZZZWFyID8gaSAtIGMgOiAxMiArIGkgLSBjKSArICdcIicgK1xuICAgICAgICAgICAgICAgIChpID09PSBtb250aCA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJzogJycpICtcbiAgICAgICAgICAgICAgICAoKGlzTWluWWVhciAmJiBpIDwgb3B0cy5taW5Nb250aCkgfHwgKGlzTWF4WWVhciAmJiBpID4gb3B0cy5tYXhNb250aCkgPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnKSArICc+JyArXG4gICAgICAgICAgICAgICAgb3B0cy5pMThuLm1vbnRoc1tpXSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbnRoSHRtbCA9ICc8ZGl2IGNsYXNzPVwicGlrYS1sYWJlbFwiPicgKyBvcHRzLmkxOG4ubW9udGhzW21vbnRoXSArICc8c2VsZWN0IGNsYXNzPVwicGlrYS1zZWxlY3QgcGlrYS1zZWxlY3QtbW9udGhcIiB0YWJpbmRleD1cIi0xXCI+JyArIGFyci5qb2luKCcnKSArICc8L3NlbGVjdD48L2Rpdj4nO1xuXG4gICAgICAgIGlmIChpc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgICAgICAgaSA9IG9wdHMueWVhclJhbmdlWzBdO1xuICAgICAgICAgICAgaiA9IG9wdHMueWVhclJhbmdlWzFdICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSB5ZWFyIC0gb3B0cy55ZWFyUmFuZ2U7XG4gICAgICAgICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoYXJyID0gW107IGkgPCBqICYmIGkgPD0gb3B0cy5tYXhZZWFyOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IG9wdHMubWluWWVhcikge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArIGkgKyAnXCInICsgKGkgPT09IHllYXIgPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIic6ICcnKSArICc+JyArIChpKSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5ZWFySHRtbCA9ICc8ZGl2IGNsYXNzPVwicGlrYS1sYWJlbFwiPicgKyB5ZWFyICsgb3B0cy55ZWFyU3VmZml4ICsgJzxzZWxlY3QgY2xhc3M9XCJwaWthLXNlbGVjdCBwaWthLXNlbGVjdC15ZWFyXCIgdGFiaW5kZXg9XCItMVwiPicgKyBhcnIuam9pbignJykgKyAnPC9zZWxlY3Q+PC9kaXY+JztcblxuICAgICAgICBpZiAob3B0cy5zaG93TW9udGhBZnRlclllYXIpIHtcbiAgICAgICAgICAgIGh0bWwgKz0geWVhckh0bWwgKyBtb250aEh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sICs9IG1vbnRoSHRtbCArIHllYXJIdG1sO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcbiAgICAgICAgICAgIHByZXYgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01heFllYXIgJiYgKG1vbnRoID09PSAxMSB8fCBvcHRzLm1heE1vbnRoIDw9IG1vbnRoKSkge1xuICAgICAgICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9XCJwaWthLXByZXYnICsgKHByZXYgPyAnJyA6ICcgaXMtZGlzYWJsZWQnKSArICdcIiB0eXBlPVwiYnV0dG9uXCI+JyArIG9wdHMuaTE4bi5wcmV2aW91c01vbnRoICsgJzwvYnV0dG9uPic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09IChpbnN0YW5jZS5fby5udW1iZXJPZk1vbnRocyAtIDEpICkge1xuICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz1cInBpa2EtbmV4dCcgKyAobmV4dCA/ICcnIDogJyBpcy1kaXNhYmxlZCcpICsgJ1wiIHR5cGU9XCJidXR0b25cIj4nICsgb3B0cy5pMThuLm5leHRNb250aCArICc8L2J1dHRvbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgfSxcblxuICAgIHJlbmRlclRhYmxlID0gZnVuY3Rpb24ob3B0cywgZGF0YSwgcmFuZElkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICc8dGFibGUgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2xhc3M9XCJwaWthLXRhYmxlXCIgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCInICsgcmFuZElkICsgJ1wiPicgKyByZW5kZXJIZWFkKG9wdHMpICsgcmVuZGVyQm9keShkYXRhKSArICc8L3RhYmxlPic7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUGlrYWRheSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIFBpa2FkYXkgPSBmdW5jdGlvbihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgb3B0cyA9IHNlbGYuY29uZmlnKG9wdGlvbnMpO1xuXG4gICAgICAgIHNlbGYuX29uTW91c2VEb3duID0gZnVuY3Rpb24oZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzZWxmLl92KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhhc0NsYXNzKHRhcmdldCwgJ2lzLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAncGlrYS1idXR0b24nKSAmJiAhaGFzQ2xhc3ModGFyZ2V0LCAnaXMtZW1wdHknKSAmJiAhaGFzQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUsICdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShuZXcgRGF0ZSh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpa2EteWVhcicpLCB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpa2EtbW9udGgnKSwgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1waWthLWRheScpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG8oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuYmx1ckZpZWxkT25TZWxlY3QgJiYgb3B0cy5maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtcHJldicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJldk1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtbmV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubmV4dE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyB0b3VjaCBldmVudCBwcmV2ZW50IG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbkNoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdC1tb250aCcpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5nb3RvTW9udGgodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2Etc2VsZWN0LXllYXInKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZ290b1llYXIodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbktleUNoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgaWYgKHNlbGYuaXNWaXNpYmxlKCkpIHtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChlLmtleUNvZGUpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGp1c3REYXRlKCdzdWJ0cmFjdCcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkanVzdERhdGUoJ3N1YnRyYWN0JywgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnYWRkJywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnYWRkJywgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dENoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRlO1xuXG4gICAgICAgICAgICBpZiAoZS5maXJlZEJ5ID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMucGFyc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gb3B0cy5wYXJzZShvcHRzLmZpZWxkLnZhbHVlLCBvcHRzLmZvcm1hdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc01vbWVudCkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQob3B0cy5maWVsZC52YWx1ZSwgb3B0cy5mb3JtYXQsIG9wdHMuZm9ybWF0U3RyaWN0KTtcbiAgICAgICAgICAgICAgICBkYXRlID0gKGRhdGUgJiYgZGF0ZS5pc1ZhbGlkKCkpID8gZGF0ZS50b0RhdGUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShvcHRzLmZpZWxkLnZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2VsZi5fdikge1xuICAgICAgICAgICAgICAgIHNlbGYuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuX29uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgc2VsZi5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dENsaWNrID0gZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLnNob3coKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbklucHV0Qmx1ciA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSUUgYWxsb3dzIHBpa2EgZGl2IHRvIGdhaW4gZm9jdXM7IGNhdGNoIGJsdXIgdGhlIGlucHV0IGZpZWxkXG4gICAgICAgICAgICB2YXIgcEVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3MocEVsLCAncGlrYS1zaW5nbGUnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKChwRWwgPSBwRWwucGFyZW50Tm9kZSkpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGYuX2MpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9iID0gc3RvKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLl9jID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25DbGljayA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgcEVsID0gdGFyZ2V0O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc0V2ZW50TGlzdGVuZXJzICYmIGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2Etc2VsZWN0JykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5vbmNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdvbmNoYW5nZScsICdyZXR1cm47Jyk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KHRhcmdldCwgJ2NoYW5nZScsIHNlbGYuX29uQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHBFbCwgJ3Bpa2Etc2luZ2xlJykgfHwgcEVsID09PSBvcHRzLnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICgocEVsID0gcEVsLnBhcmVudE5vZGUpKTtcbiAgICAgICAgICAgIGlmIChzZWxmLl92ICYmIHRhcmdldCAhPT0gb3B0cy50cmlnZ2VyICYmIHBFbCAhPT0gb3B0cy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWxmLmVsLmNsYXNzTmFtZSA9ICdwaWthLXNpbmdsZScgKyAob3B0cy5pc1JUTCA/ICcgaXMtcnRsJyA6ICcnKSArIChvcHRzLnRoZW1lID8gJyAnICsgb3B0cy50aGVtZSA6ICcnKTtcblxuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAnbW91c2Vkb3duJywgc2VsZi5fb25Nb3VzZURvd24sIHRydWUpO1xuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAndG91Y2hlbmQnLCBzZWxmLl9vbk1vdXNlRG93biwgdHJ1ZSk7XG4gICAgICAgIGFkZEV2ZW50KHNlbGYuZWwsICdjaGFuZ2UnLCBzZWxmLl9vbkNoYW5nZSk7XG5cbiAgICAgICAgaWYgKG9wdHMua2V5Ym9hcmRJbnB1dCkge1xuICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdrZXlkb3duJywgc2VsZi5fb25LZXlDaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIG9wdHMuY29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGYuZWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZWxmLmVsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0cy5maWVsZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLmVsLCBvcHRzLmZpZWxkLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZEV2ZW50KG9wdHMuZmllbGQsICdjaGFuZ2UnLCBzZWxmLl9vbklucHV0Q2hhbmdlKTtcblxuICAgICAgICAgICAgaWYgKCFvcHRzLmRlZmF1bHREYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc01vbWVudCAmJiBvcHRzLmZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMuZGVmYXVsdERhdGUgPSBtb21lbnQob3B0cy5maWVsZC52YWx1ZSwgb3B0cy5mb3JtYXQpLnRvRGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMuZGVmYXVsdERhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKG9wdHMuZmllbGQudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0cy5zZXREZWZhdWx0RGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmRGF0ZSA9IG9wdHMuZGVmYXVsdERhdGU7XG5cbiAgICAgICAgaWYgKGlzRGF0ZShkZWZEYXRlKSkge1xuICAgICAgICAgICAgaWYgKG9wdHMuc2V0RGVmYXVsdERhdGUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldERhdGUoZGVmRGF0ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuZ290b0RhdGUoZGVmRGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmdvdG9EYXRlKG5ldyBEYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgc2VsZi5lbC5jbGFzc05hbWUgKz0gJyBpcy1ib3VuZCc7XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLnRyaWdnZXIsICdjbGljaycsIHNlbGYuX29uSW5wdXRDbGljayk7XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLnRyaWdnZXIsICdmb2N1cycsIHNlbGYuX29uSW5wdXRGb2N1cyk7XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLnRyaWdnZXIsICdibHVyJywgc2VsZi5fb25JbnB1dEJsdXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBwdWJsaWMgUGlrYWRheSBBUElcbiAgICAgKi9cbiAgICBQaWthZGF5LnByb3RvdHlwZSA9IHtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb25maWd1cmUgZnVuY3Rpb25hbGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBmdW5jdGlvbihvcHRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX28pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvcHRzID0gZXh0ZW5kKHRoaXMuX28sIG9wdGlvbnMsIHRydWUpO1xuXG4gICAgICAgICAgICBvcHRzLmlzUlRMID0gISFvcHRzLmlzUlRMO1xuXG4gICAgICAgICAgICBvcHRzLmZpZWxkID0gKG9wdHMuZmllbGQgJiYgb3B0cy5maWVsZC5ub2RlTmFtZSkgPyBvcHRzLmZpZWxkIDogbnVsbDtcblxuICAgICAgICAgICAgb3B0cy50aGVtZSA9ICh0eXBlb2Ygb3B0cy50aGVtZSkgPT09ICdzdHJpbmcnICYmIG9wdHMudGhlbWUgPyBvcHRzLnRoZW1lIDogbnVsbDtcblxuICAgICAgICAgICAgb3B0cy5ib3VuZCA9ICEhKG9wdHMuYm91bmQgIT09IHVuZGVmaW5lZCA/IG9wdHMuZmllbGQgJiYgb3B0cy5ib3VuZCA6IG9wdHMuZmllbGQpO1xuXG4gICAgICAgICAgICBvcHRzLnRyaWdnZXIgPSAob3B0cy50cmlnZ2VyICYmIG9wdHMudHJpZ2dlci5ub2RlTmFtZSkgPyBvcHRzLnRyaWdnZXIgOiBvcHRzLmZpZWxkO1xuXG4gICAgICAgICAgICBvcHRzLmRpc2FibGVXZWVrZW5kcyA9ICEhb3B0cy5kaXNhYmxlV2Vla2VuZHM7XG5cbiAgICAgICAgICAgIG9wdHMuZGlzYWJsZURheUZuID0gKHR5cGVvZiBvcHRzLmRpc2FibGVEYXlGbikgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRpc2FibGVEYXlGbiA6IG51bGw7XG5cbiAgICAgICAgICAgIHZhciBub20gPSBwYXJzZUludChvcHRzLm51bWJlck9mTW9udGhzLCAxMCkgfHwgMTtcbiAgICAgICAgICAgIG9wdHMubnVtYmVyT2ZNb250aHMgPSBub20gPiA0ID8gNCA6IG5vbTtcblxuICAgICAgICAgICAgaWYgKCFpc0RhdGUob3B0cy5taW5EYXRlKSkge1xuICAgICAgICAgICAgICAgIG9wdHMubWluRGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0RhdGUob3B0cy5tYXhEYXRlKSkge1xuICAgICAgICAgICAgICAgIG9wdHMubWF4RGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChvcHRzLm1pbkRhdGUgJiYgb3B0cy5tYXhEYXRlKSAmJiBvcHRzLm1heERhdGUgPCBvcHRzLm1pbkRhdGUpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1heERhdGUgPSBvcHRzLm1pbkRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLm1pbkRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1pbkRhdGUob3B0cy5taW5EYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLm1heERhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1heERhdGUob3B0cy5tYXhEYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzQXJyYXkob3B0cy55ZWFyUmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZhbGxiYWNrID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMTA7XG4gICAgICAgICAgICAgICAgb3B0cy55ZWFyUmFuZ2VbMF0gPSBwYXJzZUludChvcHRzLnllYXJSYW5nZVswXSwgMTApIHx8IGZhbGxiYWNrO1xuICAgICAgICAgICAgICAgIG9wdHMueWVhclJhbmdlWzFdID0gcGFyc2VJbnQob3B0cy55ZWFyUmFuZ2VbMV0sIDEwKSB8fCBmYWxsYmFjaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0cy55ZWFyUmFuZ2UgPSBNYXRoLmFicyhwYXJzZUludChvcHRzLnllYXJSYW5nZSwgMTApKSB8fCBkZWZhdWx0cy55ZWFyUmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMueWVhclJhbmdlID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMueWVhclJhbmdlID0gMTAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybiBhIGZvcm1hdHRlZCBzdHJpbmcgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uICh1c2luZyBNb21lbnQuanMgaWYgYXZhaWxhYmxlKVxuICAgICAgICAgKi9cbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMuX28uZm9ybWF0O1xuICAgICAgICAgICAgaWYgKCFpc0RhdGUodGhpcy5fZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fby50b1N0cmluZykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fby50b1N0cmluZyh0aGlzLl9kLCBmb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc01vbWVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHRoaXMuX2QpLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2QudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybiBhIE1vbWVudC5qcyBvYmplY3Qgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIChpZiBhdmFpbGFibGUpXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNb21lbnQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGhhc01vbWVudCA/IG1vbWVudCh0aGlzLl9kKSA6IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0aGUgY3VycmVudCBzZWxlY3Rpb24gZnJvbSBhIE1vbWVudC5qcyBvYmplY3QgKGlmIGF2YWlsYWJsZSlcbiAgICAgICAgICovXG4gICAgICAgIHNldE1vbWVudDogZnVuY3Rpb24oZGF0ZSwgcHJldmVudE9uU2VsZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGFzTW9tZW50ICYmIG1vbWVudC5pc01vbWVudChkYXRlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkYXRlLnRvRGF0ZSgpLCBwcmV2ZW50T25TZWxlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gYSBEYXRlIG9iamVjdCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGdldERhdGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGlzRGF0ZSh0aGlzLl9kKSA/IG5ldyBEYXRlKHRoaXMuX2QuZ2V0VGltZSgpKSA6IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHNldERhdGU6IGZ1bmN0aW9uKGRhdGUsIHByZXZlbnRPblNlbGVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLmZpZWxkLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudCh0aGlzLl9vLmZpZWxkLCAnY2hhbmdlJywgeyBmaXJlZEJ5OiB0aGlzIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzRGF0ZShkYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1pbiA9IHRoaXMuX28ubWluRGF0ZSxcbiAgICAgICAgICAgICAgICBtYXggPSB0aGlzLl9vLm1heERhdGU7XG5cbiAgICAgICAgICAgIGlmIChpc0RhdGUobWluKSAmJiBkYXRlIDwgbWluKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1pbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG1heCkgJiYgZGF0ZSA+IG1heCkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBtYXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgICAgICAgICBzZXRUb1N0YXJ0T2ZEYXkodGhpcy5fZCk7XG4gICAgICAgICAgICB0aGlzLmdvdG9EYXRlKHRoaXMuX2QpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fby5maWVsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX28uZmllbGQudmFsdWUgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KHRoaXMuX28uZmllbGQsICdjaGFuZ2UnLCB7IGZpcmVkQnk6IHRoaXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXByZXZlbnRPblNlbGVjdCAmJiB0eXBlb2YgdGhpcy5fby5vblNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX28ub25TZWxlY3QuY2FsbCh0aGlzLCB0aGlzLmdldERhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ290b0RhdGU6IGZ1bmN0aW9uKGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdDYWxlbmRhciA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghaXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxlbmRhcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUodGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoLTFdLnllYXIsIHRoaXMuY2FsZW5kYXJzW3RoaXMuY2FsZW5kYXJzLmxlbmd0aC0xXS5tb250aCwgMSksXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVEYXRlID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBlbmQgb2YgdGhlIG1vbnRoXG4gICAgICAgICAgICAgICAgbGFzdFZpc2libGVEYXRlLnNldE1vbnRoKGxhc3RWaXNpYmxlRGF0ZS5nZXRNb250aCgpKzEpO1xuICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCktMSk7XG4gICAgICAgICAgICAgICAgbmV3Q2FsZW5kYXIgPSAodmlzaWJsZURhdGUgPCBmaXJzdFZpc2libGVEYXRlLmdldFRpbWUoKSB8fCBsYXN0VmlzaWJsZURhdGUuZ2V0VGltZSgpIDwgdmlzaWJsZURhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3Q2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFycyA9IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vLm1haW5DYWxlbmRhciA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCArPSAxIC0gdGhpcy5fby5udW1iZXJPZk1vbnRocztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRqdXN0RGF0ZTogZnVuY3Rpb24oc2lnbiwgZGF5cykge1xuXG4gICAgICAgICAgICB2YXIgZGF5ID0gdGhpcy5nZXREYXRlKCkgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gcGFyc2VJbnQoZGF5cykqMjQqNjAqNjAqMTAwMDtcblxuICAgICAgICAgICAgdmFyIG5ld0RheTtcblxuICAgICAgICAgICAgaWYgKHNpZ24gPT09ICdhZGQnKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF5ID0gbmV3IERhdGUoZGF5LnZhbHVlT2YoKSArIGRpZmZlcmVuY2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaWduID09PSAnc3VidHJhY3QnKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF5ID0gbmV3IERhdGUoZGF5LnZhbHVlT2YoKSAtIGRpZmZlcmVuY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldERhdGUobmV3RGF5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGp1c3RDYWxlbmRhcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0gPSBhZGp1c3RDYWxlbmRhcih0aGlzLmNhbGVuZGFyc1swXSk7XG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8IHRoaXMuX28ubnVtYmVyT2ZNb250aHM7IGMrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW2NdID0gYWRqdXN0Q2FsZW5kYXIoe1xuICAgICAgICAgICAgICAgICAgICBtb250aDogdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggKyBjLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiB0aGlzLmNhbGVuZGFyc1swXS55ZWFyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnb3RvVG9kYXk6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nb3RvRGF0ZShuZXcgRGF0ZSgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBtb250aCAoemVyby1pbmRleCwgZS5nLiAwOiBKYW51YXJ5KVxuICAgICAgICAgKi9cbiAgICAgICAgZ290b01vbnRoOiBmdW5jdGlvbihtb250aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFpc05hTihtb250aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBuZXh0TW9udGg6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgrKztcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJldk1vbnRoOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLS07XG4gICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGZ1bGwgeWVhciAoZS5nLiBcIjIwMTJcIilcbiAgICAgICAgICovXG4gICAgICAgIGdvdG9ZZWFyOiBmdW5jdGlvbih5ZWFyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHllYXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdGhlIG1pbkRhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNldE1pbkRhdGU6IGZ1bmN0aW9uKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBzZXRUb1N0YXJ0T2ZEYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluRGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluWWVhciAgPSB2YWx1ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluTW9udGggPSB2YWx1ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pbkRhdGUgPSBkZWZhdWx0cy5taW5EYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluWWVhciAgPSBkZWZhdWx0cy5taW5ZZWFyO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluTW9udGggPSBkZWZhdWx0cy5taW5Nb250aDtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLnN0YXJ0UmFuZ2UgPSBkZWZhdWx0cy5zdGFydFJhbmdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHRoZSBtYXhEYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZXRNYXhEYXRlOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgc2V0VG9TdGFydE9mRGF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heERhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heFllYXIgPSB2YWx1ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4TW9udGggPSB2YWx1ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heERhdGUgPSBkZWZhdWx0cy5tYXhEYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4WWVhciA9IGRlZmF1bHRzLm1heFllYXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhNb250aCA9IGRlZmF1bHRzLm1heE1vbnRoO1xuICAgICAgICAgICAgICAgIHRoaXMuX28uZW5kUmFuZ2UgPSBkZWZhdWx0cy5lbmRSYW5nZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U3RhcnRSYW5nZTogZnVuY3Rpb24odmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX28uc3RhcnRSYW5nZSA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEVuZFJhbmdlOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fby5lbmRSYW5nZSA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZWZyZXNoIHRoZSBIVE1MXG4gICAgICAgICAqL1xuICAgICAgICBkcmF3OiBmdW5jdGlvbihmb3JjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl92ICYmICFmb3JjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvcHRzID0gdGhpcy5fbyxcbiAgICAgICAgICAgICAgICBtaW5ZZWFyID0gb3B0cy5taW5ZZWFyLFxuICAgICAgICAgICAgICAgIG1heFllYXIgPSBvcHRzLm1heFllYXIsXG4gICAgICAgICAgICAgICAgbWluTW9udGggPSBvcHRzLm1pbk1vbnRoLFxuICAgICAgICAgICAgICAgIG1heE1vbnRoID0gb3B0cy5tYXhNb250aCxcbiAgICAgICAgICAgICAgICBodG1sID0gJycsXG4gICAgICAgICAgICAgICAgcmFuZElkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5feSA8PSBtaW5ZZWFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IG1pblllYXI7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihtaW5Nb250aCkgJiYgdGhpcy5fbSA8IG1pbk1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX20gPSBtaW5Nb250aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5feSA+PSBtYXhZZWFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IG1heFllYXI7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihtYXhNb250aCkgJiYgdGhpcy5fbSA+IG1heE1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX20gPSBtYXhNb250aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJhbmRJZCA9ICdwaWthLXRpdGxlLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMik7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgb3B0cy5udW1iZXJPZk1vbnRoczsgYysrKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInBpa2EtbGVuZGFyXCI+JyArIHJlbmRlclRpdGxlKHRoaXMsIGMsIHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLCB0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCByYW5kSWQpICsgdGhpcy5yZW5kZXIodGhpcy5jYWxlbmRhcnNbY10ueWVhciwgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsIHJhbmRJZCkgKyAnPC9kaXY+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgICAgICBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgICAgIGlmKG9wdHMuZmllbGQudHlwZSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy50cmlnZ2VyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vLm9uRHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX28ub25EcmF3KHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgICAgIC8vIGxldCB0aGUgc2NyZWVuIHJlYWRlciB1c2VyIGtub3cgdG8gdXNlIGFycm93IGtleXNcbiAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdVc2UgdGhlIGFycm93IGtleXMgdG8gcGljayBhIGRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBhZGp1c3RQb3NpdGlvbjogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZmllbGQsIHBFbCwgd2lkdGgsIGhlaWdodCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIHNjcm9sbFRvcCwgbGVmdCwgdG9wLCBjbGllbnRSZWN0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fby5jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICAgICAgICAgIGZpZWxkID0gdGhpcy5fby50cmlnZ2VyO1xuICAgICAgICAgICAgcEVsID0gZmllbGQ7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuZWwub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmVsLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50UmVjdCA9IGZpZWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgdG9wID0gY2xpZW50UmVjdC5ib3R0b20gKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxlZnQgPSBwRWwub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICB0b3AgID0gcEVsLm9mZnNldFRvcCArIHBFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgd2hpbGUoKHBFbCA9IHBFbC5vZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgKz0gcEVsLm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHRvcCAgKz0gcEVsLm9mZnNldFRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRlZmF1bHQgcG9zaXRpb24gaXMgYm90dG9tICYgbGVmdFxuICAgICAgICAgICAgaWYgKCh0aGlzLl9vLnJlcG9zaXRpb24gJiYgbGVmdCArIHdpZHRoID4gdmlld3BvcnRXaWR0aCkgfHxcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX28ucG9zaXRpb24uaW5kZXhPZigncmlnaHQnKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgLSB3aWR0aCArIGZpZWxkLm9mZnNldFdpZHRoID4gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGxlZnQgPSBsZWZ0IC0gd2lkdGggKyBmaWVsZC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGhpcy5fby5yZXBvc2l0aW9uICYmIHRvcCArIGhlaWdodCA+IHZpZXdwb3J0SGVpZ2h0ICsgc2Nyb2xsVG9wKSB8fFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fby5wb3NpdGlvbi5pbmRleE9mKCd0b3AnKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIHRvcCAtIGhlaWdodCAtIGZpZWxkLm9mZnNldEhlaWdodCA+IDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0b3AgPSB0b3AgLSBoZWlnaHQgLSBmaWVsZC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW5kZXIgSFRNTCBmb3IgYSBwYXJ0aWN1bGFyIG1vbnRoXG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHllYXIsIG1vbnRoLCByYW5kSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvcHRzICAgPSB0aGlzLl9vLFxuICAgICAgICAgICAgICAgIG5vdyAgICA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZGF5cyAgID0gZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpLFxuICAgICAgICAgICAgICAgIGJlZm9yZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICBkYXRhICAgPSBbXSxcbiAgICAgICAgICAgICAgICByb3cgICAgPSBbXTtcbiAgICAgICAgICAgIHNldFRvU3RhcnRPZkRheShub3cpO1xuICAgICAgICAgICAgaWYgKG9wdHMuZmlyc3REYXkgPiAwKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlIC09IG9wdHMuZmlyc3REYXk7XG4gICAgICAgICAgICAgICAgaWYgKGJlZm9yZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlICs9IDc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZXZpb3VzTW9udGggPSBtb250aCA9PT0gMCA/IDExIDogbW9udGggLSAxLFxuICAgICAgICAgICAgICAgIG5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IDAgOiBtb250aCArIDEsXG4gICAgICAgICAgICAgICAgeWVhck9mUHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyLFxuICAgICAgICAgICAgICAgIHllYXJPZk5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IHllYXIgKyAxIDogeWVhcixcbiAgICAgICAgICAgICAgICBkYXlzSW5QcmV2aW91c01vbnRoID0gZ2V0RGF5c0luTW9udGgoeWVhck9mUHJldmlvdXNNb250aCwgcHJldmlvdXNNb250aCk7XG4gICAgICAgICAgICB2YXIgY2VsbHMgPSBkYXlzICsgYmVmb3JlLFxuICAgICAgICAgICAgICAgIGFmdGVyID0gY2VsbHM7XG4gICAgICAgICAgICB3aGlsZShhZnRlciA+IDcpIHtcbiAgICAgICAgICAgICAgICBhZnRlciAtPSA3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2VsbHMgKz0gNyAtIGFmdGVyO1xuICAgICAgICAgICAgdmFyIGlzV2Vla1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgciA9IDA7IGkgPCBjZWxsczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSArIChpIC0gYmVmb3JlKSksXG4gICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBpc0RhdGUodGhpcy5fZCkgPyBjb21wYXJlRGF0ZXMoZGF5LCB0aGlzLl9kKSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpc1RvZGF5ID0gY29tcGFyZURhdGVzKGRheSwgbm93KSxcbiAgICAgICAgICAgICAgICAgICAgaGFzRXZlbnQgPSBvcHRzLmV2ZW50cy5pbmRleE9mKGRheS50b0RhdGVTdHJpbmcoKSkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpc0VtcHR5ID0gaSA8IGJlZm9yZSB8fCBpID49IChkYXlzICsgYmVmb3JlKSxcbiAgICAgICAgICAgICAgICAgICAgZGF5TnVtYmVyID0gMSArIChpIC0gYmVmb3JlKSxcbiAgICAgICAgICAgICAgICAgICAgbW9udGhOdW1iZXIgPSBtb250aCxcbiAgICAgICAgICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXIsXG4gICAgICAgICAgICAgICAgICAgIGlzU3RhcnRSYW5nZSA9IG9wdHMuc3RhcnRSYW5nZSAmJiBjb21wYXJlRGF0ZXMob3B0cy5zdGFydFJhbmdlLCBkYXkpLFxuICAgICAgICAgICAgICAgICAgICBpc0VuZFJhbmdlID0gb3B0cy5lbmRSYW5nZSAmJiBjb21wYXJlRGF0ZXMob3B0cy5lbmRSYW5nZSwgZGF5KSxcbiAgICAgICAgICAgICAgICAgICAgaXNJblJhbmdlID0gb3B0cy5zdGFydFJhbmdlICYmIG9wdHMuZW5kUmFuZ2UgJiYgb3B0cy5zdGFydFJhbmdlIDwgZGF5ICYmIGRheSA8IG9wdHMuZW5kUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSAob3B0cy5taW5EYXRlICYmIGRheSA8IG9wdHMubWluRGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcHRzLm1heERhdGUgJiYgZGF5ID4gb3B0cy5tYXhEYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wdHMuZGlzYWJsZVdlZWtlbmRzICYmIGlzV2Vla2VuZChkYXkpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wdHMuZGlzYWJsZURheUZuICYmIG9wdHMuZGlzYWJsZURheUZuKGRheSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBiZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU51bWJlciA9IGRheXNJblByZXZpb3VzTW9udGggKyBkYXlOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aE51bWJlciA9IHByZXZpb3VzTW9udGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mUHJldmlvdXNNb250aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU51bWJlciA9IGRheU51bWJlciAtIGRheXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aE51bWJlciA9IG5leHRNb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyT2ZOZXh0TW9udGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF5Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5OiBkYXlOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aDogbW9udGhOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXZlbnQ6IGhhc0V2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eTogaXNFbXB0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhcnRSYW5nZTogaXNTdGFydFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbmRSYW5nZTogaXNFbmRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5SYW5nZTogaXNJblJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogb3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2VsZWN0aW9uRGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBvcHRzLmVuYWJsZVNlbGVjdGlvbkRheXNJbk5leHRBbmRQcmV2aW91c01vbnRoc1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMucGlja1dob2xlV2VlayAmJiBpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzV2Vla1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByb3cucHVzaChyZW5kZXJEYXkoZGF5Q29uZmlnKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoKytyID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLnNob3dXZWVrTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cudW5zaGlmdChyZW5kZXJXZWVrKGkgLSBiZWZvcmUsIG1vbnRoLCB5ZWFyKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHJlbmRlclJvdyhyb3csIG9wdHMuaXNSVEwsIG9wdHMucGlja1dob2xlV2VlaywgaXNXZWVrU2VsZWN0ZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdjtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3YgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWwsICdpcy1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5ib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5fb25DbGljayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLm9uT3Blbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB2ID0gdGhpcy5fdjtcbiAgICAgICAgICAgIGlmICh2ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5wb3NpdGlvbiA9ICdzdGF0aWMnOyAvLyByZXNldFxuICAgICAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsLCAnaXMtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHRoaXMuX28ub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdBTUUgT1ZFUlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IHRoaXMuX287XG5cbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQodGhpcy5lbCwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICd0b3VjaGVuZCcsIHRoaXMuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZSk7XG4gICAgICAgICAgICBpZiAob3B0cy5rZXlib2FyZElucHV0KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlDaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudChvcHRzLmZpZWxkLCAnY2hhbmdlJywgdGhpcy5fb25JbnB1dENoYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQob3B0cy50cmlnZ2VyLCAnY2xpY2snLCB0aGlzLl9vbklucHV0Q2xpY2spO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudChvcHRzLnRyaWdnZXIsICdmb2N1cycsIHRoaXMuX29uSW5wdXRGb2N1cyk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KG9wdHMudHJpZ2dlciwgJ2JsdXInLCB0aGlzLl9vbklucHV0Qmx1cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHJldHVybiBQaWthZGF5O1xufSkpO1xuIl19\n"]}